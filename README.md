# Visual Bookmarks Tree (Local)

[![Version](https://img.shields.io/badge/version-0.1.5.0-blue.svg)](https://github.com/your-username/visual-bookmarks-local)
[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)
[![Chrome Extension](https://img.shields.io/badge/chrome-extension-brightgreen.svg)](https://developer.chrome.com/extensions)

A powerful Chrome extension for managing bookmarks in a visual tree structure with local SQLite storage and offline page saving capabilities.

## üåü Features

- **Tree Structure**: Organize bookmarks in hierarchical trees instead of flat lists
- **Multiple Trees**: Create and manage multiple bookmark trees for different projects
- **Local Storage**: SQLite database with WebAssembly for reliable local storage
- **Offline Saving**: Save web pages as MHTML files for offline access
- **Search & Filter**: Advanced search and level-based filtering
- **Tab Management**: Add single tabs or multiple selected tabs at once
- **Persistent UI State**: Remembers expanded nodes and view state across sessions
- **Modern UI**: Clean React-based interface with light/dark theme support
- **Data Export/Import**: Backup and restore your bookmark trees

## üöÄ Installation

### From Source

1. **Clone the repository**:
   ```bash
   git clone https://github.com/your-username/visual-bookmarks-local.git
   cd visual-bookmarks-local/extension
   ```

2. **Install dependencies**:
   ```bash
   npm install
   ```

3. **Build the extension**:
   ```bash
   npm run build
   ```

4. **Load in Chrome**:
   - Open `chrome://extensions/`
   - Enable "Developer mode"
   - Click "Load unpacked"
   - Select the `dist` folder

### Development Mode

```bash
npm run dev
```

This starts development mode with hot reload and automatic rebuilding.

## üìñ Usage

### Basic Operations

1. **Create a Tree**: Click the "+" button in the top bar
2. **Add Bookmarks**: Use the right panel to add current tab or selected tabs
3. **Organize**: Drag and drop nodes to reorganize your tree
4. **Search**: Use the search bar to find specific bookmarks
5. **Filter by Level**: Use level buttons to show/hide tree depths
6. **Offline Save**: Save web pages locally with the "+ –í –∫–æ—Ä–µ–Ω—å (–æ—Ñ–ª–∞–π–Ω)" button

### Advanced Features

- **Context Menus**: Right-click on tabs to add selected tabs to your trees
- **Panel View**: Click the "‚õ∂" button to open a larger management window
- **Export/Import**: Backup your data using JSON export/import
- **Theme Switching**: Choose between light, dark, or system theme

## üõ† Technical Stack

- **Frontend**: React 18.3.1 + TypeScript 5.5.4
- **Build Tool**: Vite 5.4.2
- **Database**: sql.js (SQLite + WebAssembly)
- **Chrome APIs**: Manifest V3
- **Styling**: CSS with CSS custom properties for theming

## üìÅ Project Structure

```
src/
‚îú‚îÄ‚îÄ background.ts          # Service worker for Chrome extension
‚îú‚îÄ‚îÄ models.ts             # TypeScript interfaces and types
‚îú‚îÄ‚îÄ popup/               # Main popup interface
‚îÇ   ‚îú‚îÄ‚îÄ App.tsx          # Main React component
‚îÇ   ‚îú‚îÄ‚îÄ Tree.tsx         # Tree visualization component
‚îÇ   ‚îú‚îÄ‚îÄ useTreeStates.ts # State management hook
‚îÇ   ‚îú‚îÄ‚îÄ popup.html       # Popup HTML template
‚îÇ   ‚îî‚îÄ‚îÄ popup.css        # Styling
‚îú‚îÄ‚îÄ panel/               # Large panel interface
‚îî‚îÄ‚îÄ shims/               # Browser compatibility shims
```

## üîß Development

### Prerequisites

- Node.js 16+ 
- npm or yarn
- Chrome/Chromium browser

### Available Scripts

- `npm run dev` - Start development with hot reload
- `npm run build` - Build production version
- `npm run pack` - Create distributable ZIP file
- `npm run copy-wasm` - Copy WebAssembly files

### Key Components

1. **Background Script** (`background.ts`): Handles Chrome API interactions
2. **Main App** (`App.tsx`): Core React application with tree management
3. **Tree Component** (`Tree.tsx`): Visual tree representation with drag-and-drop
4. **SQL Storage** (`sqlStorage.ts`): Database operations and state management
5. **State Management** (`useTreeStates.ts`): Persistent UI state across sessions

## ü§ù Contributing

1. Fork the repository
2. Create a feature branch: `git checkout -b feature/amazing-feature`
3. Commit your changes: `git commit -m 'Add amazing feature'`
4. Push to the branch: `git push origin feature/amazing-feature`
5. Open a Pull Request

## üìã Changelog

### v0.1.5.0
- Fixed tree node expansion conflicts with level filters
- Improved topbar layout with proper flexbox positioning
- Added persistent UI state management across tree switching
- Enhanced state persistence for expanded nodes and scroll position

### v0.1.4.x
- Initial implementation with React + TypeScript
- SQLite local storage integration
- Basic tree management functionality

## üìÑ License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## üôè Acknowledgments

- Built with [React](https://reactjs.org/)
- Powered by [sql.js](https://sql.js.org/) for local SQLite storage
- Uses [Vite](https://vitejs.dev/) for fast development and building
- Icons and design inspired by modern browser UX patterns

## üìû Support

If you encounter any issues or have questions:

1. Check the [Issues](https://github.com/your-username/visual-bookmarks-local/issues) page
2. Create a new issue with detailed description
3. Include browser version and extension version in bug reports

---

**Made with ‚ù§Ô∏è for better bookmark management**

---

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (Russian Technical Guide)

–ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –¥–æ—Å—Ç—É–ø–Ω–æ –≤ —Ñ–∞–π–ª–µ [TECHNICAL_GUIDE.md](TECHNICAL_GUIDE.md).

–ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –¥–æ—Å—Ç—É–ø–Ω–æ –≤ —Ñ–∞–π–ª–µ [TECHNICAL_GUIDE.md](TECHNICAL_GUIDE.md).

–ú—ã —Ä–∞–∑–æ–±—Ä–∞–ª–∏—Å—å:
‚Ä¢	—á—Ç–æ —Ç–∞–∫–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ,
‚Ä¢	–∫–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω –¥–≤–∏–∂–æ–∫ Chrome,
‚Ä¢	–∑–∞—á–µ–º –Ω—É–∂–µ–Ω –∏–º–µ–Ω–Ω–æ –Ω–∞—à –ø—Ä–æ–µ–∫—Ç.
‚ÄÉ
–ß–∞—Å—Ç—å II. –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π
________________________________________
–ì–ª–∞–≤–∞ 4. Node.js ‚Äî –∑–∞—á–µ–º –Ω—É–∂–µ–Ω –∏ –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–∑–Ω—É—Ç—Ä–∏
4.1. –ß—Ç–æ —Ç–∞–∫–æ–µ Node.js?
–ï—Å–ª–∏ —É–ø—Ä–æ—â–∞—Ç—å: Node.js ‚Äî —ç—Ç–æ —Å–ø–æ—Å–æ–± –∑–∞–ø—É—Å–∫–∞—Ç—å JavaScript –≤–Ω–µ –±—Ä–∞—É–∑–µ—Ä–∞.
–í –±—Ä–∞—É–∑–µ—Ä–µ JavaScript —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–Ω—É—Ç—Ä–∏ –¥–≤–∏–∂–∫–∞ V8 (—Ç–æ—Ç —Å–∞–º—ã–π, —á—Ç–æ –≤ Chrome). Node.js –±–µ—Ä—ë—Ç —ç—Ç–æ—Ç –¥–≤–∏–∂–æ–∫ –∏ ¬´—É–ø–∞–∫–æ–≤—ã–≤–∞–µ—Ç¬ª –µ–≥–æ –≤ –æ—Ç–¥–µ–ª—å–Ω—É—é –ø–ª–∞—Ç—Ñ–æ—Ä–º—É, –¥–æ–±–∞–≤–∏–≤ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –º–æ–¥—É–ª–∏ (—Ñ–∞–π–ª—ã, —Å–µ—Ç—å, –ø—Ä–æ—Ü–µ—Å—Å—ã).
–¢–æ –µ—Å—Ç—å Node.js –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç JavaScript –≤ —è–∑—ã–∫ –¥–ª—è —Å–µ—Ä–≤–µ—Ä–æ–≤, —É—Ç–∏–ª–∏—Ç –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ –¥–ª—è –∫–Ω–æ–ø–æ—á–µ–∫ –Ω–∞ —Å–∞–π—Ç–∞—Ö.
________________________________________
4.2. –ó–∞—á–µ–º Node.js –≤ –Ω–∞—à–µ–º –ø—Ä–æ–µ–∫—Ç–µ?
–ú—ã –∂–µ –ø–∏—à–µ–º —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –¥–ª—è Chrome, –∞ –Ω–µ —Å–µ—Ä–≤–µ—Ä, –≤–µ—Ä–Ω–æ?
–¢–∞–∫ –∑–∞—á–µ–º –Ω–∞–º Node.js?
–û—Ç–≤–µ—Ç: Node.js –Ω—É–∂–µ–Ω –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, —Å–±–æ—Ä–∫–∏ –∏ –º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.
1.	üì¶ –ú–µ–Ω–µ–¥–∂–µ—Ä –ø–∞–∫–µ—Ç–æ–≤ (npm)
Node.js –∏–¥—ë—Ç –≤–º–µ—Å—Ç–µ —Å npm (Node Package Manager).
–ò–º–µ–Ω–Ω–æ —á–µ—Ä–µ–∑ –Ω–µ–≥–æ –º—ã —Å—Ç–∞–≤–∏–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞ (React, Vite, TypeScript –∏ –¥—Ä.).
–ù–∞–ø—Ä–∏–º–µ—Ä:
npm install react
npm install typescript
npm install vite
–í—Å–µ –æ–Ω–∏ —Å–∫–∞—á–∏–≤–∞—é—Ç—Å—è –≤ –ø–∞–ø–∫—É node_modules –∏ –æ–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ package.json.
2.	üõ† –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
–ë—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–Ω–∏–º–∞–µ—Ç TypeScript (.ts, .tsx) –∏ –Ω–µ –ª—é–±–∏—Ç ¬´—Å—ã—Ä–æ–π¬ª —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π JavaScript (—Å –º–æ–¥—É–ª—è–º–∏, JSX –∏ –ø—Ä–æ—á–∏–º–∏ –Ω–æ–≤—à–µ—Å—Ç–≤–∞–º–∏).
–ü–æ—ç—Ç–æ–º—É Node.js –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∑–∞–ø—É—Å–∫–∞ Vite ‚Äî —Å–±–æ—Ä—â–∏–∫–∞, –∫–æ—Ç–æ—Ä—ã–π:
o	–∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç TypeScript ‚Üí JavaScript
o	—Å–æ–±–∏—Ä–∞–µ—Ç React JSX –≤ —á–∏—Å—Ç—ã–π JS
o	–æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç –∫–æ–¥
o	–∫–ª–∞–¥—ë—Ç –≥–æ—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã –≤ –ø–∞–ø–∫—É dist (–∫–æ—Ç–æ—Ä–∞—è —É–∂–µ –ø–æ–¥—Å–æ–≤—ã–≤–∞–µ—Ç—Å—è Chrome –∫–∞–∫ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ)
3.	‚öôÔ∏è –°–∫—Ä–∏–ø—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
–ß–µ—Ä–µ–∑ Node.js –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –∫–æ–º–∞–Ω–¥—ã –∏–∑ package.json:
"scripts": {
  "dev": "vite",
  "build": "vite build",
  "lint": "tsc --noEmit"
}
–≠—Ç–æ –º–∞–ª–µ–Ω—å–∫–∏–µ —è—Ä–ª—ã–∫–∏:
o	npm run dev ‚Üí —Å—Ç–∞—Ä—Ç—É–µ—Ç –ª–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
o	npm run build ‚Üí —Å–æ–±–∏—Ä–∞–µ—Ç –≥–æ—Ç–æ–≤—É—é –≤–µ—Ä—Å–∏—é —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
o	npm run lint ‚Üí –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–∏–ø—ã
________________________________________
4.3. –ö–∞–∫ Node.js —É—Å—Ç—Ä–æ–µ–Ω –≤–Ω—É—Ç—Ä–∏
–ß—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å, –ø–æ—á–µ–º—É Node.js —Ç–∞–∫ —É–¥–æ–±–µ–Ω, –Ω—É–∂–Ω–æ –≤–∑–≥–ª—è–Ω—É—Ç—å –Ω–∞ –µ–≥–æ ¬´–≤–Ω—É—Ç—Ä–µ–Ω–Ω–æ—Å—Ç–∏¬ª:
1.	V8
–í —Å–µ—Ä–¥—Ü–µ Node.js –ª–µ–∂–∏—Ç –¥–≤–∏–∂–æ–∫ V8 (–∏–∑ Chrome). –û–Ω –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç JS –ø—Ä—è–º–æ –≤ –º–∞—à–∏–Ω–Ω—ã–π –∫–æ–¥ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ.
2.	libuv
–≠—Ç–æ ¬´–≤—Ç–æ—Ä–æ–π –º–æ—Ç–æ—Ä—á–∏–∫¬ª. libuv –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å:
o	—Å–µ—Ç–µ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã
o	—Ñ–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É
o	—Ç–∞–π–º–µ—Ä—ã
o	–º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å –≤–Ω—É—Ç—Ä–∏
Node.js ¬´–∫–∞–∂–µ—Ç—Å—è¬ª –æ–¥–Ω–æ–ø–æ—Ç–æ—á–Ω—ã–º, –Ω–æ –≤–Ω—É—Ç—Ä–∏ libuv –∫—Ä—É—Ç–∏—Ç ¬´–ø—É–ª –ø–æ—Ç–æ–∫–æ–≤¬ª –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –≥–ª–∞–≤–Ω—ã–π —Ü–∏–∫–ª —Å–æ–±—ã—Ç–∏–π.
3.	Event Loop (—Ü–∏–∫–ª —Å–æ–±—ã—Ç–∏–π)
–≠—Ç–æ —Å–µ—Ä–¥—Ü–µ Node.js. –í—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–∞–∫:
o	—Ç—ã –≤—ã–∑—ã–≤–∞–µ—à—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–∏—Ç–∞–µ—à—å —Ñ–∞–π–ª)
o	Node.js –æ—Ç–¥–∞—ë—Ç –∑–∞–¥–∞—á—É –≤ libuv
o	—Ü–∏–∫–ª —Å–æ–±—ã—Ç–∏–π –∂–¥—ë—Ç, –ø–æ–∫–∞ –∑–∞–¥–∞—á–∞ –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è
o	–∫–æ–≥–¥–∞ –æ–Ω–∞ –≥–æ—Ç–æ–≤–∞, callback –ø–æ–ø–∞–¥–∞–µ—Ç –æ–±—Ä–∞—Ç–Ω–æ –≤ –æ—á–µ—Ä–µ–¥—å
–í –∏—Ç–æ–≥–µ Node.js –º–æ–∂–µ—Ç –æ–±—Å–ª—É–∂–∏–≤–∞—Ç—å —Å–æ—Ç–Ω–∏ –∑–∞–¥–∞—á –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ, –Ω–µ –±–ª–æ–∫–∏—Ä—É—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ.
________________________________________
4.4. Node.js –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ: —Å–≤—è–∑–∫–∞
–í–∞–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å: Node.js –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–Ω—É—Ç—Ä–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è Chrome.
–ö–æ–≥–¥–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —É–∂–µ –∑–∞–ø—É—â–µ–Ω–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ, –æ–Ω–æ –æ–±—â–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å Chrome APIs.
Node.js –Ω—É–∂–µ–Ω –Ω–∞ —ç—Ç–∞–ø–µ:
‚Ä¢	—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
‚Ä¢	—Å–±–æ—Ä–∫–∏
‚Ä¢	–ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–∏–ø–æ–≤
‚Ä¢	–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
–ü—Ä–∏–º–µ—Ä:
‚Ä¢	—Ç—ã –ø–∏—à–µ—à—å –∫–æ–¥ –≤ App.tsx (React+TypeScript)
‚Ä¢	Node.js —á–µ—Ä–µ–∑ Vite –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç —ç—Ç–æ –≤ ¬´–≥–æ–ª—ã–π JS¬ª
‚Ä¢	—Ä–µ–∑—É–ª—å—Ç–∞—Ç –∫–ª–∞–¥—ë—Ç—Å—è –≤ dist/
‚Ä¢	—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –≤ Chrome –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —É–∂–µ —ç—Ç–æ—Ç —Å–æ–±—Ä–∞–Ω–Ω—ã–π JS
________________________________________
4.5. –ü–æ—á–µ–º—É –±–µ–∑ Node.js –±—ã–ª–æ –±—ã —Ö—É–∂–µ?
–ï—Å–ª–∏ –±—ã –º—ã –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ Node.js –∏ –µ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã, –ø—Ä–∏—à–ª–æ—Å—å –±—ã:
‚Ä¢	–ø–∏—Å–∞—Ç—å –≤—Å—ë –Ω–∞ —á–∏—Å—Ç–æ–º JavaScript
‚Ä¢	–≤—Ä—É—á–Ω—É—é —Å–ª–µ–¥–∏—Ç—å –∑–∞ —Ç–∏–ø–∞–º–∏
‚Ä¢	—Å–∞–º–æ–º—É —Å–æ–±–∏—Ä–∞—Ç—å –∏ –º–∏–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥
‚Ä¢	–ø–æ–¥–∫–ª—é—á–∞—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ —á–µ—Ä–µ–∑ <script src=...>
–≠—Ç–æ –∫–∞–∫ —á–∏–Ω–∏—Ç—å –º–∞—à–∏–Ω—É –±–µ–∑ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤: –≤–æ–∑–º–æ–∂–Ω–æ, –Ω–æ –¥–æ–ª–≥–æ –∏ –º—É—á–∏—Ç–µ–ª—å–Ω–æ.
Node.js –¥–∞–ª –Ω–∞–º ¬´–º–æ—â–Ω—ã–π —è—â–∏–∫ —Å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏¬ª, —á—Ç–æ–±—ã —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —É–¥–æ–±–Ω–µ–µ –∏ –±—ã—Å—Ç—Ä–µ–µ.
________________________________________
4.6. –ö—Ä–∞—Ç–∫–∏–π –∏—Ç–æ–≥
‚Ä¢	Node.js ‚Äî —ç—Ç–æ ¬´—Å—Ä–µ–¥–∞ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è JS –≤–Ω–µ –±—Ä–∞—É–∑–µ—Ä–∞¬ª –Ω–∞ –±–∞–∑–µ V8.
‚Ä¢	–í –ø—Ä–æ–µ–∫—Ç–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –æ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–µ –≤–Ω—É—Ç—Ä–∏ –±—Ä–∞—É–∑–µ—Ä–∞, –∞ –¥–ª—è —Å–±–æ—Ä–∫–∏ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏.
‚Ä¢	–ì–ª–∞–≤–Ω—ã–µ —Ä–æ–ª–∏ Node.js –≤ –ø—Ä–æ–µ–∫—Ç–µ:
o	–∑–∞–ø—É—Å–∫ Vite
o	—É—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫ (React, TypeScript –∏ –ø—Ä.)
o	–ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ –∏ —Å–±–æ—Ä–∫–∞
‚Ä¢	–í–Ω—É—Ç—Ä–∏ Chrome —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å–æ–±—Ä–∞–Ω–Ω—ã–π JavaScript, –∞ –Ω–µ Node.js.
________________________________________
–≠—Ç–æ–π –≥–ª–∞–≤–æ–π –º—ã –∑–∞–∫—Ä—ã–ª–∏ –≤–æ–ø—Ä–æ—Å: ¬´–ó–∞—á–µ–º Node.js –≤ –Ω–∞—à–µ–º –ø—Ä–æ–µ–∫—Ç–µ –∏ –∫–∞–∫ –æ–Ω —É—Å—Ç—Ä–æ–µ–Ω¬ª.
–î–∞–ª—å—à–µ –ª–æ–≥–∏—á–Ω–æ –±—É–¥–µ—Ç –ø–µ—Ä–µ–π—Ç–∏ –∫ —Å–ª–µ–¥—É—é—â–µ–π –≥–ª–∞–≤–µ ‚Äî TypeScript (–∑–∞—á–µ–º .ts –∏ .tsx, –∫–∞–∫ –æ–Ω –ø–æ–º–æ–≥–∞–µ—Ç, —á—Ç–æ –¥–∞—ë—Ç —Ç–∏–ø–∏–∑–∞—Ü–∏—è).
‚ÄÉ
–ì–ª–∞–≤–∞ 5. TypeScript ‚Äî —Å—Ç—Ä–æ–≥–∏–π JavaScript
________________________________________
5.1. –ß—Ç–æ —Ç–∞–∫–æ–µ TypeScript?
–ï—Å–ª–∏ –∫—Ä–∞—Ç–∫–æ: TypeScript (TS) ‚Äî —ç—Ç–æ JavaScript —Å —Ç–∏–ø–∞–º–∏.
–û–±—ã—á–Ω—ã–π JS ‚Äî –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —è–∑—ã–∫:
let x = 10;
x = "—Å—Ç—Ä–æ–∫–∞"; // –∏ —ç—Ç–æ –Ω–µ –æ—à–∏–±–∫–∞!
TypeScript –¥–æ–±–∞–≤–ª—è–µ—Ç —Å—Ç—Ä–æ–≥—É—é —Å–∏—Å—Ç–µ–º—É —Ç–∏–ø–æ–≤:
let x: number = 10;
x = "—Å—Ç—Ä–æ–∫–∞"; // ‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
–ù–æ –≥–ª–∞–≤–Ω–æ–µ: TypeScript –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –≤ –æ–±—ã—á–Ω—ã–π JavaScript.
–ë—Ä–∞—É–∑–µ—Ä –Ω–µ —É–º–µ–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å .ts –∏ .tsx, –ø–æ—ç—Ç–æ–º—É –≤—Å—ë —ç—Ç–æ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç—Å—è (—á–µ—Ä–µ–∑ Node.js + Vite) –≤ ¬´—á–∏—Å—Ç—ã–π JS¬ª.
________________________________________
5.2. –ó–∞—á–µ–º TypeScript –Ω—É–∂–µ–Ω –≤ –ø—Ä–æ–µ–∫—Ç–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è?
–í –Ω–∞—à–µ–º —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–∏ –∫—É—á–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å API –±—Ä–∞—É–∑–µ—Ä–∞: –≤–∫–ª–∞–¥–∫–∏, –≥—Ä—É–ø–ø—ã –≤–∫–ª–∞–¥–æ–∫, —Å–æ–æ–±—â–µ–Ω–∏—è –º–µ–∂–¥—É –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏. –û—à–∏–±–∫–∏ –∑–¥–µ—Å—å —á–∞—Å—Ç–æ ¬´–≤—Å–ø–ª—ã–≤–∞—é—Ç¬ª —Ç–æ–ª—å–∫–æ –≤ —Ä–∞–Ω—Ç–∞–π–º–µ. TypeScript –ø–æ–º–æ–≥–∞–µ—Ç:
1.	–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—Ç—å –æ—à–∏–±–∫–∏ –µ—â—ë –Ω–∞ —ç—Ç–∞–ø–µ –Ω–∞–ø–∏—Å–∞–Ω–∏—è
chrome.tabs.query({ active: true }, (tabs) => {
  console.log(tabs[0].title.toUpperCase()); 
  // TS –ø–æ–¥—Å–∫–∞–∂–µ—Ç: title –º–æ–∂–µ—Ç –±—ã—Ç—å undefined!
});
2.	–ê–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä—è–º–æ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ
–ö–æ–≥–¥–∞ –º—ã –ø–∏—à–µ–º chrome.contextMenus.create(...), VS Code —Å—Ä–∞–∑—É –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –∏—Ö —Ç–∏–ø—ã.
3.	–ï–¥–∏–Ω—ã–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç –º–µ–∂–¥—É —á–∞—Å—Ç—è–º–∏ –∫–æ–¥–∞
–ù–∞–ø—Ä–∏–º–µ—Ä, –º—ã —à–ª—ë–º —Å–æ–æ–±—â–µ–Ω–∏–µ –∏–∑ background.ts –≤ App.tsx:
type MsgAddTabs = {
  type: "VB_BUFFER_SELECTED_TABS";
  batchId: string;
  tabs: SimpleTab[];
};
–¢–µ–ø–µ—Ä—å IDE –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ –º—ã —Ä–µ–∞–ª—å–Ω–æ –ø–µ—Ä–µ–¥–∞–ª–∏ –∏–º–µ–Ω–Ω–æ –º–∞—Å—Å–∏–≤ SimpleTab, –∞ –Ω–µ ¬´—á—Ç–æ-—Ç–æ –ø–æ—Ö–æ–∂–µ–µ¬ª.
4.	–ë–æ–ª—å—à–æ–π –ø—Ä–æ–µ–∫—Ç ‚Üí –ª–µ–≥–∫–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç—å
–ë–µ–∑ TS –ª—é–±–æ–µ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –∏–ª–∏ –ø–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–∫–∞ –º–æ–∂–µ—Ç –≤—Å—ë —Å–ª–æ–º–∞—Ç—å.
–° TS —Ä–µ–¥–∞–∫—Ç–æ—Ä —Å—Ä–∞–∑—É –ø–æ–¥—Å–≤–µ—Ç–∏—Ç, –≥–¥–µ —á—Ç–æ-—Ç–æ –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ.
________________________________________
5.3. .ts –∏ .tsx ‚Äî —á—Ç–æ –∑–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è?
‚Ä¢	.ts ‚Äî –æ–±—ã—á–Ω—ã–π TypeScript (–Ω–∞–ø—Ä–∏–º–µ—Ä, background.ts)
‚Ä¢	.tsx ‚Äî TypeScript + JSX (—Ç–æ –µ—Å—Ç—å —Ñ–∞–π–ª—ã —Å React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏)
JSX ‚Äî —ç—Ç–æ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –≤—Ä–æ–¥–µ HTML –ø—Ä—è–º–æ –≤ –∫–æ–¥–µ:
function Hello() {
  return <h1>–ü—Ä–∏–≤–µ—Ç!</h1>;
}
TypeScript –ø–æ–Ω–∏–º–∞–µ—Ç —ç—Ç–æ—Ç —Å–∏–Ω—Ç–∞–∫—Å–∏—Å, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ .tsx.
________________________________________
5.4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ TypeScript –≤ –ø—Ä–æ–µ–∫—Ç–µ
–í –∫–æ—Ä–Ω–µ –ø–∞–ø–∫–∏ extension —É –Ω–∞—Å –µ—Å—Ç—å —Ñ–∞–π–ª tsconfig.json. –≠—Ç–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞ TS.
–ü—Ä–∏–º–µ—Ä:
{
  "compilerOptions": {
    "target": "ESNext",          // –≤–æ —á—Ç–æ –∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å JS
    "module": "ESNext",          // –º–æ–¥—É–ª–∏ –≤ —Å—Ç–∏–ª–µ ES
    "jsx": "react-jsx",          // –ø–æ–¥–¥–µ—Ä–∂–∫–∞ JSX
    "strict": true,              // —Å—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è
    "esModuleInterop": true,     // –¥—Ä—É–∂–±–∞ —Å commonJS
    "forceConsistentCasingInFileNames": true,
    "skipLibCheck": true
  },
  "include": ["./src/**/*"]
}
–†–∞–∑–±–µ—Ä—ë–º –∫–ª—é—á–µ–≤—ã–µ:
‚Ä¢	"strict": true ‚Äî —Å—Ç—Ä–æ–≥–∏–π —Ä–µ–∂–∏–º, –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≤—Å—ë.
‚Ä¢	"jsx": "react-jsx" ‚Äî —á—Ç–æ–±—ã —Ñ–∞–π–ª—ã .tsx —Å–æ–±–∏—Ä–∞–ª–∏—Å—å –∫–∞–∫ React.
‚Ä¢	"esModuleInterop": true ‚Äî —É–ø—Ä–æ—â–∞–µ—Ç –∏–º–ø–æ—Ä—Ç —Å—Ç–∞—Ä—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫.
________________________________________
5.5. –ü—Ä–∏–º–µ—Ä –≤ –Ω–∞—à–µ–º –ø—Ä–æ–µ–∫—Ç–µ
–£ –Ω–∞—Å –µ—Å—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –≤–∫–ª–∞–¥–∫–∏:
export interface SimpleTab {
  id?: number;
  windowId?: number;
  title: string;
  url: string;
}
–¢–µ–ø–µ—Ä—å –≥–¥–µ —É–≥–æ–¥–Ω–æ –≤ –∫–æ–¥–µ –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ—Ç —Ç–∏–ø:
function addToInbox(tabs: SimpleTab[]) {
  for (const tab of tabs) {
    console.log(tab.url); // TS –∑–Ω–∞–µ—Ç, —á—Ç–æ url —Ç–æ—á–Ω–æ –µ—Å—Ç—å
  }
}
–ï—Å–ª–∏ —Å–ª—É—á–∞–π–Ω–æ –ø–æ–ø—ã—Ç–∞–µ–º—Å—è —Å–¥–µ–ª–∞—Ç—å:
addToInbox([{ foo: "bar" }]); // ‚ùå –û—à–∏–±–∫–∞
–ö–æ–º–ø–∏–ª—è—Ç–æ—Ä –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç –Ω–∞—Å –µ—â—ë –¥–æ –∑–∞–ø—É—Å–∫–∞.
________________________________________
5.6. –í —Å–≤—è–∑–∫–µ —Å React
React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ç–æ–∂–µ —Ç–∏–ø–∏–∑–∏—Ä—É—é—Ç—Å—è.
–ü—Ä–∏–º–µ—Ä –∏–∑ tree.tsx:
interface TreeNodeProps {
  id: string;
  title: string;
  children?: TreeNodeProps[];
}

const TreeNode: React.FC<TreeNodeProps> = ({ id, title, children }) => {
  return (
    <div>
      <span>{title}</span>
      {children && children.map((c) => <TreeNode key={c.id} {...c} />)}
    </div>
  );
};
TypeScript –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç:
‚Ä¢	—É –∫–∞–∂–¥–æ–≥–æ —É–∑–ª–∞ –µ—Å—Ç—å id –∏ title
‚Ä¢	children –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º, –Ω–æ –µ—Å–ª–∏ –µ—Å—Ç—å ‚Äî —ç—Ç–æ –º–∞—Å—Å–∏–≤ TreeNodeProps
–≠—Ç–æ —Å–ø–∞—Å–∞–µ—Ç –æ—Ç –∫—É—á–∏ –±–∞–≥–æ–≤, –∫–æ–≥–¥–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Å–ª–æ–∂–Ω–æ–π.
________________________________________
5.7. –ò—Ç–æ–≥
‚Ä¢	TypeScript = JavaScript + —Å—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è
‚Ä¢	–í –ø—Ä–æ–µ–∫—Ç–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –æ–Ω –Ω—É–∂–µ–Ω, —á—Ç–æ–±—ã:
o	–ª–æ–≤–∏—Ç—å –æ—à–∏–±–∫–∏ –Ω–∞ —ç—Ç–∞–ø–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
o	–∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω—è—Ç—å –∫–æ–¥ –≤ VS Code
o	–æ–ø–∏—Å—ã–≤–∞—Ç—å –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã (—Ç–∏–ø—ã —Å–æ–æ–±—â–µ–Ω–∏–π, —Å—Ç—Ä—É–∫—Ç—É—Ä—É –≤–∫–ª–∞–¥–æ–∫, –¥–µ—Ä–µ–≤–æ —É–∑–ª–æ–≤)
‚Ä¢	.ts ‚Äî –æ–±—ã—á–Ω—ã–π –∫–æ–¥, .tsx ‚Äî React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å JSX
‚Ä¢	–í—Å—ë —ç—Ç–æ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –≤ –æ–±—ã—á–Ω—ã–π JS, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–Ω–∏–º–∞–µ—Ç Chrome
________________________________________
–¢–µ–ø–µ—Ä—å —É –Ω–∞—Å –µ—Å—Ç—å –ø–æ–Ω–∏–º–∞–Ω–∏–µ, –∑–∞—á–µ–º TypeScript –∏ –∫–∞–∫ –æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Å–≤—è–∑–∫–µ —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º.
–ì–ª–∞–≤–∞ 6. React ‚Äî —Å–µ—Ä–¥—Ü–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ Visual Bookmarks
________________________________________
6.1. –ß—Ç–æ —Ç–∞–∫–æ–µ React?
React ‚Äî —ç—Ç–æ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤. –ï—ë —Ñ–∏—à–∫–∞ –≤ —Ç–æ–º, —á—Ç–æ –æ–Ω–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ –Ω–∞–ø—Ä—è–º—É—é —Å DOM (–∫–∞–∫ –≤ ¬´—á–∏—Å—Ç–æ–º JS¬ª), –∞ —Å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º DOM.
üëâ –ê–ª–≥–æ—Ä–∏—Ç–º –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫–æ–π:
1.	–ú—ã –æ–ø–∏—Å—ã–≤–∞–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤ –≤–∏–¥–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (.tsx).
2.	React —Å—Ç—Ä–æ–∏—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é –º–æ–¥–µ–ª—å (–≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π DOM).
3.	–ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö React —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π DOM —Å–æ —Å—Ç–∞—Ä—ã–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω–∏–≤—à–∏–µ—Å—è –∫—É—Å–∫–∏ —Ä–µ–∞–ª—å–Ω–æ–≥–æ DOM.
–≠—Ç–æ –¥–µ–ª–∞–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –±—ã—Å—Ç—Ä—ã–º–∏ –∏ —É–¥–æ–±–Ω—ã–º–∏ –≤ –ø–æ–¥–¥–µ—Ä–∂–∫–µ.
________________________________________
6.2. –ü–æ—á–µ–º—É React –≤ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–∏?
–ú–æ–∂–Ω–æ –±—ã–ª–æ –±—ã –Ω–∞–ø–∏—Å–∞—Ç—å –≤—Å—ë –Ω–∞ ¬´—á–∏—Å—Ç–æ–º JS¬ª –∏ document.createElement, –Ω–æ:
‚Ä¢	–£ –Ω–∞—Å —Å–ª–æ–∂–Ω–∞—è –¥—Ä–µ–≤–æ–≤–∏–¥–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–∫–ª–∞–¥–æ–∫. –†–∏—Å–æ–≤–∞—Ç—å –¥–µ—Ä–µ–≤–æ —Ä—É–∫–∞–º–∏ ‚Üí –±–æ–ª—å.
‚Ä¢	–í–∫–ª–∞–¥–∫–∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è, —É–¥–∞–ª—è—é—Ç—Å—è, –ø–µ—Ä–µ–º–µ—â–∞—é—Ç—Å—è. –ù—É–∂–Ω–æ –º–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.
‚Ä¢	–•–æ—á–µ—Ç—Å—è –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥: ¬´—á—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å¬ª, –∞ –Ω–µ ¬´–∫–∞–∫ —Ä—É–∫–∞–º–∏ –≤—Å—Ç–∞–≤–ª—è—Ç—å div-—ã¬ª.
React –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –ø–æ–¥ —ç—Ç–∏ –∑–∞–¥–∞—á–∏.
________________________________________
6.3. –ì–¥–µ React –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –Ω–∞—à–µ–º –ø—Ä–æ–µ–∫—Ç–µ
üìÅ –í–Ω—É—Ç—Ä–∏ extension/src/ –µ—Å—Ç—å —Ñ–∞–π–ª—ã .tsx:
‚Ä¢	App.tsx ‚Äî –∫–æ—Ä–Ω–µ–≤–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (—Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞).
‚Ä¢	tree.tsx ‚Äî –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–µ—Ä–µ–≤–∞ –∑–∞–∫–ª–∞–¥–æ–∫.
‚Ä¢	–í–æ–∑–º–æ–∂–Ω–æ, –µ—Å—Ç—å –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è –ø–æ–∏—Å–∫–∞, –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏ —Ç.–¥.
________________________________________
6.4. App.tsx ‚Äî —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞
–§–∞–π–ª App.tsx –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞:
‚Ä¢	–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é —Å–æ—Å—Ç–æ—è–Ω–∏—è (–≤—Ö–æ–¥—è—â–∏–µ –≤–∫–ª–∞–¥–∫–∏, –¥–µ—Ä–µ–≤–æ —É–∑–ª–æ–≤)
‚Ä¢	–ø—Ä–∏—ë–º —Å–æ–æ–±—â–µ–Ω–∏–π –æ—Ç background.ts —á–µ—Ä–µ–∑ chrome.runtime.onMessage
‚Ä¢	–æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≥–ª–∞–≤–Ω–æ–π –ø–∞–Ω–µ–ª–∏ (–¥–µ—Ä–µ–≤–æ, –∫–Ω–æ–ø–∫–∏, –ø–æ–∏—Å–∫)
–ü—Ä–∏–º–µ—Ä (—É–ø—Ä–æ—â—ë–Ω–Ω–æ):
import React, { useEffect, useState } from "react";
import Tree from "./tree";
import { SimpleTab } from "./models";

export default function App() {
  const [inbox, setInbox] = useState<SimpleTab[]>([]);

  useEffect(() => {
    chrome.runtime.onMessage.addListener((msg) => {
      if (msg.type === "VB_BUFFER_SELECTED_TABS") {
        setInbox(msg.tabs);
      }
    });
  }, []);

  return (
    <div className="app">
      <h1>Visual Bookmarks</h1>
      <Tree nodes={inbox} />
    </div>
  );
}
________________________________________
6.5. tree.tsx ‚Äî –¥–µ—Ä–µ–≤–æ —É–∑–ª–æ–≤
–≠—Ç–æ –≥–ª–∞–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –ó–¥–µ—Å—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
‚Ä¢	–æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —É–∑–ª–æ–≤ (–ø–∞–ø–æ–∫/–≤–∫–ª–∞–¥–æ–∫)
‚Ä¢	–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Å—Å—ã–ª–æ–∫ –≤ –≤—ã–±—Ä–∞–Ω–Ω—ã–π —É–∑–µ–ª
‚Ä¢	–ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ —É–∑–ª–æ–≤ (drag & drop –∏–ª–∏ —á–µ—Ä–µ–∑ –º–µ–Ω—é)
‚Ä¢	—É–¥–∞–ª–µ–Ω–∏–µ
–ü—Ä–∏–º–µ—Ä (–æ—á–µ–Ω—å —É–ø—Ä–æ—â—ë–Ω–Ω—ã–π):
interface NodeProps {
  id: string;
  title: string;
  url?: string;
  children?: NodeProps[];
}

const TreeNode: React.FC<NodeProps> = ({ id, title, url, children }) => {
  return (
    <div className="node">
      {url ? (
        <a href={url} target="_blank">{title}</a>
      ) : (
        <span>{title}</span>
      )}
      {children && (
        <div className="children">
          {children.map((c) => (
            <TreeNode key={c.id} {...c} />
          ))}
        </div>
      )}
    </div>
  );
};
________________________________________
6.6. –°–≤—è–∑—å React –∏ background.ts
React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–µ –º–æ–≥—É—Ç –Ω–∞–ø—Ä—è–º—É—é –æ–±—â–∞—Ç—å—Å—è —Å Chrome API (–Ω–∞–ø—Ä–∏–º–µ—Ä, chrome.tabs.query) ‚Äî —ç—Ç–æ –¥–µ–ª–∞–µ—Ç background.ts.
–°—Ö–µ–º–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è:
1.	–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∂–º—ë—Ç –∫–Ω–æ–ø–∫—É –≤ UI (React).
2.	React –≤—ã–∑—ã–≤–∞–µ—Ç chrome.runtime.sendMessage(...).
3.	background.ts –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—ã–¥–µ–ª–µ–Ω–Ω—ã—Ö –≤–∫–ª–∞–¥–æ–∫).
4.	background.ts —à–ª—ë—Ç –æ—Ç–≤–µ—Ç –æ–±—Ä–∞—Ç–Ω–æ —á–µ—Ä–µ–∑ chrome.runtime.sendMessage(...).
5.	App.tsx (—á–µ—Ä–µ–∑ useEffect) –ª–æ–≤–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç useState.
6.	React –ø–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.
–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, React —É–ø—Ä–∞–≤–ª—è–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º, –∞ background.ts ‚Äî —Å–≤—è–∑—å—é —Å –±—Ä–∞—É–∑–µ—Ä–æ–º.
________________________________________
6.7. –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ React –≤ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–∏
‚Ä¢	–ù–µ—Ç –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞: –≤—Å—ë –∫—Ä—É—Ç–∏—Ç—Å—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ, –Ω–æ UI –≤—Å—ë —Ä–∞–≤–Ω–æ –Ω—É–∂–µ–Ω –≥–∏–±–∫–∏–π.
‚Ä¢	–°–±–æ—Ä–∫–∞ —á–µ—Ä–µ–∑ Vite: .tsx ‚Üí JavaScript ‚Üí dist/.
‚Ä¢	–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è Manifest V3: –Ω–µ–ª—å–∑—è –¥–µ—Ä–∂–∞—Ç—å ¬´–ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π —Ñ–æ–Ω–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç¬ª, –ø–æ—ç—Ç–æ–º—É UI –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–º.
________________________________________
6.8. –ò—Ç–æ–≥
‚Ä¢	React –≤ –ø—Ä–æ–µ–∫—Ç–µ –Ω—É–∂–µ–Ω –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º –ø–∞–Ω–µ–ª–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è.
‚Ä¢	–û–Ω —Ä–µ–Ω–¥–µ—Ä–∏—Ç –¥–µ—Ä–µ–≤–æ –∑–∞–∫–ª–∞–¥–æ–∫ (tree.tsx) –∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º (—á–µ—Ä–µ–∑ useState, useEffect).
‚Ä¢	–°–≤—è–∑—å —Å Chrome API –∏–¥—ë—Ç —á–µ—Ä–µ–∑ background.ts –∏ —Å–∏—Å—Ç–µ–º—É —Å–æ–æ–±—â–µ–Ω–∏–π.
‚Ä¢	–í —Å–≤—è–∑–∫–µ TypeScript + React –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –±–µ–∑–æ–ø–∞—Å–Ω—ã–º –∏ —É–¥–æ–±–Ω—ã–º –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ.
________________________________________
–¢–µ–ø–µ—Ä—å —É –Ω–∞—Å –µ—Å—Ç—å —Ü–µ–ª–æ—Å—Ç–Ω–∞—è –∫–∞—Ä—Ç–∏–Ω–∞: Node.js —Å–æ–±–∏—Ä–∞–µ—Ç –ø—Ä–æ–µ–∫—Ç, TypeScript —Å–ª–µ–¥–∏—Ç –∑–∞ —Ç–∏–ø–∞–º–∏, –∞ React —É–ø—Ä–∞–≤–ª—è–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º.
–õ–æ–≥–∏—á–Ω–æ –≤ –ì–ª–∞–≤–∞ 7 –ø–µ—Ä–µ–π—Ç–∏ –∫ Chrome API: –∫–∞–∫–∏–µ –µ—Å—Ç—å API —É –±—Ä–∞—É–∑–µ—Ä–∞, –∫–∞–∫ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∏–º–∏ –ø–æ–ª—å–∑—É–µ—Ç—Å—è, –∏ –∫–∞–∫–∏–µ –∏–∑ –Ω–∏—Ö –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∏–º–µ–Ω–Ω–æ –≤ Visual Bookmarks (–Ω–∞–ø—Ä–∏–º–µ—Ä, chrome.tabs, chrome.contextMenus, chrome.tabGroups).
‚ÄÉ
–ì–ª–∞–≤–∞ 7. Chrome API –≤ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–∏ Visual Bookmarks
________________________________________
7.1. –ß—Ç–æ —Ç–∞–∫–æ–µ Chrome API?
Chrome API ‚Äî —ç—Ç–æ –Ω–∞–±–æ—Ä —Ñ—É–Ω–∫—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –±—Ä–∞—É–∑–µ—Ä —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è–º.
–ë–µ–∑ –Ω–∏—Ö —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –±—ã–ª–æ –±—ã –ø—Ä–æ—Å—Ç–æ —Å–∞–π—Ç–æ–º –≤–Ω—É—Ç—Ä–∏ Chrome.
–ß–µ—Ä–µ–∑ —ç—Ç–∏ API –º–æ–∂–Ω–æ:
‚Ä¢	—É–ø—Ä–∞–≤–ª—è—Ç—å –≤–∫–ª–∞–¥–∫–∞–º–∏ –∏ –æ–∫–Ω–∞–º–∏,
‚Ä¢	–¥–æ–±–∞–≤–ª—è—Ç—å –∫–Ω–æ–ø–∫–∏ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é,
‚Ä¢	—Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ,
‚Ä¢	–æ–±—â–∞—Ç—å—Å—è –º–µ–∂–¥—É —Ä–∞–∑–Ω—ã–º–∏ —á–∞—Å—Ç—è–º–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è.
üëâ –§–∏—à–∫–∞: –æ–±—ã—á–Ω—ã–π —Å–∞–π—Ç –Ω–µ –º–æ–∂–µ—Ç —ç—Ç–æ–≥–æ –¥–µ–ª–∞—Ç—å, —Ç–æ–ª—å–∫–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è.
________________________________________
7.2. –ì–¥–µ Chrome API –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –ø—Ä–æ–µ–∫—Ç–µ?
–ù–∞—à–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –∫–ª—é—á–µ–≤—ã–º–∏ API:
1.	chrome.tabs ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∫–ª–∞–¥–∫–∞–º–∏.
2.	chrome.tabGroups ‚Äî —Ä–∞–±–æ—Ç–∞ —Å –≥—Ä—É–ø–ø–∞–º–∏ –≤–∫–ª–∞–¥–æ–∫.
3.	chrome.contextMenus ‚Äî –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é (¬´–î–æ–±–∞–≤–∏—Ç—å –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–µ –≤–∫–ª–∞–¥–∫–∏¬ª).
4.	chrome.runtime ‚Äî –æ–±–º–µ–Ω —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –º–µ–∂–¥—É background, popup –∏ content.
5.	chrome.storage ‚Äî —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (–æ—Ñ–ª–∞–π–Ω —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–µ—Ä–µ–≤–∞ –∑–∞–∫–ª–∞–¥–æ–∫).
________________________________________
7.3. chrome.tabs ‚Äî —Ä–∞–±–æ—Ç–∞ —Å –≤–∫–ª–∞–¥–∫–∞–º–∏
–ß–µ—Ä–µ–∑ —ç—Ç–æ—Ç API –º—ã –ø–æ–ª—É—á–∞–µ–º —Å–ø–∏—Å–æ–∫ –≤—ã–¥–µ–ª–µ–Ω–Ω—ã—Ö –≤–∫–ª–∞–¥–æ–∫, –∏—Ö –∑–∞–≥–æ–ª–æ–≤–∫–∏, URL –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ.
–ü—Ä–∏–º–µ—Ä:
chrome.tabs.query({ highlighted: true, currentWindow: true }, (tabs) => {
  console.log("–í—ã–¥–µ–ª–µ–Ω–Ω—ã–µ –≤–∫–ª–∞–¥–∫–∏:", tabs);
});
‚Ä¢	query ‚Äî –ø–æ–ª—É—á–∏—Ç—å –≤–∫–ª–∞–¥–∫–∏ (–ø–æ —Ñ–∏–ª—å—Ç—Ä—É).
‚Ä¢	create ‚Äî –æ—Ç–∫—Ä—ã—Ç—å –Ω–æ–≤—É—é –≤–∫–ª–∞–¥–∫—É.
‚Ä¢	remove ‚Äî –∑–∞–∫—Ä—ã—Ç—å –≤–∫–ª–∞–¥–∫—É.
–í Visual Bookmarks:
‚Ä¢	–∫–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç ¬´–î–æ–±–∞–≤–∏—Ç—å –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–µ –≤–∫–ª–∞–¥–∫–∏¬ª, –∏–º–µ–Ω–Ω–æ —á–µ—Ä–µ–∑ chrome.tabs.query –ø–æ–ª—É—á–∞–µ–º —Å–ø–∏—Å–æ–∫.
‚Ä¢	–¥–∞–ª—å—à–µ —ç—Ç–æ—Ç —Å–ø–∏—Å–æ–∫ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ React-–ø–∞–Ω–µ–ª—å.
________________________________________
7.4. chrome.tabGroups ‚Äî –≥—Ä—É–ø–ø—ã –≤–∫–ª–∞–¥–æ–∫
Chrome –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–±—ä–µ–¥–∏–Ω—è—Ç—å –≤–∫–ª–∞–¥–∫–∏ –≤ –≥—Ä—É–ø–ø—ã —Å —Ü–≤–µ—Ç–∞–º–∏ –∏ –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏.
–ù–∞—à–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —É–º–µ–µ—Ç —É—á–∏—Ç—ã–≤–∞—Ç—å —ç—Ç—É —Å—Ç—Ä—É–∫—Ç—É—Ä—É.
–ü—Ä–∏–º–µ—Ä:
chrome.tabGroups.update(groupId, { title: "–†–∞–±–æ—Ç–∞", color: "blue" });
–í –ø—Ä–æ–µ–∫—Ç–µ:
‚Ä¢	–µ—Å–ª–∏ –≤–∫–ª–∞–¥–∫–∏ –±—ã–ª–∏ –≤ –≥—Ä—É–ø–ø–µ, –≤ –¥–µ—Ä–µ–≤–æ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∏—Ö ¬´–≥—Ä—É–ø–ø–æ–π¬ª.
‚Ä¢	—ç—Ç–æ –¥–µ–ª–∞–µ—Ç –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é –∑–∞–∫–ª–∞–¥–æ–∫ –±–æ–ª–µ–µ –≥–∏–±–∫–æ–π.
________________________________________
7.5. chrome.contextMenus ‚Äî –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é
–ß—Ç–æ–±—ã —É–¥–æ–±–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—ã, —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –¥–æ–±–∞–≤–ª—è–µ—Ç –ø—É–Ω–∫—Ç—ã –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é:
chrome.contextMenus.create({
  id: "addSelectedTabs",
  title: "–î–æ–±–∞–≤–∏—Ç—å –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–µ –≤–∫–ª–∞–¥–∫–∏",
  contexts: ["all"]
});

chrome.contextMenus.onClicked.addListener((info, tab) => {
  if (info.menuItemId === "addSelectedTabs") {
    // –õ–æ–≥–∏–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤–∫–ª–∞–¥–æ–∫
  }
});
–í –ø—Ä–æ–µ–∫—Ç–µ:
‚Ä¢	–ø—Ä–∏ –∫–ª–∏–∫–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —Å—Ä–∞–∑—É –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–µ –≤–∫–ª–∞–¥–∫–∏ –≤ Visual Bookmarks.
‚Ä¢	—ç—Ç–æ—Ç API —Å–≤—è–∑–∞–Ω –Ω–∞–ø—Ä—è–º—É—é —Å background.ts.
________________________________________
7.6. chrome.runtime ‚Äî –æ–±–º–µ–Ω —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
–í —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–∏ –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —á–∞—Å—Ç–µ–π:
‚Ä¢	background.ts (—Ñ–æ–Ω–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç),
‚Ä¢	App.tsx (–ø–∞–Ω–µ–ª—å),
‚Ä¢	–≤–æ–∑–º–æ–∂–Ω–æ content.ts (–µ—Å–ª–∏ –≤–Ω–µ–¥—Ä—è–µ—Ç—Å—è –≤ —Å—Ç—Ä–∞–Ω–∏—Ü—ã).
–û–Ω–∏ –æ–±–º–µ–Ω–∏–≤–∞—é—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ —á–µ—Ä–µ–∑ chrome.runtime.
–ü—Ä–∏–º–µ—Ä:
// background.ts
chrome.runtime.sendMessage({ type: "VB_BUFFER_SELECTED_TABS", tabs });

// App.tsx
chrome.runtime.onMessage.addListener((msg) => {
  if (msg.type === "VB_BUFFER_SELECTED_TABS") {
    console.log("–ü–æ–ª—É—á–µ–Ω—ã –≤–∫–ª–∞–¥–∫–∏:", msg.tabs);
  }
});
–í –ø—Ä–æ–µ–∫—Ç–µ:
‚Ä¢	—Ç–∞–∫ React-–ø–∞–Ω–µ–ª—å —É–∑–Ω–∞—ë—Ç –æ –Ω–æ–≤—ã—Ö –≤—ã–¥–µ–ª–µ–Ω–Ω—ã—Ö –≤–∫–ª–∞–¥–∫–∞—Ö, –¥–æ–±–∞–≤–ª—è–µ–º—ã—Ö –∏–∑ –º–µ–Ω—é.
________________________________________
7.7. chrome.storage ‚Äî —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
–ó–∞–∫–ª–∞–¥–∫–∏ –∏ –¥–µ—Ä–µ–≤–æ —É–∑–ª–æ–≤ –Ω—É–∂–Ω–æ –≥–¥–µ-—Ç–æ —Ö—Ä–∞–Ω–∏—Ç—å.
–í —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è—Ö –µ—Å—Ç—å chrome.storage.local (–∞–Ω–∞–ª–æ–≥ –ª–æ–∫–∞–ª—å–Ω–æ–π –ë–î).
–ü—Ä–∏–º–µ—Ä:
chrome.storage.local.set({ tree: myTree });

chrome.storage.local.get("tree", (result) => {
  console.log("–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –¥–µ—Ä–µ–≤–æ:", result.tree);
});
–í –Ω–∞—à–µ–º –ø—Ä–æ–µ–∫—Ç–µ:
‚Ä¢	–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–æ–¥—É–ª—å sqlStorage.ts, –∫–æ—Ç–æ—Ä—ã–π —Ö—Ä–∞–Ω–∏—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–µ—Ä–µ–≤–∞.
‚Ä¢	–ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ –±—Ä–∞—É–∑–µ—Ä–∞ –¥–∞–Ω–Ω—ã–µ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.
________________________________________
7.8. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è Manifest V3
–í–∞–∂–Ω–æ: —Å –ø–µ—Ä–µ—Ö–æ–¥–æ–º –Ω–∞ Manifest V3 –≤ Chrome API –µ—Å—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:
‚Ä¢	–±–æ–ª—å—à–µ –Ω–µ—Ç ¬´–≤–µ—á–Ω–æ–≥–æ background¬ª, –≤–º–µ—Å—Ç–æ –Ω–µ–≥–æ service worker.
‚Ä¢	–∫–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ —Å–æ–±—ã—Ç–∏—è–º, –∞ –Ω–µ ¬´–≤–µ—á–Ω–æ –≤–∏—Å–∏—Ç –≤ –ø–∞–º—è—Ç–∏¬ª.
‚Ä¢	–ø–æ—ç—Ç–æ–º—É –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Visual Bookmarks —É—á–∏—Ç—ã–≤–∞–µ—Ç —ç—Ç–æ: background –ø–æ–¥–Ω–∏–º–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Å–æ–±—ã—Ç–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –º–µ–Ω—é).
________________________________________
7.9. –ò—Ç–æ–≥
‚Ä¢	chrome.tabs ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∫–ª–∞–¥–∫–∞–º–∏ (–ø–æ–ª—É—á–µ–Ω–∏–µ –≤—ã–¥–µ–ª–µ–Ω–Ω—ã—Ö).
‚Ä¢	chrome.tabGroups ‚Äî –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≥—Ä—É–ø–ø –≤–∫–ª–∞–¥–æ–∫.
‚Ä¢	chrome.contextMenus ‚Äî –ø—É–Ω–∫—Ç ¬´–î–æ–±–∞–≤–∏—Ç—å –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–µ –≤–∫–ª–∞–¥–∫–∏¬ª.
‚Ä¢	chrome.runtime ‚Äî –æ–±–º–µ–Ω —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏.
‚Ä¢	chrome.storage ‚Äî —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–µ—Ä–µ–≤–∞ –∑–∞–∫–ª–∞–¥–æ–∫.
üëâ Chrome API ‚Äî —ç—Ç–æ ¬´—Ä—É–∫–∏¬ª —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è: React –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –∞ API –¥–∞—ë—Ç –¥–æ—Å—Ç—É–ø –∫ —Å–∞–º–æ–º—É –±—Ä–∞—É–∑–µ—Ä—É.
________________________________________
–¢–µ–ø–µ—Ä—å —É –Ω–∞—Å –µ—Å—Ç—å —Ç—Ä–∏ –∫–∏—Ç–∞: Node.js (—Å–±–æ—Ä–∫–∞), TypeScript (—Ç–∏–ø—ã), React (UI) –∏ Chrome API (–¥–æ—Å—Ç—É–ø –∫ –±—Ä–∞—É–∑–µ—Ä—É).
–õ–æ–≥–∏—á–Ω–æ —Å–ª–µ–¥—É—é—â—É—é –≥–ª–∞–≤—É –ø–æ—Å–≤—è—Ç–∏—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ —Å–∞–º–æ–≥–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è: –∫–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω—ã —á–∞—Å—Ç–∏ (background, App, tree, storage), –∫–∞–∫ –æ–Ω–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—Ç, –∏ —á—Ç–æ –∫—É–¥–∞ —à–ª—ë—Ç.

–ì–ª–∞–≤–∞ 8. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Visual Bookmarks
________________________________________
8.1. –ó–∞—á–µ–º –Ω—É–∂–Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞?
–õ—é–±–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –¥–ª—è Chrome —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ —á–∞—Å—Ç–µ–π:
‚Ä¢	—Ñ–æ–Ω–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç (background),
‚Ä¢	–ø–∞–Ω–µ–ª—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (popup/panel),
‚Ä¢	–∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é,
‚Ä¢	—Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∞–Ω–Ω—ã—Ö,
‚Ä¢	–∏, –≤–æ–∑–º–æ–∂–Ω–æ, –∫–æ–Ω—Ç–µ–Ω—Ç–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã.
–ï—Å–ª–∏ –≤—Å—ë —Å–º–µ—à–∞—Ç—å –≤ –∫—É—á—É ‚Äî –ø–æ–ª—É—á–∏—Ç—Å—è —Ö–∞–æ—Å.
–ü–æ—ç—Ç–æ–º—É –º—ã —Ä–∞–∑–¥–µ–ª—è–µ–º –ø—Ä–æ–µ–∫—Ç –Ω–∞ –º–æ–¥—É–ª–∏ —Å —á—ë—Ç–∫–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å—é.
________________________________________
8.2. –û–±—â–∞—è —Å—Ö–µ–º–∞ —Ä–∞–±–æ—Ç—ã Visual Bookmarks
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê       ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ  React UI    ‚îÇ (App.tsx + tree.tsx)
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ                       ‚îÇ
       ‚ñº                       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê       ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ ContextMenus ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ Background.ts‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                              ‚îÇ
                 ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                 ‚ñº                          ‚ñº
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê            ‚îå‚îÄ‚îÄ-‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ Chrome Tabs  ‚îÇ            ‚îÇ Chrome Storage‚îÇ
        ‚îÇ TabGroups    ‚îÇ            ‚îÇ (sqlStorage)  ‚îÇ
        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò            ‚îî‚îÄ‚îÄ‚îÄ-‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
üëâ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∫–ª–∏–∫–∞–µ—Ç –≤ UI ‚Üí React –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ ‚Üí background –æ–±—â–∞–µ—Ç—Å—è —Å Chrome API ‚Üí —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ storage –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ UI.
________________________________________
8.3. –û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥—É–ª–∏
1. background.ts ‚Äî —Å–≤—è–∑—É—é—â–µ–µ –∑–≤–µ–Ω–æ
‚Ä¢	—Å–ª—É—à–∞–µ—Ç –∫–ª–∏–∫–∏ –ø–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–º—É –º–µ–Ω—é;
‚Ä¢	–ø–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—ã–¥–µ–ª–µ–Ω–Ω—ã—Ö –≤–∫–ª–∞–¥–æ–∫ —á–µ—Ä–µ–∑ chrome.tabs.query;
‚Ä¢	–ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≥—Ä—É–ø–ø–∏—Ä—É–µ—Ç –≤–∫–ª–∞–¥–∫–∏;
‚Ä¢	–æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ –ø–∞–Ω–µ–ª—å (App.tsx) —á–µ—Ä–µ–∑ chrome.runtime.sendMessage;
‚Ä¢	—Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–µ—Ä–µ–≤–∞ –≤ chrome.storage.
–ú–æ–∂–Ω–æ —Å–∫–∞–∑–∞—Ç—å: background = ¬´–º–æ–∑–≥¬ª, –∫–æ—Ç–æ—Ä—ã–π –∑–Ω–∞–µ—Ç, –∫–∞–∫ –æ–±—â–∞—Ç—å—Å—è —Å –±—Ä–∞—É–∑–µ—Ä–æ–º.
________________________________________
2. App.tsx ‚Äî –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚Ä¢	—Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ React-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è;
‚Ä¢	–ø–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç background;
‚Ä¢	—Ö—Ä–∞–Ω–∏—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ (inbox –≤–∫–ª–∞–¥–æ–∫, –¥–µ—Ä–µ–≤–æ —É–∑–ª–æ–≤) –≤ useState;
‚Ä¢	–æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç UI: –¥–µ—Ä–µ–≤–æ –∑–∞–∫–ª–∞–¥–æ–∫ (tree.tsx), –ø–æ–∏—Å–∫ (search.ts), –∫–Ω–æ–ø–∫–∏.
üëâ React –Ω–∏—á–µ–≥–æ –Ω–µ –∑–Ω–∞–µ—Ç –æ –±—Ä–∞—É–∑–µ—Ä–µ –Ω–∞–ø—Ä—è–º—É—é, –æ–Ω —Ç–æ–ª—å–∫–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ.
________________________________________
3. tree.tsx ‚Äî –¥–µ—Ä–µ–≤–æ –∑–∞–∫–ª–∞–¥–æ–∫
‚Ä¢	–≤–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É —É–∑–ª–æ–≤ (–≤–ª–æ–∂–µ–Ω–Ω—ã–µ –ø–∞–ø–∫–∏/—Å—Å—ã–ª–∫–∏);
‚Ä¢	–ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å/—É–¥–∞–ª—è—Ç—å/–ø–µ—Ä–µ–º–µ—â–∞—Ç—å —É–∑–ª—ã;
‚Ä¢	—Ä–∞–±–æ—Ç–∞–µ—Ç —Å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º–∏ –º–æ–¥–µ–ª—è–º–∏ (models.ts, treeOps.ts).
________________________________________
4. sqlStorage.ts ‚Äî —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
‚Ä¢	–æ–±—ë—Ä—Ç–∫–∞ –Ω–∞–¥ chrome.storage.local;
‚Ä¢	—Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–µ—Ä–µ–≤–æ –∑–∞–∫–ª–∞–¥–æ–∫;
‚Ä¢	–ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –µ–≥–æ.
________________________________________
5. models.ts –∏ treeOps.ts
‚Ä¢	models.ts ‚Äî –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö (SimpleTab, TreeNode).
‚Ä¢	treeOps.ts ‚Äî –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–∞–¥ –¥–µ—Ä–µ–≤–æ–º: –≤—Å—Ç–∞–≤–∫–∞, —É–¥–∞–ª–µ–Ω–∏–µ, –ø–æ–∏—Å–∫.
–≠—Ç–æ ¬´–ª–æ–≥–∏–∫–∞ –±–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞¬ª.
________________________________________
6. search.ts
‚Ä¢	–æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –ø–æ–∏—Å–∫ –ø–æ –¥–µ—Ä–µ–≤—É –∑–∞–∫–ª–∞–¥–æ–∫.
‚Ä¢	—É–ø—Ä–æ—â–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∂–∏–∑–Ω—å –ø—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ —É–∑–ª–æ–≤.
________________________________________
8.4. –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
–ü—Ä–∏–º–µ—Ä —Å—Ü–µ–Ω–∞—Ä–∏—è:
1.	–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–¥–µ–ª–∏–ª –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∫–ª–∞–¥–æ–∫ –≤ Chrome.
2.	–í –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–º –º–µ–Ω—é –≤—ã–±—Ä–∞–ª ¬´–î–æ–±–∞–≤–∏—Ç—å –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–µ –≤–∫–ª–∞–¥–∫–∏¬ª.
3.	background.ts –ø–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —á–µ—Ä–µ–∑ chrome.tabs.query.
4.	background –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –ø–∞–Ω–µ–ª—å (App.tsx).
5.	App.tsx –ª–æ–≤–∏—Ç —Å–æ–±—ã—Ç–∏–µ –≤ useEffect –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –≤–∫–ª–∞–¥–∫–∏ –≤–æ –≤—Ä–µ–º–µ–Ω–Ω—ã–π inbox.
6.	–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –Ω–æ–≤—ã–µ –≤–∫–ª–∞–¥–∫–∏ –≤ React-UI (tree.tsx).
7.	–ü—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ —É–∑–ª–æ–≤ sqlStorage.ts –∫–ª–∞–¥—ë—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –≤ chrome.storage.
8.	–ü—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –æ—Ç–∫—Ä—ã—Ç–∏–∏ –ø–∞–Ω–µ–ª–∏ –¥–µ—Ä–µ–≤–æ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è.
________________________________________
8.5. –ü–æ—á–µ–º—É —Ç–∞–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —É–¥–æ–±–Ω–∞?
‚Ä¢	–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏:
o	background = API –±—Ä–∞—É–∑–µ—Ä–∞
o	React = UI
o	storage = –¥–∞–Ω–Ω—ã–µ
‚Ä¢	–ì–∏–±–∫–æ—Å—Ç—å: –º–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å –¥–µ—Ä–µ–≤–æ –∏–ª–∏ storage, –Ω–µ —Ç—Ä–æ–≥–∞—è UI.
‚Ä¢	–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å: –∫–∞–∂–¥—ã–π –º–æ–¥—É–ª—å –æ—Ç–≤–µ—á–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∑–∞ —Å–≤–æ—é —á–∞—Å—Ç—å.
‚Ä¢	–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å: –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å, –Ω–∞–ø—Ä–∏–º–µ—Ä, —ç–∫—Å–ø–æ—Ä—Ç –∑–∞–∫–ª–∞–¥–æ–∫ –≤ JSON.
________________________________________
8.6. –ò—Ç–æ–≥
‚Ä¢	Visual Bookmarks –ø–æ—Å—Ç—Ä–æ–µ–Ω–æ –Ω–∞ —Ç—Ä—ë—Ö —É—Ä–æ–≤–Ω—è—Ö:
1.	Chrome API (tabs, contextMenus, storage)
2.	Background (—Å–≤—è–∑—å API ‚Üî UI)
3.	React-–ø–∞–Ω–µ–ª—å (–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏ –¥–µ—Ä–µ–≤–æ)
‚Ä¢	–¢–∞–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é –±—ã—Ç—å:
o	–±—ã—Å—Ç—Ä—ã–º,
o	–Ω–∞–¥—ë–∂–Ω—ã–º,
o	—Ä–∞—Å—à–∏—Ä—è–µ–º—ã–º.
________________________________________
üëâ –°–ª–µ–¥—É—é—â–∞—è –≥–ª–∞–≤–∞ –ª–æ–≥–∏—á–Ω–æ –ø–æ—Å–≤—è—Ç–∏—Ç—å –ø–æ—Ç–æ–∫—É –¥–∞–Ω–Ω—ã—Ö (data flow): –∫–∞–∫ –∏–º–µ–Ω–Ω–æ –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ—Ö–æ–¥—è—Ç –ø—É—Ç—å ¬´–≤–∫–ª–∞–¥–∫–∞ ‚Üí background ‚Üí React ‚Üí storage ‚Üí React¬ª.
‚ÄÉ
–ì–ª–∞–≤–∞ 9. –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö –∏ —Å–æ–±—ã—Ç–∏–π –≤ Visual Bookmarks
________________________________________
9.1. –ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ?
–ï—Å–ª–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ ‚Äî —ç—Ç–æ ¬´—Å–∫–µ–ª–µ—Ç¬ª —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è, —Ç–æ –ø–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö ‚Äî —ç—Ç–æ –∫—Ä–æ–≤—å –∏ –Ω–µ—Ä–≤–Ω—ã–µ –∏–º–ø—É–ª—å—Å—ã.
–û–Ω –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –∫–∞–∫ –∏–º–µ–Ω–Ω–æ –≤–∫–ª–∞–¥–∫–∞ –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞ –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ —ç–ª–µ–º–µ–Ω—Ç –¥–µ—Ä–µ–≤–∞ –≤ –ø–∞–Ω–µ–ª–∏ Visual Bookmarks.
________________________________________
9.2. –û–±—â–∞—è —Å—Ö–µ–º–∞
–í–∫–ª–∞–¥–∫–∏ –≤ Chrome
    ‚îÇ
    ‚ñº
 –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é ‚îÄ‚îÄ‚ñ∂ background.ts ‚îÄ‚îÄ‚ñ∂ React App (App.tsx + tree.tsx)
                                         ‚îÇ
                                         ‚ñº
                                   sqlStorage.ts
‚Ä¢	–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí –±—Ä–∞—É–∑–µ—Ä: –≤—ã–¥–µ–ª—è–µ—Ç –≤–∫–ª–∞–¥–∫–∏.
‚Ä¢	–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é: –∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–æ–±—ã—Ç–∏–µ.
‚Ä¢	background.ts: –ø–æ–ª—É—á–∞–µ—Ç –≤–∫–ª–∞–¥–∫–∏, –≥—Ä—É–ø–ø–∏—Ä—É–µ—Ç, —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç payload.
‚Ä¢	chrome.runtime.sendMessage: –¥–æ—Å—Ç–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ React.
‚Ä¢	App.tsx: –ª–æ–≤–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ, –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ.
‚Ä¢	tree.tsx: —Ä–µ–Ω–¥–µ—Ä–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è.
‚Ä¢	sqlStorage.ts: —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–µ—Ä–µ–≤–æ –¥–ª—è –±—É–¥—É—â–∏—Ö —Å–µ—Å—Å–∏–π.
________________________________________
9.3. –ü–æ—à–∞–≥–æ–≤—ã–π —Ä–∞–∑–±–æ—Ä —Å–æ–±—ã—Ç–∏–π
üîπ –®–∞–≥ 1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–¥–µ–ª—è–µ—Ç –≤–∫–ª–∞–¥–∫–∏
Chrome ¬´–∑–Ω–∞–µ—Ç¬ª, –∫–∞–∫–∏–µ –≤–∫–ª–∞–¥–∫–∏ –≤—ã–¥–µ–ª–µ–Ω—ã. –î–ª—è —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:
chrome.tabs.query({ highlighted: true, currentWindow: true }, (tabs) => {
  // tabs ‚Äî —Å–ø–∏—Å–æ–∫ –≤—ã–¥–µ–ª–µ–Ω–Ω—ã—Ö –≤–∫–ª–∞–¥–æ–∫
});
üëâ –≠—Ç–∏ –¥–∞–Ω–Ω—ã–µ –ø–æ–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—Ç —Ç–æ–ª—å–∫–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ, React –æ –Ω–∏—Ö –Ω–∏—á–µ–≥–æ –Ω–µ –∑–Ω–∞–µ—Ç.
________________________________________
üîπ –®–∞–≥ 2. –ö–ª–∏–∫ –ø–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–º—É –º–µ–Ω—é
–ü—É–Ω–∫—Ç –º–µ–Ω—é —Å–æ–∑–¥–∞—ë—Ç—Å—è –≤ background.ts:
chrome.contextMenus.create({
  id: "addSelectedTabs",
  title: "–î–æ–±–∞–≤–∏—Ç—å –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–µ –≤–∫–ª–∞–¥–∫–∏",
  contexts: ["all"]
});
–ò —Å–ª—É—à–∞—Ç–µ–ª—å:
chrome.contextMenus.onClicked.addListener(async (info, tab) => {
  if (info.menuItemId === "addSelectedTabs") {
    const tabs = await getHighlightedTabs(); // chrome.tabs.query
    sendToPanel(tabs); // —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ React
  }
});
________________________________________
üîπ –®–∞–≥ 3. background —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ
function sendToPanel(tabs: chrome.tabs.Tab[]) {
  chrome.runtime.sendMessage({
    type: "VB_BUFFER_SELECTED_TABS",
    tabs: tabs.map(t => ({
      id: t.id,
      title: t.title || t.url,
      url: t.url,
      windowId: t.windowId
    }))
  });
}
üëâ –¢—É—Ç –¥–∞–Ω–Ω—ã–µ ¬´–æ—á–∏—â–∞—é—Ç—Å—è¬ª: –≤ React –ø–æ–π–¥—É—Ç —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ –ø–æ–ª—è.
________________________________________
üîπ –®–∞–≥ 4. React –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ
–í App.tsx:
useEffect(() => {
  function onMsg(msg: any) {
    if (msg?.type === "VB_BUFFER_SELECTED_TABS" && Array.isArray(msg.tabs)) {
      setInbox(prev => [...prev, ...msg.tabs]); 
    }
  }
  chrome.runtime.onMessage.addListener(onMsg);
  return () => chrome.runtime.onMessage.removeListener(onMsg);
}, []);
‚Ä¢	Inbox ‚Äî —ç—Ç–æ –≤—Ä–µ–º–µ–Ω–Ω—ã–π ¬´–±—É—Ñ–µ—Ä¬ª.
‚Ä¢	–°—é–¥–∞ –ø–æ–ø–∞–¥–∞—é—Ç –≤–∫–ª–∞–¥–∫–∏ –¥–æ —Ç–æ–≥–æ, –∫–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–µ—à–∏—Ç, –∫—É–¥–∞ –∏—Ö —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å.
________________________________________
üîπ –®–∞–≥ 5. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–±–∞–≤–ª—è–µ—Ç –≤–∫–ª–∞–¥–∫–∏ –≤ –¥–µ—Ä–µ–≤–æ
–ß–µ—Ä–µ–∑ UI (tree.tsx) –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç, –∫—É–¥–∞ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å.
function addToTree(tabs: SimpleTab[]) {
  setTree(prev => insertTabsIntoTree(prev, tabs));
}
________________________________________
üîπ –®–∞–≥ 6. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
chrome.storage.local.set({ tree });
–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ:
chrome.storage.local.get("tree", (result) => {
  if (result.tree) setTree(result.tree);
});
________________________________________
9.4. –ö–ª—é—á–µ–≤—ã–µ —Å–æ–±—ã—Ç–∏—è
1.	chrome.contextMenus.onClicked ‚Üí —Å—Ç–∞—Ä—Ç –ø—Ä–æ—Ü–µ—Å—Å–∞.
2.	chrome.tabs.query ‚Üí —Å–±–æ—Ä –≤–∫–ª–∞–¥–æ–∫.
3.	chrome.runtime.sendMessage ‚Üí –¥–æ—Å—Ç–∞–≤–∫–∞ –≤ React.
4.	chrome.runtime.onMessage ‚Üí –ø–æ–ª—É—á–µ–Ω–∏–µ –≤ React.
5.	setState (React) ‚Üí –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI.
6.	chrome.storage.local ‚Üí –¥–æ–ª–≥–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ.
________________________________________
9.5. –í–∞–∂–Ω—ã–µ –¥–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
‚Ä¢	–ß—Ç–æ–±—ã –Ω–µ –±—ã–ª–æ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤, –≤–≤–æ–¥–∏—Ç—Å—è batchId (–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–∞—Ä—Ç–∏–∏ –≤–∫–ª–∞–¥–æ–∫).
‚Ä¢	React –ø—Ä–æ–≤–µ—Ä—è–µ—Ç: ¬´–≠—Ç–∞ –ø–∞—á–∫–∞ —É–∂–µ –±—ã–ª–∞? –ï—Å–ª–∏ –¥–∞ ‚Äî –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å¬ª.
‚Ä¢	–ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π ‚Üí –º–æ–≥—É—Ç –±—ã—Ç—å –∑–∞–¥–µ—Ä–∂–∫–∏ (–æ—Å–æ–±–µ–Ω–Ω–æ –ø—Ä–∏ –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–∞—Ö –≤–∫–ª–∞–¥–æ–∫).
________________________________________
9.6. –ò—Ç–æ–≥
‚Ä¢	–ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö –≤ Visual Bookmarks ‚Äî —ç—Ç–æ ¬´—Å–µ—Ä–≤–∏—Å–Ω–∞—è —à–∏–Ω–∞¬ª –º–µ–∂–¥—É –±—Ä–∞—É–∑–µ—Ä–æ–º –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º.
‚Ä¢	–ì–ª–∞–≤–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç: –≤–∫–ª–∞–¥–∫–∏ ‚Üí background ‚Üí React ‚Üí storage ‚Üí React.
‚Ä¢	–í–∞–∂–Ω–∞ –∑–∞—â–∏—Ç–∞ –æ—Ç –¥—É–±–ª–µ–π –∏ –ø–æ—Ç–µ—Ä—è–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π.
‚Ä¢	React —Å–∞–º –ø–æ —Å–µ–±–µ –Ω–µ –º–æ–∂–µ—Ç —Å–ø—Ä–æ—Å–∏—Ç—å –±—Ä–∞—É–∑–µ—Ä –æ –≤–∫–ª–∞–¥–∫–∞—Ö ‚Äî –¥–ª—è —ç—Ç–æ–≥–æ –Ω—É–∂–µ–Ω background.
________________________________________
üëâ –°–ª–µ–¥—É—é—â–∞—è –ª–æ–≥–∏—á–µ—Å–∫–∞—è –≥–ª–∞–≤–∞ ‚Äî –ì–ª–∞–≤–∞ 10: –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏ –æ—Ñ–ª–∞–π–Ω-—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å, –≥–¥–µ —Ä–∞–∑–±–µ—Ä—ë–º –ø–æ–¥—Ä–æ–±–Ω–æ sqlStorage.ts, chrome.storage, —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—é –¥–µ—Ä–µ–≤–∞ –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞.
‚ÄÉ
–ì–ª–∞–≤–∞ 10. –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏ –æ—Ñ–ª–∞–π–Ω-—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å
________________________________________
10.1. –ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ?
–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ: –≤—ã —Å–æ–±—Ä–∞–ª–∏ –¥–µ—Ä–µ–≤–æ –∏–∑ —Å–æ—Ç–Ω–∏ –≤–∫–ª–∞–¥–æ–∫, –∑–∞–∫—Ä—ã–ª–∏ Chrome ‚Äî –∏ –≤—Å—ë –ø—Ä–æ–ø–∞–ª–æ. –≠—Ç–æ –±—ã–ª–æ –±—ã –∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ–æ–π.
–ü–æ—ç—Ç–æ–º—É —É Visual Bookmarks –µ—Å—Ç—å —Å–∏—Å—Ç–µ–º–∞ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è, –æ—Å–Ω–æ–≤–∞–Ω–Ω–∞—è –Ω–∞ Chrome Storage API.
________________________________________
10.2. –í–∞—Ä–∏–∞–Ω—Ç—ã —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ Chrome
Chrome –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ç—Ä–∏ –æ—Å–Ω–æ–≤–Ω—ã—Ö –º–µ—Ö–∞–Ω–∏–∑–º–∞:
1.	chrome.storage.local
o	—Ö—Ä–∞–Ω–∏—Ç –¥–∞–Ω–Ω—ã–µ –Ω–∞ –¥–∏—Å–∫–µ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞;
o	–æ–±—ä—ë–º –¥–æ 5‚Äì10 –ú–ë;
o	–±—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø.
2.	chrome.storage.sync
o	—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ Google-–∞–∫–∫–∞—É–Ω—Ç;
o	–ª–∏–º–∏—Ç –º–µ–Ω—å—à–µ (~100 –ö–ë –Ω–∞ –æ–±—ä–µ–∫—Ç);
o	—É–¥–æ–±–Ω–æ, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—å –∑–∞–∫–ª–∞–¥–∫–∏ –º–µ–∂–¥—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏.
3.	IndexedDB
o	–ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≤ –±—Ä–∞—É–∑–µ—Ä–µ;
o	–º–æ–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –≥–∏–≥–∞–±–∞–π—Ç—ã, –Ω–æ —Å–ª–æ–∂–Ω–µ–µ –≤ —Ä–∞–±–æ—Ç–µ.
üëâ –í Visual Bookmarks –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è chrome.storage.local, —Ç–∞–∫ –∫–∞–∫ –¥–µ—Ä–µ–≤–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –±–æ–ª—å—à–∏–º, –∏ –≤–∞–∂–Ω–∞ —Å–∫–æ—Ä–æ—Å—Ç—å.
________________________________________
10.3. –ú–æ–¥—É–ª—å sqlStorage.ts
–≠—Ç–æ ¬´–ø—Ä–æ—Å–ª–æ–π–∫–∞¬ª –º–µ–∂–¥—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º –∏ chrome.storage.
–û–Ω —Ä–µ—à–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–¥–∞—á:
‚Ä¢	—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è (–ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –¥–µ—Ä–µ–≤–æ –≤ JSON –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è);
‚Ä¢	–¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è (–≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –¥–µ—Ä–µ–≤–æ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ);
‚Ä¢	–æ–ø–µ—Ä–∞—Ü–∏–∏ CRUD (–¥–æ–±–∞–≤–∏—Ç—å, —É–¥–∞–ª–∏—Ç—å, –∏–∑–º–µ–Ω–∏—Ç—å —É–∑–µ–ª);
‚Ä¢	–æ—Ñ–ª–∞–π–Ω-—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å (React –≤—Å–µ–≥–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ª–æ–∫–∞–ª—å–Ω–æ–π –∫–æ–ø–∏–µ–π).
________________________________________
–ü—Ä–∏–º–µ—Ä: —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–µ—Ä–µ–≤–∞
export async function saveTree(tree: TreeNode[]) {
  await chrome.storage.local.set({ tree });
}
________________________________________
–ü—Ä–∏–º–µ—Ä: –∑–∞–≥—Ä—É–∑–∫–∞ –¥–µ—Ä–µ–≤–∞
export async function loadTree(): Promise<TreeNode[]> {
  return new Promise((resolve) => {
    chrome.storage.local.get("tree", (result) => {
      resolve(result.tree || []);
    });
  });
}
________________________________________
10.4. –°–≤—è–∑—å —Å React
–ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–µ–Ω—è–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–æ–±–∞–≤–ª—è–µ—Ç —É–∑–µ–ª):
1.	UI (tree.tsx) –≤—ã–∑—ã–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é insertNode.
2.	treeOps.ts –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–µ—Ä–µ–≤–∞.
3.	App.tsx –≤—ã–∑—ã–≤–∞–µ—Ç saveTree –∏–∑ sqlStorage.ts.
4.	sqlStorage.ts —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ chrome.storage.local.
5.	–ü—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º —Å—Ç–∞—Ä—Ç–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è loadTree.
üëâ –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, React –≤—Å–µ–≥–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –∞–∫—Ç—É–∞–ª—å–Ω–æ–π –∫–æ–ø–∏–µ–π –¥–µ—Ä–µ–≤–∞.
________________________________________
10.5. –û—Ñ–ª–∞–π–Ω-—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å
‚Ä¢	React —Ö—Ä–∞–Ω–∏—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤ –ø–∞–º—è—Ç–∏ ‚Äî –º–≥–Ω–æ–≤–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –±–µ–∑ –∑–∞–¥–µ—Ä–∂–µ–∫.
‚Ä¢	background —Ö—Ä–∞–Ω–∏—Ç –∫–æ–ø–∏—é –≤ storage ‚Äî –¥–æ–ª–≥–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ.
‚Ä¢	–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ —É–ø–∞–ª–æ, —Ç–æ –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ UI –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ chrome.storage.local.
________________________________________
10.6. –ü—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è
1.	–ó–∞–¥–µ—Ä–∂–∫–∏ –ø—Ä–∏ –±–æ–ª—å—à–∏—Ö –¥–µ—Ä–µ–≤—å—è—Ö
o	–†–µ—à–µ–Ω–∏–µ: —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –Ω–µ –∫–∞–∂–¥–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ, –∞ –±–∞—Ç—á–∞–º–∏.
2.	–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏ –≤–∫–ª–∞–¥–æ–∫
o	–†–µ—à–µ–Ω–∏–µ: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å batchId –∏ –ø—Ä–æ–≤–µ—Ä–∫—É ¬´—ç—Ç–∞ –ø–∞—Ä—Ç–∏—è —É–∂–µ –±—ã–ª–∞?¬ª.
3.	–ü–æ—Ç–µ—Ä—è –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ —Å–±–æ–µ Chrome
o	–†–µ—à–µ–Ω–∏–µ: —Ö—Ä–∞–Ω–∏—Ç—å snapshot –≤ –ø–∞–º—è—Ç–∏ –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å chrome.storage.local.
________________________________________
10.7. –ò—Ç–æ–≥
‚Ä¢	Visual Bookmarks —Ö—Ä–∞–Ω–∏—Ç –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ chrome.storage.local.
‚Ä¢	–ú–æ–¥—É–ª—å sqlStorage.ts –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —É–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è/–∑–∞–≥—Ä—É–∑–∫–∏.
‚Ä¢	–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–¥–µ–ª–∞–Ω–∞ —Ç–∞–∫, —á—Ç–æ UI –≤—Å–µ–≥–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –∞–∫—Ç—É–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏.
‚Ä¢	–î–∞–∂–µ –µ—Å–ª–∏ –±—Ä–∞—É–∑–µ—Ä —É–ø–∞–¥—ë—Ç, –¥–µ—Ä–µ–≤–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –∑–∞–ø—É—Å–∫–µ.
________________________________________
üëâ –õ–æ–≥–∏—á–Ω–æ–µ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ ‚Äî –ì–ª–∞–≤–∞ 11: –†–∞–±–æ—Ç–∞ —Å –¥–µ—Ä–µ–≤–æ–º –∑–∞–∫–ª–∞–¥–æ–∫ (tree.tsx –∏ treeOps.ts), –≥–¥–µ –º—ã –ø–æ–¥—Ä–æ–±–Ω–æ —Ä–∞–∑–±–µ—Ä—ë–º, –∫–∞–∫ –∏–º–µ–Ω–Ω–æ —É—Å—Ç—Ä–æ–µ–Ω–æ –¥–µ—Ä–µ–≤–æ, –∫–∞–∫–∏–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∏ –∫–∞–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤—Å—Ç–∞–≤–∫–∏/—É–¥–∞–ª–µ–Ω–∏—è.
–ì–ª–∞–≤–∞ 11. –†–∞–±–æ—Ç–∞ —Å –¥–µ—Ä–µ–≤–æ–º –∑–∞–∫–ª–∞–¥–æ–∫ (tree.tsx –∏ treeOps.ts)
________________________________________
11.1. –ß—Ç–æ —Ç–∞–∫–æ–µ –¥–µ—Ä–µ–≤–æ –≤ Visual Bookmarks?
–í –æ—Å–Ω–æ–≤–µ –ª–µ–∂–∏—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö, –ø–æ—Ö–æ–∂–∞—è –Ω–∞ —Ñ–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É:
‚Ä¢	–£–∑–µ–ª (Node) ‚Äî —ç—Ç–æ –ª–∏–±–æ –ø–∞–ø–∫–∞ (–∫–∞—Ç–µ–≥–æ—Ä–∏—è), –ª–∏–±–æ –∑–∞–∫–ª–∞–¥–∫–∞ (—Å—Å—ã–ª–∫–∞).
‚Ä¢	–ü–∞–ø–∫–∞ –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –¥—Ä—É–≥–∏–µ –ø–∞–ø–∫–∏ –∏ –∑–∞–∫–ª–∞–¥–∫–∏.
‚Ä¢	–ö–æ—Ä–µ–Ω—å –¥–µ—Ä–µ–≤–∞ ‚Äî —Å—Ç–∞—Ä—Ç–æ–≤–∞—è —Ç–æ—á–∫–∞, –≥–¥–µ —Ä–∞–∑–º–µ—â–∞—é—Ç—Å—è –≤—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏.
–ü—Ä–∏–º–µ—Ä –≤ JSON:
[
  {
    "id": "1",
    "title": "–†–∞–±–æ—Ç–∞",
    "children": [
      { "id": "2", "title": "–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è", "url": "https://developer.chrome.com" },
      { "id": "3", "title": "–ó–∞–¥–∞—á–∏", "url": "https://jira.company.com" }
    ]
  },
  {
    "id": "4",
    "title": "–õ–∏—á–Ω–æ–µ",
    "children": []
  }
]
________________________________________
11.2. –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö
–û–±—ã—á–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –≤ models.ts:
export interface TreeNode {
  id: string;
  title: string;
  url?: string;         // –µ—Å—Ç—å —Ç–æ–ª—å–∫–æ —É —Å—Å—ã–ª–æ–∫
  children?: TreeNode[]; // –µ—Å—Ç—å —Ç–æ–ª—å–∫–æ —É –ø–∞–ø–æ–∫
}
üëâ –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –ø–∞–ø–∫–∞ = TreeNode –±–µ–∑ url, –∞ –∑–∞–∫–ª–∞–¥–∫–∞ = TreeNode –±–µ–∑ children.
________________________________________
11.3. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç tree.tsx
–≠—Ç–æ React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π:
1.	–û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –¥–µ—Ä–µ–≤–æ (—Å –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å—é).
2.	–ü–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞—Å–∫—Ä—ã–≤–∞—Ç—å/—Å–≤–æ—Ä–∞—á–∏–≤–∞—Ç—å –ø–∞–ø–∫–∏.
3.	–†–µ–∞–ª–∏–∑—É–µ—Ç drag & drop (–ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ —É–∑–ª–æ–≤).
4.	–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ.
–£–ø—Ä–æ—â—ë–Ω–Ω—ã–π –ø—Ä–∏–º–µ—Ä
function Tree({ nodes }: { nodes: TreeNode[] }) {
  return (
    <ul>
      {nodes.map(node => (
        <li key={node.id}>
          {node.url 
            ? <a href={node.url}>{node.title}</a> 
            : <span>{node.title}</span>
          }
          {node.children && <Tree nodes={node.children} />}
        </li>
      ))}
    </ul>
  );
}
üëâ –ù–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–π:
‚Ä¢	–¥–æ–±–∞–≤–ª–µ–Ω—ã –∫–Ω–æ–ø–∫–∏ ¬´+–ó–∞–∫–ª–∞–¥–∫–∞¬ª, ¬´+–ö–∞—Ç–µ–≥–æ—Ä–∏—è¬ª;
‚Ä¢	–µ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∏–∫–æ–≤ –ø—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π;
‚Ä¢	–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å treeOps.ts.
________________________________________
11.4. –ú–æ–¥—É–ª—å treeOps.ts
–≠—Ç–æ –Ω–∞–±–æ—Ä —á–∏—Å—Ç—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ —É–ø—Ä–∞–≤–ª—è—é—Ç –¥–µ—Ä–µ–≤–æ–º:
‚Ä¢	insertNode(tree, parentId, newNode) ‚Äî –¥–æ–±–∞–≤–∏—Ç—å —É–∑–µ–ª.
‚Ä¢	removeNode(tree, nodeId) ‚Äî —É–¥–∞–ª–∏—Ç—å —É–∑–µ–ª.
‚Ä¢	moveNode(tree, nodeId, newParentId) ‚Äî –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å.
‚Ä¢	updateNode(tree, nodeId, props) ‚Äî –∏–∑–º–µ–Ω–∏—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ, URL –∏ —Ç.–ø.
–ü—Ä–∏–º–µ—Ä: –≤—Å—Ç–∞–≤–∫–∞ —É–∑–ª–∞
export function insertNode(
  tree: TreeNode[], 
  parentId: string | null, 
  newNode: TreeNode
): TreeNode[] {
  if (parentId === null) {
    return [...tree, newNode]; // –≤—Å—Ç–∞–≤–ª—è–µ–º –≤ –∫–æ—Ä–µ–Ω—å
  }
  return tree.map(node => {
    if (node.id === parentId) {
      return {
        ...node,
        children: [...(node.children || []), newNode]
      };
    }
    if (node.children) {
      return { ...node, children: insertNode(node.children, parentId, newNode) };
    }
    return node;
  });
}
________________________________________
11.5. –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ tree.tsx ‚Üî treeOps.ts
1.	–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç ¬´–î–æ–±–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É¬ª.
2.	tree.tsx –≤—ã–∑—ã–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é –∏–∑ treeOps.ts.
3.	–§—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é –¥–µ—Ä–µ–≤–∞ (–∏–º–º—É—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—å).
4.	React –æ–±–Ω–æ–≤–ª—è–µ—Ç state, —Ä–µ—Ä–µ–Ω–¥–µ—Ä–∏—Ç –¥–µ—Ä–µ–≤–æ.
5.	sqlStorage.ts —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ chrome.storage.local.
________________________________________
11.6. –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
‚Ä¢	–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã —É–∑–ª–æ–≤ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ Date.now() + —Å–ª—É—á–∞–π–Ω—ã–π —Å—É—Ñ—Ñ–∏–∫—Å.
‚Ä¢	–í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ ‚Äî –∏–º–º—É—Ç–∞–±–µ–ª—å–Ω—ã–µ: –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –Ω–æ–≤–æ–µ –¥–µ—Ä–µ–≤–æ, –∞ –Ω–µ –º–µ–Ω—è—é—Ç —Å—Ç–∞—Ä–æ–µ.
‚Ä¢	Drag & Drop —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–≤–µ—Ä—Ö moveNode.
‚Ä¢	–ü—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–µ–ª—å–∑—è –¥–æ–±–∞–≤–∏—Ç—å –ø–∞–ø–∫—É –±–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è).
________________________________________
11.7. –ü—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è
1.	–°–ª–∏—à–∫–æ–º –≥–ª—É–±–æ–∫–æ–µ –¥–µ—Ä–µ–≤–æ
o	–†–µ—à–µ–Ω–∏–µ: –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞—Å–∫—Ä—ã—Ç–∏—è —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã—Ö –≤–µ—Ç–≤–µ–π.
2.	–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Å—ã–ª–æ–∫
o	–†–µ—à–µ–Ω–∏–µ: –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —É—Ä–æ–≤–Ω–µ treeOps.ts –∏–ª–∏ –ø–µ—Ä–µ–¥ –≤—Å—Ç–∞–≤–∫–æ–π.
3.	–ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ —É–∑–ª–æ–≤ –º–µ–∂–¥—É –≤–µ—Ç–∫–∞–º–∏
o	–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —á–µ—Ä–µ–∑ removeNode + insertNode.
________________________________________
11.8. –ò—Ç–æ–≥
‚Ä¢	tree.tsx = ¬´–ª–∏—Ü–æ¬ª –¥–µ—Ä–µ–≤–∞ (UI).
‚Ä¢	treeOps.ts = ¬´–º–æ–∑–≥¬ª –¥–µ—Ä–µ–≤–∞ (–æ–ø–µ—Ä–∞—Ü–∏–∏).
‚Ä¢	–í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –ø–æ—Å—Ç—Ä–æ–µ–Ω–æ –Ω–∞ –∏–º–º—É—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ React state.
‚Ä¢	–¢–∞–∫–∞—è —Å—Ö–µ–º–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è –±—ã—Å—Ç—Ä—ã–º –∏ —É—Å—Ç–æ–π—á–∏–≤—ã–º, –¥–∞–∂–µ –ø—Ä–∏ –±–æ–ª—å—à–∏—Ö –¥–µ—Ä–µ–≤—å—è—Ö.
________________________________________
üëâ –°–ª–µ–¥—É—é—â–∞—è –≥–ª–∞–≤–∞ –ª–æ–≥–∏—á–Ω–æ –±—É–¥–µ—Ç –ø—Ä–æ –ø–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é: –∫–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω search.ts, –∫–∞–∫ –±—ã—Å—Ç—Ä–æ –Ω–∞–π—Ç–∏ —Å—Å—ã–ª–∫—É –≤ –±–æ–ª—å—à–æ–º –¥–µ—Ä–µ–≤–µ –∏ –∫–∞–∫ —ç—Ç–æ —Å–≤—è–∑–∞–Ω–æ —Å React.
‚ÄÉ
–ì–ª–∞–≤–∞ 12. –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∑–∞–∫–ª–∞–¥–æ–∫
________________________________________
12.1. –ó–∞—á–µ–º –Ω—É–∂–µ–Ω –ø–æ–∏—Å–∫?
–ö–æ–≥–¥–∞ –¥–µ—Ä–µ–≤–æ –º–∞–ª–µ–Ω—å–∫–æ–µ (10‚Äì20 —Å—Å—ã–ª–æ–∫), –ª–µ–≥–∫–æ –∫–ª–∏–∫–∞—Ç—å –ø–æ –ø–∞–ø–∫–∞–º.
–ù–æ –µ—Å–ª–∏ —É–∑–ª–æ–≤ —Å–æ—Ç–Ω–∏, —Ç–æ:
‚Ä¢	–Ω–∞–π—Ç–∏ –Ω—É–∂–Ω—ã–π —Å–∞–π—Ç –≤—Ä—É—á–Ω—É—é —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ø—Ä–æ–±–ª–µ–º–æ–π;
‚Ä¢	–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≤–∞–∂–Ω–æ –±—ã—Å—Ç—Ä–æ –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã;
‚Ä¢	–∑–∞–∫–ª–∞–¥–∫–∏ –º–æ–≥—É—Ç –ø–æ–≤—Ç–æ—Ä—è—Ç—å—Å—è –≤ —Ä–∞–∑–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏—è—Ö.
–ü–æ—ç—Ç–æ–º—É –±—ã–ª —Å–æ–∑–¥–∞–Ω –º–æ–¥—É–ª—å search.ts.
________________________________________
12.2. –ö–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω –ø–æ–∏—Å–∫ –≤ Visual Bookmarks
–ü–æ–∏—Å–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ –≤ –ø–∞–º—è—Ç–∏ (–Ω–µ —á–µ—Ä–µ–∑ Chrome bookmarks API).
–ê–ª–≥–æ—Ä–∏—Ç–º:
1.	–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç —Ç–µ–∫—Å—Ç –≤ —Å—Ç—Ä–æ–∫—É –ø–æ–∏—Å–∫–∞.
2.	React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–æ–ª—É—á–∞–µ—Ç —Å–æ–±—ã—Ç–∏–µ onChange.
3.	–í—ã–∑–≤–∞–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è –∏–∑ search.ts, –∫–æ—Ç–æ—Ä–∞—è –∏—â–µ—Ç –ø–æ –¥–µ—Ä–µ–≤—É.
4.	–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è —Å–ø–∏—Å–æ–∫ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π (—É–∑–ª—ã).
5.	UI –ø–æ–¥—Å–≤–µ—á–∏–≤–∞–µ—Ç –Ω–∞–π–¥–µ–Ω–Ω—ã–µ —É–∑–ª—ã –∏–ª–∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Å–ø–∏—Å–æ–∫.
________________________________________
12.3. –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–∏—Å–∫–∞
–û–±—ã—á–Ω–æ —Å—Ç—Ä–æ–∫–∞ –ø–æ–∏—Å–∫–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –≤–µ—Ä—Ö–Ω–µ–π —á–∞—Å—Ç–∏ –ø–∞–Ω–µ–ª–∏:
<input 
  type="text"
  placeholder="–ü–æ–∏—Å–∫..."
  value={query}
  onChange={e => setQuery(e.target.value)}
/>
________________________________________
12.4. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤ search.ts
–ü—Ä–∏–º–µ—Ä —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ–∏—Å–∫–∞:
import { TreeNode } from "./models";

export function searchTree(nodes: TreeNode[], query: string): TreeNode[] {
  const q = query.toLowerCase();
  const results: TreeNode[] = [];

  function dfs(node: TreeNode) {
    if (node.title.toLowerCase().includes(q) || (node.url?.toLowerCase().includes(q))) {
      results.push(node);
    }
    if (node.children) {
      for (const child of node.children) {
        dfs(child);
      }
    }
  }

  for (const n of nodes) dfs(n);

  return results;
}
üëâ –ó–¥–µ—Å—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è DFS (–æ–±—Ö–æ–¥ –≤ –≥–ª—É–±–∏–Ω—É) –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–æ –≤—Å–µ–º—É –¥–µ—Ä–µ–≤—É.
________________________________________
12.5. –¢–∏–ø—ã –ø–æ–∏—Å–∫–∞
Visual Bookmarks –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–µ–∂–∏–º–æ–≤:
‚Ä¢	–ü–æ –Ω–∞–∑–≤–∞–Ω–∏—é (title).
‚Ä¢	–ü–æ URL (–≤ —Ç–æ–º —á–∏—Å–ª–µ —á–∞—Å—Ç–∏—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ).
‚Ä¢	(–ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ) –ü–æ —Ç–µ–≥–∞–º ‚Äî –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ TreeNode.
________________________________________
12.6. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è
–í–º–µ—Å—Ç–æ —Ç–æ–≥–æ —á—Ç–æ–±—ã –ø—Ä–æ—Å—Ç–æ –≤—ã–¥–∞–≤–∞—Ç—å —Å–ø–∏—Å–æ–∫ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π, –º–æ–∂–Ω–æ ¬´—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å¬ª –¥–µ—Ä–µ–≤–æ:
‚Ä¢	–æ—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –≤–µ—Ç–≤–∏, –≥–¥–µ –µ—Å—Ç—å —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è;
‚Ä¢	–ø–æ–¥—Å–≤–µ—Ç–∏—Ç—å —Å–æ–≤–ø–∞–≤—à–∏–µ —É–∑–ª—ã;
‚Ä¢	—Å–∫—Ä—ã—Ç—å –Ω–µ—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ —É–∑–ª—ã.
–ü—Ä–∏–º–µ—Ä –ø–æ–¥—Ö–æ–¥–∞:
export function filterTree(nodes: TreeNode[], query: string): TreeNode[] {
  const q = query.toLowerCase();

  return nodes
    .map(node => {
      if (node.title.toLowerCase().includes(q) || node.url?.toLowerCase().includes(q)) {
        return node;
      }
      if (node.children) {
        const filteredChildren = filterTree(node.children, query);
        if (filteredChildren.length > 0) {
          return { ...node, children: filteredChildren };
        }
      }
      return null;
    })
    .filter(Boolean) as TreeNode[];
}
üëâ –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –≤–µ—Ç–≤–∏ –¥–µ—Ä–µ–≤–∞.
________________________________________
12.7. –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å React
1.	–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç —Ç–µ–∫—Å—Ç.
2.	–°–æ—Å—Ç–æ—è–Ω–∏–µ query –º–µ–Ω—è–µ—Ç—Å—è.
3.	–ö–æ–º–ø–æ–Ω–µ–Ω—Ç Tree –ø–æ–ª—É—á–∞–µ—Ç –ª–∏–±–æ:
o	–ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ (nodes),
o	–ª–∏–±–æ –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã–π (filterTree(nodes, query)).
4.	–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è.
________________________________________
12.8. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
‚Ä¢	–î–ª—è –¥–µ—Ä–µ–≤—å–µ–≤ –¥–æ ~10 000 —É–∑–ª–æ–≤ –ø–æ–∏—Å–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω–æ.
‚Ä¢	–ß—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –ª–∏—à–Ω–∏—Ö –ø–µ—Ä–µ—Å—á—ë—Ç–æ–≤, –∏—Å–ø–æ–ª—å–∑—É—é—Ç useMemo:
const results = useMemo(
  () => filterTree(nodes, query),
  [nodes, query]
);
________________________________________
12.9. –í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è
‚Ä¢	–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π.
‚Ä¢	Fuzzy search (–Ω–µ—á—ë—Ç–∫–∏–π –ø–æ–∏—Å–∫, –Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ fuse.js).
‚Ä¢	–ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö —É–∑–ª–æ–≤ –∑–∞—Ä–∞–Ω–µ–µ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞).
________________________________________
12.10. –ò—Ç–æ–≥
‚Ä¢	–ü–æ–∏—Å–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –≤ –º–æ–¥—É–ª–µ search.ts.
‚Ä¢	–û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è: —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –æ–±—Ö–æ–¥ –¥–µ—Ä–µ–≤–∞ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ title –∏ url.
‚Ä¢	–í UI –ø–æ–∏—Å–∫ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ tree.tsx —á–µ—Ä–µ–∑ query –∏ useMemo.
‚Ä¢	–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Ä–∞—Å—à–∏—Ä—è—é—Ç—Å—è ‚Äî –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å fuzzy search –∏ —Ç–µ–≥–∏.
________________________________________
üëâ –°–ª–µ–¥—É—é—â–∞—è –≥–ª–∞–≤–∞ –ª–æ–≥–∏—á–Ω–æ –±—É–¥–µ—Ç –ø—Ä–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é –∏ –∫–æ–º–∞–Ω–¥—ã, —Ç.–µ. –∫–∞–∫ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –≤—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ –º–µ–Ω—é Chrome –∏ –∫–∞–∫–∏–µ –¥–µ–π—Å—Ç–≤–∏—è –¥–æ—Å—Ç—É–ø–Ω—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.
‚ÄÉ
–ì–ª–∞–≤–∞ 13. –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é –∏ –∫–æ–º–∞–Ω–¥—ã
________________________________________
13.1. –ó–∞—á–µ–º –Ω—É–∂–Ω–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é?
Visual Bookmarks –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è –Ω–µ —Ç–æ–ª—å–∫–æ –∫–∞–∫ –ø–∞–Ω–µ–ª—å, –Ω–æ –∏ —á–µ—Ä–µ–∑ –ø—Ä–∞–≤—ã–π –∫–ª–∏–∫ –≤ Chrome:
‚Ä¢	–î–æ–±–∞–≤–∏—Ç—å –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–µ –≤–∫–ª–∞–¥–∫–∏ –≤ –¥–µ—Ä–µ–≤–æ.
‚Ä¢	–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É.
‚Ä¢	–ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏—é.
‚Ä¢	–û—Ç–∫—Ä—ã—Ç—å –∑–∞–∫–ª–∞–¥–∫–∏ –∏–∑ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –≥—Ä—É–ø–ø—ã.
–≠—Ç–æ –¥–µ–ª–∞–µ—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ ¬´–ø–æ–¥ —Ä—É–∫–æ–π¬ª, –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –µ–≥–æ UI.
________________________________________
13.2. Chrome API –¥–ª—è –º–µ–Ω—é
–†–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ chrome.contextMenus.
–ú–∞–Ω–∏—Ñ–µ—Å—Ç (manifest.json) –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å:
"permissions": ["contextMenus", "tabs"]
________________________________________
13.3. –°–æ–∑–¥–∞–Ω–∏–µ –º–µ–Ω—é –≤ background.ts
–ü—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è background.ts —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –ø—É–Ω–∫—Ç—ã –º–µ–Ω—é:
chrome.runtime.onInstalled.addListener(() => {
  chrome.contextMenus.create({
    id: "add-selected-tabs",
    title: "–î–æ–±–∞–≤–∏—Ç—å –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–µ –≤–∫–ª–∞–¥–∫–∏",
    contexts: ["all"]
  });

  chrome.contextMenus.create({
    id: "add-current-tab",
    title: "–î–æ–±–∞–≤–∏—Ç—å —Ç–µ–∫—É—â—É—é –≤–∫–ª–∞–¥–∫—É",
    contexts: ["page"]
  });
});
üëâ id –Ω—É–∂–µ–Ω –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å, –∫–∞–∫–æ–π –ø—É–Ω–∫—Ç –±—ã–ª –≤—ã–±—Ä–∞–Ω.
________________________________________
13.4. –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∏–∫–∞ –ø–æ –º–µ–Ω—é
chrome.contextMenus.onClicked.addListener(async (info, tab) => {
  switch (info.menuItemId) {
    case "add-selected-tabs":
      const tabs = await chrome.tabs.query({ highlighted: true, currentWindow: true });
      sendTabsToPanel(tabs);
      break;

    case "add-current-tab":
      if (tab) sendTabsToPanel([tab]);
      break;
  }
});
–ó–¥–µ—Å—å sendTabsToPanel ‚Äî –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è —É–ø–∞–∫–æ–≤—ã–≤–∞–µ—Ç –≤–∫–ª–∞–¥–∫–∏ –≤ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ –ø–µ—Ä–µ–¥–∞—ë—Ç –∏—Ö –≤ –ø–∞–Ω–µ–ª—å.
________________________________________
13.5. –ö–æ–º–∞–Ω–¥—ã (–≥–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏)
Chrome –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–∑–Ω–∞—á–∞—Ç—å —à–æ—Ä—Ç–∫–∞—Ç—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, Ctrl+Shift+Y).
–í manifest.json:
"commands": {
  "open-visual-bookmarks": {
    "suggested_key": {
      "default": "Ctrl+Shift+Y"
    },
    "description": "–û—Ç–∫—Ä—ã—Ç—å –ø–∞–Ω–µ–ª—å Visual Bookmarks"
  }
}
–í background.ts:
chrome.commands.onCommand.addListener((command) => {
  if (command === "open-visual-bookmarks") {
    openPanel();
  }
});
________________________________________
13.6. –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –¥–µ—Ä–µ–≤–æ–º
–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é = —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞:
1.	–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∫–ª–∏–∫–∞–µ—Ç ¬´–î–æ–±–∞–≤–∏—Ç—å –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–µ –≤–∫–ª–∞–¥–∫–∏¬ª.
2.	background.ts —Å–æ–±–∏—Ä–∞–µ—Ç –≤–∫–ª–∞–¥–∫–∏.
3.	–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∏—Ö –≤ –ø–∞–Ω–µ–ª—å (chrome.runtime.sendMessage).
4.	–ü–∞–Ω–µ–ª—å (App.tsx ‚Üí tree.tsx) –¥–æ–±–∞–≤–ª—è–µ—Ç –∏—Ö –≤ –≤—ã–±—Ä–∞–Ω–Ω—ã–π —É–∑–µ–ª –¥–µ—Ä–µ–≤–∞.
________________________________________
13.7. –ü—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è
1.	–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—É–Ω–∫—Ç–æ–≤
o	–ï—Å–ª–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∏ —Å–Ω–æ–≤–∞ —Å–æ–∑–¥–∞–≤–∞—Ç—å –º–µ–Ω—é, –ø—É–Ω–∫—Ç—ã –º–æ–≥—É—Ç –Ω–∞–∫–æ–ø–∏—Ç—å—Å—è.
o	–†–µ—à–µ–Ω–∏–µ: –ø–µ—Ä–µ–¥ create –≤—Å–µ–≥–¥–∞ –¥–µ–ª–∞—Ç—å chrome.contextMenus.removeAll().
2.	–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã
o	–ù–∞–ø—Ä–∏–º–µ—Ä, –º–µ–Ω—é ¬´–î–æ–±–∞–≤–∏—Ç—å –≤–∫–ª–∞–¥–∫—É¬ª –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –ø—É—Å—Ç–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ.
o	–†–µ—à–µ–Ω–∏–µ: –∑–∞–¥–∞–≤–∞—Ç—å contexts: ["page", "link"] –≤–º–µ—Å—Ç–æ ["all"].
3.	–†–∞–∑—Ä—ã–≤ —Å–≤—è–∑–∏ —Å –ø–∞–Ω–µ–ª—å—é
o	–ï—Å–ª–∏ –ø–∞–Ω–µ–ª—å –∑–∞–∫—Ä—ã—Ç–∞, —Å–æ–æ–±—â–µ–Ω–∏—è —Ç–µ—Ä—è—é—Ç—Å—è.
o	–†–µ—à–µ–Ω–∏–µ: —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –±—É—Ñ–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏–π –≤ background.ts, —á—Ç–æ–±—ã –ø–∞–Ω–µ–ª—å –ø–æ–ª—É—á–∞–ª–∞ –∏—Ö –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –æ—Ç–∫—Ä—ã—Ç–∏–∏.
________________________________________
13.8. –ò—Ç–æ–≥
‚Ä¢	–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é —Å–æ–∑–¥–∞—ë—Ç—Å—è —á–µ—Ä–µ–∑ chrome.contextMenus.
‚Ä¢	–û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–ª–∏–∫–æ–≤ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤ background.ts.
‚Ä¢	–ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ chrome.commands.
‚Ä¢	–ú–µ–Ω—é –∏ –∫–æ–º–∞–Ω–¥—ã —Å–≤—è–∑–∞–Ω—ã —Å –¥–µ—Ä–µ–≤–æ–º —á–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º—É —Å–æ–æ–±—â–µ–Ω–∏–π.
‚Ä¢	–î–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ –≤–∞–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å removeAll, –±—É—Ñ–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏–π –∏ –ø—Ä–æ–≤–µ—Ä–∫—É –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤.
________________________________________
üëâ –õ–æ–≥–∏—á–Ω–æ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –ì–ª–∞–≤–æ–π 14: –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏ –æ—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º (sqlStorage.ts) ‚Äî —Ç–∞–º –º—ã —Ä–∞–∑–±–µ—Ä—ë–º, –∫–∞–∫ –≤—Å—ë —ç—Ç–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è, —á—Ç–æ–±—ã –∑–∞–∫–ª–∞–¥–∫–∏ –Ω–µ –ø–æ—Ç–µ—Ä—è–ª–∏—Å—å –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –±—Ä–∞—É–∑–µ—Ä–∞.
–ì–ª–∞–≤–∞ 14. –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏ –æ—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º (sqlStorage.ts)
________________________________________
14.1. –ó–∞—á–µ–º –Ω—É–∂–Ω–æ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö?
Visual Bookmarks –æ–ø–µ—Ä–∏—Ä—É–µ—Ç –¥–µ—Ä–µ–≤–æ–º –∑–∞–∫–ª–∞–¥–æ–∫, –∫–æ—Ç–æ—Ä–æ–µ:
‚Ä¢	–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—Ä—É—á–Ω—É—é —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –∏ –∏–∑–º–µ–Ω—è–µ—Ç;
‚Ä¢	–¥–æ–ª–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏;
‚Ä¢	–Ω–µ –¥–æ–ª–∂–Ω–æ —Ç–µ—Ä—è—Ç—å—Å—è –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ –±—Ä–∞—É–∑–µ—Ä–∞;
‚Ä¢	–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ –æ—Ñ–ª–∞–π–Ω.
üëâ –•—Ä–∞–Ω–µ–Ω–∏–µ ‚Äî —ç—Ç–æ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç, –±–µ–∑ –Ω–µ–≥–æ –ø–∞–Ω–µ–ª—å –±—ã–ª–∞ –±—ã –æ–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–º —Å–ø–∏—Å–∫–æ–º.
________________________________________
14.2. –ö–∞–∫–∏–µ –µ—Å—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç—ã —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ Chrome Extensions
Chrome –¥–∞—ë—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ API:
1.	chrome.storage.local ‚Äî –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ key-value —Ö—Ä–∞–Ω–∏–ª–∏—â–µ.
o	–ü–ª—é—Å: —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å –±—Ä–∞—É–∑–µ—Ä–æ–º.
o	–ú–∏–Ω—É—Å: –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø–æ–∏—Å–∫–∞ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏.
2.	IndexedDB ‚Äî –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è –±–∞–∑–∞ –≤–Ω—É—Ç—Ä–∏ –±—Ä–∞—É–∑–µ—Ä–∞.
o	–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è, —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º.
o	–ü–ª—é—Å: –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–µ—Ä–µ–≤–æ).
3.	localStorage ‚Äî —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ, –Ω–æ –ø—Ä–æ—Å—Ç–æ–µ key-value.
o	–ù–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –±–æ–ª—å—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö.
–í –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ –≤—ã–±—Ä–∞–Ω IndexedDB, –æ–±—ë—Ä–Ω—É—Ç—ã–π –≤ –º–æ–¥—É–ª—å sqlStorage.ts.
________________________________________
14.3. –†–æ–ª—å sqlStorage.ts
–§–∞–π–ª sqlStorage.ts ‚Äî —ç—Ç–æ –ø—Ä–æ—Å–ª–æ–π–∫–∞ –º–µ–∂–¥—É –∫–æ–¥–æ–º —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –∏ IndexedDB.
–ó–∞–¥–∞—á–∏:
‚Ä¢	—Å–æ–∑–¥–∞—Ç—å –ë–î –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ;
‚Ä¢	—Ö—Ä–∞–Ω–∏—Ç—å –¥–µ—Ä–µ–≤–æ —É–∑–ª–æ–≤ (TreeNode);
‚Ä¢	—É–º–µ—Ç—å —Å–æ—Ö—Ä–∞–Ω—è—Ç—å/—á–∏—Ç–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ –≤–µ—Ç–≤–∏;
‚Ä¢	–æ–±–Ω–æ–≤–ª—è—Ç—å –¥–∞–Ω–Ω—ã–µ –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã.
________________________________________
14.4. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö
–ú–æ–¥–µ–ª—å –∏–∑ models.ts:
export interface TreeNode {
  id: string;
  title: string;
  url?: string;
  children?: TreeNode[];
}
üëâ –í IndexedDB –¥–µ—Ä–µ–≤–æ —Ö—Ä–∞–Ω–∏—Ç—Å—è —Å–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–º (JSON).
________________________________________
14.5. –ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞ –≤ sqlStorage.ts
–£–ø—Ä–æ—â—ë–Ω–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç:
const DB_NAME = "visualBookmarks";
const STORE_NAME = "trees";
const VERSION = 1;

function openDB(): Promise<IDBDatabase> {
  return new Promise((resolve, reject) => {
    const request = indexedDB.open(DB_NAME, VERSION);
    request.onupgradeneeded = (e) => {
      const db = (e.target as IDBOpenDBRequest).result;
      if (!db.objectStoreNames.contains(STORE_NAME)) {
        db.createObjectStore(STORE_NAME, { keyPath: "id" });
      }
    };
    request.onsuccess = () => resolve(request.result);
    request.onerror = () => reject(request.error);
  });
}

export async function saveTree(tree: TreeNode) {
  const db = await openDB();
  const tx = db.transaction(STORE_NAME, "readwrite");
  tx.objectStore(STORE_NAME).put(tree);
  return tx.complete;
}

export async function loadTree(id: string): Promise<TreeNode | undefined> {
  const db = await openDB();
  return new Promise((resolve, reject) => {
    const req = db.transaction(STORE_NAME, "readonly")
      .objectStore(STORE_NAME)
      .get(id);
    req.onsuccess = () => resolve(req.result);
    req.onerror = () => reject(req.error);
  });
}
________________________________________
14.6. –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å UI
1.	–ü—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –ø–∞–Ω–µ–ª–∏ (App.tsx):
o	–≤—ã–∑—ã–≤–∞–µ—Ç—Å—è loadTree("root");
o	–¥–µ—Ä–µ–≤–æ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è.
2.	–ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –¥–µ—Ä–µ–≤–∞ (treeOps.ts):
o	–ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ (add, move, delete) ‚Üí saveTree(updatedTree).
–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, UI ‚Üî sqlStorage.ts ‚Üî IndexedDB —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Ü–∏–∫–ª.
________________________________________
14.7. –†–∞–±–æ—Ç–∞ –æ—Ñ–ª–∞–π–Ω
–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å IndexedDB ‚Äî –¥–∞–Ω–Ω—ã–µ –∂–∏–≤—É—Ç –≤ –ø—Ä–æ—Ñ–∏–ª–µ –±—Ä–∞—É–∑–µ—Ä–∞.
–î–∞–∂–µ –±–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞:
‚Ä¢	–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–µ—Ä–µ–≤–æ;
‚Ä¢	–≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ;
‚Ä¢	–ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –∑–∞–ø—É—Å–∫–µ –ø–∞–Ω–µ–ª—å –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Å —Ç–æ–≥–æ –∂–µ –º–µ—Å—Ç–∞.
–≠—Ç–æ –∏ –µ—Å—Ç—å –æ—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º Visual Bookmarks.
________________________________________
14.8. –í–æ–∑–º–æ–∂–Ω—ã–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
‚Ä¢	–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ chrome.storage.sync ‚Üí –¥–æ—Å—Ç—É–ø –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö.
‚Ä¢	–≠–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç –¥–µ—Ä–µ–≤–∞ –≤ JSON (—Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ).
‚Ä¢	–í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ—Ä–µ–≤–∞ (undo/redo).
________________________________________
14.9. –ò—Ç–æ–≥
‚Ä¢	–•—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —á–µ—Ä–µ–∑ IndexedDB, –æ–±—ë—Ä–Ω—É—Ç—É—é –≤ sqlStorage.ts.
‚Ä¢	–î–µ—Ä–µ–≤–æ —Å–µ—Ä–∏–∞–ª–∏–∑—É–µ—Ç—Å—è –∏ —Ö—Ä–∞–Ω–∏—Ç—Å—è –∫–∞–∫ –æ–±—ä–µ–∫—Ç.
‚Ä¢	–ü–∞–Ω–µ–ª—å –≤—Å–µ–≥–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ñ–ª–∞–π–Ω.
‚Ä¢	–õ—é–±–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ —Å –¥–µ—Ä–µ–≤–æ–º –æ—Ç—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –ë–î.
________________________________________
üëâ –õ–æ–≥–∏—á–Ω–æ, —á—Ç–æ –¥–∞–ª—å—à–µ –ø–æ–π–¥—ë—Ç –ì–ª–∞–≤–∞ 15: –û—Ç–∫—Ä—ã—Ç–∏–µ —Å—Å—ã–ª–æ–∫ –∏ —Ä–∞–±–æ—Ç–∞ —Å –≥—Ä—É–ø–ø–∞–º–∏ –≤–∫–ª–∞–¥–æ–∫ (chrome.tabGroups) ‚Äî –≤–µ–¥—å —Ö—Ä–∞–Ω–∏—Ç—å –∑–∞–∫–ª–∞–¥–∫–∏ –º–∞–ª–æ, –Ω—É–∂–Ω–æ —É–º–µ—Ç—å –∏—Ö –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ.
–ì–ª–∞–≤–∞ 15. –û—Ç–∫—Ä—ã—Ç–∏–µ —Å—Å—ã–ª–æ–∫ –∏ —Ä–∞–±–æ—Ç–∞ —Å –≥—Ä—É–ø–ø–∞–º–∏ –≤–∫–ª–∞–¥–æ–∫ (chrome.tabGroups)
________________________________________
15.1. –ó–∞–¥–∞—á–∞
Visual Bookmarks —Ö—Ä–∞–Ω–∏—Ç –¥–µ—Ä–µ–≤–æ —Å—Å—ã–ª–æ–∫. –ù–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∂–¥—ë—Ç, —á—Ç–æ:
‚Ä¢	–∫–ª–∏–∫ –ø–æ —É–∑–ª—É –æ—Ç–∫—Ä–æ–µ—Ç —Å—Å—ã–ª–∫—É;
‚Ä¢	–ø—Ä–∏ –º–∞—Å—Å–æ–≤–æ–º –æ—Ç–∫—Ä—ã—Ç–∏–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∫–ª–∞–¥–æ–∫ —Å–≥—Ä—É–ø–ø–∏—Ä—É—é—Ç—Å—è;
‚Ä¢	–æ—Ç–∫—Ä—ã—Ç—ã–µ –∑–∞–∫–ª–∞–¥–∫–∏ –Ω–µ –ø–æ—Ç–µ—Ä—è—é—Ç—Å—è –≤ —Ö–∞–æ—Å–µ –≤–∫–ª–∞–¥–æ–∫.
üëâ –î–ª—è —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è API chrome.tabs –∏ chrome.tabGroups.
________________________________________
15.2. –û—Å–Ω–æ–≤–Ω—ã–µ API
1.	chrome.tabs.create ‚Äî –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –Ω–æ–≤—É—é –≤–∫–ª–∞–¥–∫—É.
2.	chrome.tabs.update ‚Äî –∏–∑–º–µ–Ω—è–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –≤–∫–ª–∞–¥–∫—É.
3.	chrome.tabs.group ‚Äî –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –≤–∫–ª–∞–¥–∫–∏ –≤ –≥—Ä—É–ø–ø—É.
4.	chrome.tabGroups.update ‚Äî –º–µ–Ω—è–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∏ —Ü–≤–µ—Ç –≥—Ä—É–ø–ø—ã.
________________________________________
15.3. –ü—Ä–∏–º–µ—Ä: –æ—Ç–∫—Ä—ã—Ç—å –æ–¥–Ω—É –∑–∞–∫–ª–∞–¥–∫—É
function openTab(url: string) {
  chrome.tabs.create({ url });
}
üëâ –í—ã–∑–æ–≤–µ—Ç—Å—è, –µ—Å–ª–∏ –∫–ª–∏–∫–Ω—É—Ç—å –ø–æ —É–∑–ª—É —Å url.
________________________________________
15.4. –ü—Ä–∏–º–µ—Ä: –æ—Ç–∫—Ä—ã—Ç—å —Å–ø–∏—Å–æ–∫ –∑–∞–∫–ª–∞–¥–æ–∫ –≤ –≥—Ä—É–ø–ø–µ
async function openTabsInGroup(urls: string[], groupTitle: string) {
  // 1. –°–æ–∑–¥–∞—ë–º –≤–∫–ª–∞–¥–∫–∏
  const tabIds: number[] = [];
  for (const url of urls) {
    const tab = await chrome.tabs.create({ url });
    tabIds.push(tab.id!);
  }

  // 2. –ì—Ä—É–ø–ø–∏—Ä—É–µ–º –∏—Ö
  const groupId = await chrome.tabs.group({ tabIds });

  // 3. –î–µ–∫–æ—Ä–∏—Ä—É–µ–º –≥—Ä—É–ø–ø—É
  await chrome.tabGroups.update(groupId, {
    title: groupTitle,
    color: "blue"
  });
}
________________________________________
15.5. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥–µ—Ä–µ–≤–æ–º
–í treeOps.ts –∏–ª–∏ App.tsx –µ—Å—Ç—å –≤—ã–∑–æ–≤—ã –≤—Ä–æ–¥–µ:
if (node.url) {
  openTab(node.url);
} else if (node.children) {
  const urls = node.children.map(c => c.url).filter(Boolean) as string[];
  openTabsInGroup(urls, node.title);
}
üëâ –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º:
‚Ä¢	–µ—Å–ª–∏ —É–∑–µ–ª = —Å—Å—ã–ª–∫–∞ ‚Üí –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤–∫–ª–∞–¥–∫–∞;
‚Ä¢	–µ—Å–ª–∏ —É–∑–µ–ª = –∫–∞—Ç–µ–≥–æ—Ä–∏—è ‚Üí –æ—Ç–∫—Ä—ã–≤–∞—é—Ç—Å—è –≤—Å–µ –¥–µ—Ç–∏ –≤ –≥—Ä—É–ø–ø–µ.
________________________________________
15.6. –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ Chrome Tab Groups
‚Ä¢	–ì—Ä—É–ø–ø–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–≤—ë—Ä–Ω—É—Ç–æ–π –∏–ª–∏ —Ä–∞–∑–≤—ë—Ä–Ω—É—Ç–æ–π.
‚Ä¢	–¶–≤–µ—Ç–∞ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω—ã: "blue" | "red" | "yellow" | "green" | "pink" | "purple" | "cyan" | "grey".
‚Ä¢	–ó–∞–≥–æ–ª–æ–≤–æ–∫ –ª—É—á—à–µ –±—Ä–∞—Ç—å –∏–∑ –∏–º–µ–Ω–∏ —É–∑–ª–∞ –¥–µ—Ä–µ–≤–∞.
________________________________________
15.7. –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
1.	–°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –≤–∫–ª–∞–¥–æ–∫
o	Chrome –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –æ—Ç–∫—Ä—ã—Ç–∏–µ —Å–æ—Ç–µ–Ω –≤–∫–ª–∞–¥–æ–∫ –∑–∞ —Ä–∞–∑.
o	–†–µ—à–µ–Ω–∏–µ: –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –ø–∞—á–∫–∞–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ 10‚Äì20), —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π.
2.	–ü–æ—Ç–µ—Ä—è –ø–æ—Ä—è–¥–∫–∞
o	–í–∫–ª–∞–¥–∫–∏ –æ—Ç–∫—Ä—ã–≤–∞—é—Ç—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ, –º–æ–≥—É—Ç –ø–µ—Ä–µ–º–µ—à–∞—Ç—å—Å—è.
o	–†–µ—à–µ–Ω–∏–µ: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ await chrome.tabs.create().
3.	–ì—Ä—É–ø–ø—ã –∏—Å—á–µ–∑–∞—é—Ç –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ Chrome
o	–≠—Ç–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Å–∞–º–æ–≥–æ –±—Ä–∞—É–∑–µ—Ä–∞.
o	–†–µ—à–µ–Ω–∏–µ: —Ö—Ä–∞–Ω–∏—Ç—å ¬´–≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –≥—Ä—É–ø–ø—ã¬ª –≤ –¥–µ—Ä–µ–≤–µ (—á—Ç–æ —É–∂–µ –¥–µ–ª–∞–µ—Ç Visual Bookmarks).
________________________________________
15.8. –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —É –Ω–∞—Å
1.	–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∫–ª–∏–∫–∞–µ—Ç ¬´–û—Ç–∫—Ä—ã—Ç—å —É–∑–µ–ª¬ª.
2.	App.tsx –∏–ª–∏ treeOps.ts –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —Å—Å—ã–ª–∫–∞ —ç—Ç–æ –∏–ª–∏ –ø–∞–ø–∫–∞.
3.	–ï—Å–ª–∏ —Å—Å—ã–ª–∫–∞ ‚Üí chrome.tabs.create.
4.	–ï—Å–ª–∏ –ø–∞–ø–∫–∞ ‚Üí chrome.tabs.group + chrome.tabGroups.update.
5.	–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç —É–¥–æ–±–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: –≤—Å–µ —Å—Å—ã–ª–∫–∏ –≤–º–µ—Å—Ç–µ, –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º –ø–∞–ø–∫–∏.
________________________________________
15.9. –ò—Ç–æ–≥
‚Ä¢	–û—Ç–∫—Ä—ã—Ç–∏–µ –∑–∞–∫–ª–∞–¥–æ–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —á–µ—Ä–µ–∑ chrome.tabs.
‚Ä¢	–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ ‚Äî —á–µ—Ä–µ–∑ chrome.tabGroups.
‚Ä¢	–õ–æ–≥–∏–∫–∞: —É–∑–µ–ª = —Å—Å—ã–ª–∫–∞ ‚Üí –≤–∫–ª–∞–¥–∫–∞, —É–∑–µ–ª = –∫–∞—Ç–µ–≥–æ—Ä–∏—è ‚Üí –≥—Ä—É–ø–ø–∞ –≤–∫–ª–∞–¥–æ–∫.
‚Ä¢	–≠—Ç–æ –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç –¥–µ—Ä–µ–≤–æ Visual Bookmarks –≤ –Ω–∞—Å—Ç–æ—è—â–∏–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –ø–æ –º–Ω–æ–∂–µ—Å—Ç–≤—É —Å—Å—ã–ª–æ–∫.
________________________________________
üëâ –õ–æ–≥–∏—á–Ω–æ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –ì–ª–∞–≤–æ–π 16: –¢–µ–º—ã –∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –ø–∞–Ω–µ–ª–∏ ‚Äî –∫–∞–∫ –º–µ–Ω—è–µ—Ç—Å—è –≤–Ω–µ—à–Ω–∏–π –≤–∏–¥ (—Ç—ë–º–Ω–∞—è/—Å–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞), –∏ —á—Ç–æ –¥–ª—è —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∫–æ–¥–µ.
–ì–ª–∞–≤–∞ 16. –¢–µ–º—ã –∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –ø–∞–Ω–µ–ª–∏
________________________________________
16.1. –ó–∞—á–µ–º –Ω—É–∂–Ω—ã —Ç–µ–º—ã?
Visual Bookmarks ‚Äî —ç—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ —Å–ø–∏—Å–æ–∫ —Å—Å—ã–ª–æ–∫, –∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–π —Ä–∞–±–æ—Ç—ã. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –æ—Ç–∫—Ä—ã—Ç—å –µ–≥–æ –¥–µ—Å—è—Ç–∫–∏ —Ä–∞–∑ –≤ –¥–µ–Ω—å.
–ï—Å–ª–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–µ—É–¥–æ–±–Ω—ã–π –∏–ª–∏ —Ä–µ–∂–µ—Ç –≥–ª–∞–∑–∞:
‚Ä¢	–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –±—ã—Å—Ç—Ä–µ–µ —É—Å—Ç–∞–Ω–µ—Ç;
‚Ä¢	—Å–Ω–∏–∂–∞–µ—Ç—Å—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å;
‚Ä¢	–ø–æ—è–≤–ª—è—é—Ç—Å—è –∂–∞–ª–æ–±—ã –≤–∏–¥–∞ ¬´–≤—Å—ë —Å–ª–∏—à–∫–æ–º —è—Ä–∫–æ¬ª –∏–ª–∏ ¬´—Å–ª–∏—à–∫–æ–º –±–ª–µ–∫–ª–æ¬ª.
üëâ –ü–æ—ç—Ç–æ–º—É —Ç–µ–º–∞ (—Ç—ë–º–Ω–∞—è/—Å–≤–µ—Ç–ª–∞—è, –∫–∞—Å—Ç–æ–º–Ω–∞—è) ‚Äî —á–∞—Å—Ç—å UX, –∞ –Ω–µ ¬´–∫–æ—Å–º–µ—Ç–∏–∫–∞¬ª.
________________________________________
16.2. –ì–¥–µ —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Ç–µ–º–∞
–í —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–∏ —Ç–µ–º–∞ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –≤ –ø–∞–Ω–µ–ª–∏ –∑–∞–∫–ª–∞–¥–æ–∫ (React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã).
‚Ä¢	–§–∞–π–ª: App.tsx ‚Äî —Ç–∞–º —Ö—Ä–∞–Ω–∏—Ç—Å—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ç–µ–º—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, light –∏–ª–∏ dark).
‚Ä¢	–§–∞–π–ª: tree.tsx ‚Äî –ø–æ–¥—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –ø–æ–¥ —Ç–µ–º—É (—Ü–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞, —Ñ–æ–Ω–∞, –≤—ã–¥–µ–ª–µ–Ω–∏—è).
‚Ä¢	CSS / Tailwind / styled-components ‚Äî –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫–ª–∞—Å—Å—ã –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è.
________________________________________
16.3. –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ
1.	–í –ø–∞–Ω–µ–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏–ª–∏ –≤–µ—Ä—Ö–Ω–µ–π –ø–∞–Ω–µ–ª–∏ –µ—Å—Ç—å –∫–Ω–æ–ø–∫–∞ ¬´–¢–µ–º–∞¬ª.
2.	–ü—Ä–∏ –∫–ª–∏–∫–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è setTheme("dark") –∏–ª–∏ setTheme("light").
3.	–¢–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ chrome.storage.local.
4.	–ü—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–¥—Ç—è–≥–∏–≤–∞–µ—Ç—Å—è –∏ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è.
________________________________________
16.4. –ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞
–í App.tsx:
const [theme, setTheme] = useState<"light" | "dark">("light");

useEffect(() => {
  chrome.storage.local.get("theme", (data) => {
    if (data.theme) setTheme(data.theme);
  });
}, []);

function toggleTheme() {
  const newTheme = theme === "light" ? "dark" : "light";
  setTheme(newTheme);
  chrome.storage.local.set({ theme: newTheme });
}
–í JSX:
<div className={`app-container ${theme}`}>
  <button onClick={toggleTheme}>
    {theme === "light" ? "üåô –¢—ë–º–Ω–∞—è" : "‚òÄÔ∏è –°–≤–µ—Ç–ª–∞—è"}
  </button>
  <Tree />
</div>
–í CSS:
.app-container.light {
  --bg-color: #ffffff;
  --text-color: #000000;
}

.app-container.dark {
  --bg-color: #1e1e1e;
  --text-color: #f0f0f0;
}

.app-container {
  background-color: var(--bg-color);
  color: var(--text-color);
}
________________________________________
16.5. –í–æ–∑–º–æ–∂–Ω—ã–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
‚Ä¢	–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–∏—Å—Ç–µ–º–Ω–æ–π —Ç–µ–º—ã (–±—Ä–∞—É–∑–µ—Ä –º–æ–∂–µ—Ç –æ—Ç–¥–∞–≤–∞—Ç—å prefers-color-scheme).
‚Ä¢	–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏–∏: –≤—ã–±–æ—Ä —Ü–≤–µ—Ç–∞ –≥—Ä—É–ø–ø, —Ñ–æ–Ω–∞, —à—Ä–∏—Ñ—Ç–∞.
‚Ä¢	–¢–µ–º—ã –¥–ª—è –¥–µ—Ä–µ–≤–∞ –æ—Ç–¥–µ–ª—å–Ω–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, ¬´–Ω–æ—á–Ω–∞—è –∫–∞—Ä—Ç–∞¬ª).
________________________________________
16.6. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥–µ—Ä–µ–≤–æ–º
–¢–∞–∫ –∫–∞–∫ –¥–µ—Ä–µ–≤–æ (tree.tsx) —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ, —Å—Ç–∏–ª—å –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ –∫–æ—Ä–Ω–µ–≤–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä.
üëâ –¢–æ –µ—Å—Ç—å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –∫–ª–∞—Å—Å –Ω–∞ <div className="app-container dark">, –∏ –≤—Å–µ –≤–ª–æ–∂–µ–Ω–Ω—ã–µ —É–∑–ª—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑–º–µ–Ω—è—Ç –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ.
________________________________________
16.7. –ò—Ç–æ–≥
‚Ä¢	–¢–µ–º–∞ —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ App.tsx.
‚Ä¢	–î–∞–Ω–Ω—ã–µ —Ç–µ–º—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ chrome.storage.local.
‚Ä¢	CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–µ–ª–∞—é—Ç –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–æ—Å—Ç—ã–º –∏ –≥–∏–±–∫–∏–º.
‚Ä¢	–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç –ø—Ä–∏–≤—ã—á–Ω—ã–π –≤—ã–±–æ—Ä: —Å–≤–µ—Ç–ª—ã–π –∏–ª–∏ —Ç—ë–º–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.
________________________________________
üëâ –õ–æ–≥–∏—á–Ω–æ –¥–∞–ª—å—à–µ –ø–µ—Ä–µ–π—Ç–∏ –∫ –ì–ª–∞–≤–µ 17: –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å ‚Äî –≤–µ–¥—å –º—ã —É–∂–µ –∑–Ω–∞–µ–º –ø—Ä–æ —Ö—Ä–∞–Ω–µ–Ω–∏–µ, –≥—Ä—É–ø–ø—ã –≤–∫–ª–∞–¥–æ–∫ –∏ —Ç–µ–º—ã, –Ω–æ –Ω–µ –æ–±—Å—É–¥–∏–ª–∏, –∫–∞–∫ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∑–∞—â–∏—â–∞–µ—Ç—Å—è –æ—Ç —Å–±–æ–µ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏ API –∏–ª–∏ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏–∏ –¥–µ—Ä–µ–≤–∞).
–ì–ª–∞–≤–∞ 17. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å
________________________________________
17.1. –ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ?
Visual Bookmarks –æ–ø–∏—Ä–∞–µ—Ç—Å—è –Ω–∞:
‚Ä¢	Chrome API (tabs, storage, tabGroups);
‚Ä¢	React (—Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ UI);
‚Ä¢	TypeScript (—Å—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è).
–ù–æ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –º–∏—Ä–µ –≤—Å–µ–≥–¥–∞ —Å–ª—É—á–∞—é—Ç—Å—è —Å–±–æ–∏:
‚Ä¢	–≤–∫–ª–∞–¥–∫–∞ –º–æ–∂–µ—Ç –∑–∞–∫—Ä—ã—Ç—å—Å—è —Ä–∞–Ω—å—à–µ, —á–µ–º –º—ã –µ—ë –æ–±–Ω–æ–≤–∏–º;
‚Ä¢	–≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –º–æ–∂–µ—Ç –æ–∫–∞–∑–∞—Ç—å—Å—è –ø–æ–≤—Ä–µ–∂–¥—ë–Ω–Ω—ã–π JSON;
‚Ä¢	–ø—Ä–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏ –∑–∞–∫–ª–∞–¥–æ–∫ ‚Äî –ø–æ–ø–∞—Å—Ç—å –ø—É—Å—Ç–æ–π –±—É—Ñ–µ—Ä;
‚Ä¢	–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –∫–ª–∏–∫–Ω—É—Ç—å 10 —Ä–∞–∑ –ø–æ–¥—Ä—è–¥.
üëâ –ï—Å–ª–∏ –Ω–µ –ª–æ–≤–∏—Ç—å —Ç–∞–∫–∏–µ –æ—à–∏–±–∫–∏ ‚Äî —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –±—É–¥–µ—Ç –ø–∞–¥–∞—Ç—å, —Ç–µ—Ä—è—Ç—å –¥–∞–Ω–Ω—ã–µ, –∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–ª–∏—Ç—å—Å—è.
________________________________________
17.2. –û–±—â–∏–µ –ø–æ–¥—Ö–æ–¥—ã
1.	try/catch –≤–æ–∫—Ä—É–≥ –≤—ã–∑–æ–≤–æ–≤ API
o	chrome.* —á–∞—Å—Ç–æ –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç lastError.
o	–ù–∞–¥–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –µ–≥–æ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –≤—ã–∑–æ–≤–∞.
2.	chrome.tabs.create({ url }, tab => {
3.	  if (chrome.runtime.lastError) {
4.	    console.error("–û—à–∏–±–∫–∞ –æ—Ç–∫—Ä—ã—Ç–∏—è –≤–∫–ª–∞–¥–∫–∏:", chrome.runtime.lastError.message);
5.	  }
6.	});
7.	–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º
o	–ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –∑–∞–∫–ª–∞–¥–æ–∫ –ø—Ä–æ–≤–µ—Ä—è—Ç—å, —á—Ç–æ url —Å—Ç—Ä–æ–∫–∞, –∞ –Ω–µ undefined.
o	–ü—Ä–∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–µ ‚Äî —á—Ç–æ title –Ω–µ –ø—É—Å—Ç–æ–π.
8.	–î–µ—Ñ–æ–ª—Ç—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
o	–ï—Å–ª–∏ —Ç–µ–º–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ ‚Üí –≤—ã—Å—Ç–∞–≤–∏—Ç—å "light".
o	–ï—Å–ª–∏ –¥–µ—Ä–µ–≤–æ –ø—É—Å—Ç–æ–µ ‚Üí –ø–æ–∫–∞–∑–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ ¬´–ù–µ—Ç –∑–∞–∫–ª–∞–¥–æ–∫¬ª.
________________________________________
17.3. –û—à–∏–±–∫–∏ –≤ React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö
React –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Error Boundaries.
–≠—Ç–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã-¬´–ª–æ–≤—É—à–∫–∏¬ª, –∫–æ—Ç–æ—Ä—ã–µ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—é—Ç –æ—à–∏–±–∫–∏ –≤ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–µ.
class ErrorBoundary extends React.Component {
  state = { hasError: false };

  static getDerivedStateFromError(error: Error) {
    return { hasError: true };
  }

  componentDidCatch(error: Error, info: React.ErrorInfo) {
    console.error("–û—à–∏–±–∫–∞ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ:", error, info);
  }

  render() {
    if (this.state.hasError) {
      return <h3>–ß—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫</h3>;
    }
    return this.props.children;
  }
}
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
<ErrorBoundary>
  <Tree />
</ErrorBoundary>
________________________________________
17.4. –û—à–∏–±–∫–∏ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –±—É—Ñ–µ—Ä–æ–º –≤–∫–ª–∞–¥–æ–∫
–†–∞–Ω–µ–µ –º—ã –æ–±—Å—É–∂–¥–∞–ª–∏, —á—Ç–æ –ø—Ä–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏ –º–æ–≥–ª–∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è —Å—Ç–∞—Ä—ã–µ –≤–∫–ª–∞–¥–∫–∏.
–ß—Ç–æ–±—ã —ç—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å:
‚Ä¢	–∫–∞–∂–¥—ã–π –ø–∞–∫–µ—Ç –º–∞—Ä–∫–∏—Ä—É–µ—Ç—Å—è batchId;
‚Ä¢	–¥—É–±–ª–∏–∫–∞—Ç—ã –æ—Ç–±—Ä–∞—Å—ã–≤–∞—é—Ç—Å—è;
‚Ä¢	–µ—Å–ª–∏ tabs –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ ‚Äî –±—É—Ñ–µ—Ä –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è.
üëâ –≠—Ç–æ –ø—Ä–∏–º–µ—Ä –∑–∞—â–∏—Ç—ã ¬´–æ—Ç —Å—Ç—Ä–∞–Ω–Ω–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è¬ª.
________________________________________
17.5. –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–µ—Ç–µ–≤—ã—Ö –æ—à–∏–±–æ–∫
–•–æ—Ç—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –æ—Ñ–ª–∞–π–Ω, –µ—Å—Ç—å —á–∞—Å—Ç–∏, –≥–¥–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–µ—Ç—å:
‚Ä¢	—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Chrome Sync;
‚Ä¢	–∑–∞–≥—Ä—É–∑–∫–∞ –∏–∫–æ–Ω–æ–∫ —Å–∞–π—Ç–æ–≤ (favicons).
–ó–¥–µ—Å—å –≤–∞–∂–Ω–æ:
‚Ä¢	–ø–æ–≤—Ç–æ—Ä—è—Ç—å –∑–∞–ø—Ä–æ—Å—ã (retry);
‚Ä¢	–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–∞–π–º–∞—É—Ç—ã;
‚Ä¢	–∏–º–µ—Ç—å fallback (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–µ—Ñ–æ–ª—Ç–Ω—É—é –∏–∫–æ–Ω–∫—É).
________________________________________
17.6. –ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å —Ö—Ä–∞–Ω–µ–Ω–∏—è
–§–∞–π–ª sqlStorage.ts —Ä–µ–∞–ª–∏–∑—É–µ—Ç —Ö—Ä–∞–Ω–∏–ª–∏—â–µ:
‚Ä¢	–¥–∞–Ω–Ω—ã–µ —Å–µ—Ä–∏–∞–ª–∏–∑—É—é—Ç—Å—è –≤ JSON;
‚Ä¢	—Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ chrome.storage.local;
‚Ä¢	–ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö —á—Ç–µ–Ω–∏—è –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –ø—É—Å—Ç—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã.
üëâ –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –¥–∞–∂–µ –µ—Å–ª–∏ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –ø–æ–≤—Ä–µ–¥–∏—Ç—Å—è ‚Äî —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Å—Ç–∞—Ä—Ç—É–µ—Ç, –ø—Ä–æ—Å—Ç–æ –±–µ–∑ –¥–µ—Ä–µ–≤–∞ (–∞ –Ω–µ —É–ø–∞–¥—ë—Ç).
________________________________________
17.7. UX-–∑–∞—â–∏—Ç–∞
1.	–î–≤–æ–π–Ω—ã–µ –∫–ª–∏–∫–∏ ‚Üí –¥–æ–±–∞–≤–ª—è—é—Ç —Ç–æ–ª—å–∫–æ –æ–¥–Ω—É –∫–æ–ø–∏—é –∑–∞–∫–ª–∞–¥–∫–∏.
2.	–ë–æ–ª—å—à–∏–µ –≤—Å—Ç–∞–≤–∫–∏ ‚Üí –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –ø–∞—á–∫–∞–º–∏, —á—Ç–æ–±—ã UI –Ω–µ –∑–∞–≤–∏—Å.
3.	–û—à–∏–±–∫–∏ API ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –≤ console.error, –Ω–æ –Ω–µ –ª–æ–º–∞—é—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.
________________________________________
17.8. –ò—Ç–æ–≥
‚Ä¢	–û—à–∏–±–∫–∏ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—é—Ç—Å—è –Ω–∞ —É—Ä–æ–≤–Ω–µ API (lastError) –∏ UI (Error Boundaries).
‚Ä¢	–ë—É—Ñ–µ—Ä –≤–∫–ª–∞–¥–æ–∫ –∑–∞—â–∏—â—ë–Ω –æ—Ç –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ —Å –ø–æ–º–æ—â—å—é batchId.
‚Ä¢	–î–µ—Ñ–æ–ª—Ç—ã –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—é—Ç –ø—É—Å—Ç—ã–µ –∏–ª–∏ –ø–æ–≤—Ä–µ–∂–¥—ë–Ω–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã.
‚Ä¢	–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –Ω–µ –ø–∞–¥–∞–µ—Ç –æ—Ç –ª—é–±–æ–π –º–µ–ª–æ—á–∏.
________________________________________
üëâ –°–ª–µ–¥—É—é—â–∞—è –≥–ª–∞–≤–∞ –ª–æ–≥–∏—á–Ω–∞ ‚Äî –ì–ª–∞–≤–∞ 18: –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è.
–í –Ω–µ–π –º–æ–∂–Ω–æ —Ä–∞–∑–æ–±—Ä–∞—Ç—å, –∫–∞–∫ React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–µ—Ä–µ–≤–∞ –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É—é—Ç—Å—è –ø—Ä–∏ —Ç—ã—Å—è—á–∞—Ö –∑–∞–∫–ª–∞–¥–æ–∫, –∏ –∫–∞–∫ –∏–∑–±–µ–∂–∞—Ç—å ¬´–ª–∞–≥–æ–≤¬ª –≤ –±—Ä–∞—É–∑–µ—Ä–µ.
‚ÄÉ
–ì–ª–∞–≤–∞ 18. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
________________________________________
18.1. –ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ?
Visual Bookmarks —Ä–∞–±–æ—Ç–∞–µ—Ç —Å:
‚Ä¢	–¥–µ—Å—è—Ç–∫–∞–º–∏/—Å–æ—Ç–Ω—è–º–∏ —É–∑–ª–æ–≤ –≤ –¥–µ—Ä–µ–≤–µ;
‚Ä¢	–º–Ω–æ–∂–µ—Å—Ç–≤–æ–º —Å–æ–æ–±—â–µ–Ω–∏–π –º–µ–∂–¥—É background.ts –∏ App.tsx;
‚Ä¢	—á–∞—Å—Ç—ã–º–∏ –¥–µ–π—Å—Ç–≤–∏—è–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–¥–æ–±–∞–≤–∏—Ç—å/–ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å/—É–¥–∞–ª–∏—Ç—å).
–ë–µ–∑ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π:
‚Ä¢	–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞—á–Ω—ë—Ç –ª–∞–≥–∞—Ç—å;
‚Ä¢	–ø–∞–º—è—Ç—å –±—É–¥–µ—Ç —É—Ç–µ–∫–∞—Ç—å;
‚Ä¢	–ø—Ä–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏ —Å–æ—Ç–Ω–∏ –≤–∫–ª–∞–¥–æ–∫ React –º–æ–∂–µ—Ç ¬´–∑–∞–º—ë—Ä–∑–Ω—É—Ç—å¬ª.
________________________________________
18.2. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤ React
1.	–ú–µ–º–æ–∏–∑–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
o	–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ React.memo –¥–ª—è —É–∑–ª–æ–≤ –¥–µ—Ä–µ–≤–∞.
o	–ï—Å–ª–∏ —É–∑–µ–ª –Ω–µ –∏–∑–º–µ–Ω–∏–ª—Å—è ‚Üí –æ–Ω –Ω–µ –ø–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç—Å—è.
2.	const TreeNode = React.memo(function TreeNode({ node }: { node: TreeItem }) {
3.	  return <div>{node.title}</div>;
4.	});
5.	useCallback / useMemo
o	–•–µ–Ω–¥–ª–µ—Ä—ã —Å–æ–±—ã—Ç–∏–π (onClick, onDrop) –Ω–µ —Å–æ–∑–¥–∞—é—Ç—Å—è –∑–∞–Ω–æ–≤–æ –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Ä–µ–Ω–¥–µ—Ä–µ.
6.	const handleClick = useCallback(() => {
7.	  selectNode(node.id);
8.	}, [node.id]);
9.	–õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ (lazy rendering)
o	–£–∑–ª—ã –¥–µ—Ä–µ–≤–∞ —Ä–µ–Ω–¥–µ—Ä—è—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Ä–∞–∑–≤–æ—Ä–æ—Ç–µ.
o	–≠—Ç–æ –æ—Å–æ–±–µ–Ω–Ω–æ –≤–∞–∂–Ω–æ –ø—Ä–∏ –≥–ª—É–±–æ–∫–æ–π –∏–µ—Ä–∞—Ä—Ö–∏–∏.
10.	{expanded && node.children?.map(child => <TreeNode key={child.id} node={child} />)}
________________________________________
18.3. –†–∞–±–æ—Ç–∞ —Å –±–æ–ª—å—à–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏
1.	–í–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è —Å–ø–∏—Å–∫–∞
o	–ï—Å–ª–∏ –∑–∞–∫–ª–∞–¥–æ–∫ —Ç—ã—Å—è—á–∏, –Ω—É–∂–Ω–æ –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –≤–∏–¥–∏–º—ã–µ.
o	–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è react-window –∏–ª–∏ react-virtualized.
2.	import { FixedSizeList as List } from "react-window";
3.	
4.	<List
5.	  height={600}
6.	  itemCount={nodes.length}
7.	  itemSize={32}
8.	  width={400}
9.	>
10.	  {({ index, style }) => <TreeNode node={nodes[index]} style={style} />}
11.	</List>
12.	–ß–∞–Ω–∫–∏–Ω–≥ –æ–ø–µ—Ä–∞—Ü–∏–π
o	–ï—Å–ª–∏ –≤—Å—Ç–∞–≤–∏—Ç—å 500 –≤–∫–ª–∞–¥–æ–∫ —Å—Ä–∞–∑—É ‚Üí UI –∑–∞–º—Ä—ë—Ç.
o	–†–µ—à–µ–Ω–∏–µ: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å requestIdleCallback –∏–ª–∏ setTimeout –¥–ª—è –ø–∞—á–µ–∫.
13.	function addTabsInChunks(tabs: SimpleTab[]) {
14.	  let i = 0;
15.	  function chunk() {
16.	    const part = tabs.slice(i, i + 50);
17.	    setInbox(prev => [...prev, ...part]);
18.	    i += 50;
19.	    if (i < tabs.length) setTimeout(chunk, 10);
20.	  }
21.	  chunk();
22.	}
________________________________________
18.4. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
1.	–î–µ–±–∞—É–Ω—Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–π
o	–ù–µ –ø–∏—Å–∞—Ç—å –≤ chrome.storage –Ω–∞ –∫–∞–∂–¥—ã–π –∫–ª–∏–∫.
o	–í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ ‚Äî –∫–∞–∂–¥—ã–µ 500 –º—Å –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö.
2.	let saveTimer: any = null;
3.	function saveDataDebounced(data: any) {
4.	  clearTimeout(saveTimer);
5.	  saveTimer = setTimeout(() => {
6.	    chrome.storage.local.set({ tree: data });
7.	  }, 500);
8.	}
9.	–°–∂–∞—Ç–∏–µ –¥–∞–Ω–Ω—ã—Ö
o	–ë–æ–ª—å—à–∏–µ –¥–µ—Ä–µ–≤—å—è –º–æ–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –≤ —Å–∂–∞—Ç–æ–º –≤–∏–¥–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, LZ-string).
________________________________________
18.5. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–π
‚Ä¢	–°–æ–æ–±—â–µ–Ω–∏—è –∏–∑ background.ts –≤ App.tsx –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –±–∞—Ç—á–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏.
‚Ä¢	–í–º–µ—Å—Ç–æ –¥–µ—Å—è—Ç–∫–æ–≤ chrome.runtime.sendMessage ‚Äî –æ–¥–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –º–∞—Å—Å–∏–≤–æ–º.
üëâ –ú—ã —É–∂–µ –æ–±—Å—É–∂–¥–∞–ª–∏ —ç—Ç–æ –ø—Ä–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –±–∞–≥–∞ —Å –±—É—Ñ–µ—Ä–æ–º –≤–∫–ª–∞–¥–æ–∫.
________________________________________
18.6. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ
1.	Chrome Performance Tools
o	–≤–∫–ª–∞–¥–∫–∞ Performance ‚Üí —Å–º–æ—Ç—Ä–µ—Ç—å ¬´—É–∑–∫–∏–µ –º–µ—Å—Ç–∞¬ª.
2.	React Profiler
o	–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞—é—Ç—Å—è –ª–∏—à–Ω–∏–π —Ä–∞–∑.
3.	–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ batchId
o	–ø–æ–º–æ–≥–∞–µ—Ç –ø–æ–Ω—è—Ç—å, –Ω–µ –ø–æ–≤—Ç–æ—Ä—è—é—Ç—Å—è –ª–∏ –ø–∞–∫–µ—Ç—ã –≤–∫–ª–∞–¥–æ–∫.
________________________________________
18.7. –ò—Ç–æ–≥
‚Ä¢	–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤ React = –º–µ–º–æ–∏–∑–∞—Ü–∏—è + –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è.
‚Ä¢	–ë–æ–ª—å—à–∏–µ –¥–∞–Ω–Ω—ã–µ –≤—Å—Ç–∞–≤–ª—è—é—Ç—Å—è –ø–∞—á–∫–∞–º–∏.
‚Ä¢	–ó–∞–ø–∏—Å—å –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ ‚Äî –¥–µ–±–∞—É–Ω—Å.
‚Ä¢	–°–æ–æ–±—â–µ–Ω–∏—è –±–∞—Ç—á–∏—Ä—É—é—Ç—Å—è.
‚Ä¢	–ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–º–æ–≥–∞–µ—Ç —É–≤–∏–¥–µ—Ç—å —Å–ª–∞–±—ã–µ –º–µ—Å—Ç–∞.
üìå –ë–ª–∞–≥–æ–¥–∞—Ä—è —ç—Ç–æ–º—É Visual Bookmarks –Ω–µ —Ç–æ—Ä–º–æ–∑–∏—Ç –¥–∞–∂–µ –ø—Ä–∏ —Ç—ã—Å—è—á–∞—Ö –∑–∞–∫–ª–∞–¥–æ–∫.
________________________________________
üëâ –õ–æ–≥–∏—á–Ω–æ–µ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ: –ì–ª–∞–≤–∞ 19. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è.
–¢–∞–º –º–æ–∂–Ω–æ —Ä–∞–∑–æ–±—Ä–∞—Ç—å, –∫–∞–∫ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å manifest.json, –∫–∞–∫–∏–µ –ø—Ä–∞–≤–∞ –æ–Ω–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç, –∏ –∫–∞–∫ –∏–∑–±–µ–∂–∞—Ç—å —É—Ç–µ—á–µ–∫ –¥–∞–Ω–Ω—ã—Ö.
–ì–ª–∞–≤–∞ 19. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è
________________________________________
19.1. –ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ?
–ë—Ä–∞—É–∑–µ—Ä–Ω—ã–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç –≤–Ω—É—Ç—Ä–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π —Å—Ä–µ–¥—ã:
‚Ä¢	–∏–º–µ—é—Ç –¥–æ—Å—Ç—É–ø –∫ –≤–∫–ª–∞–¥–∫–∞–º, –∏—Å—Ç–æ—Ä–∏–∏, —Ñ–∞–π–ª–∞–º;
‚Ä¢	–º–æ–≥—É—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å —Å–µ—Ç—å—é;
‚Ä¢	–º–æ–≥—É—Ç —Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–∑–∞–∫–ª–∞–¥–∫–∏, –ø–∞—Ä–æ–ª–∏, –∑–∞–º–µ—Ç–∫–∏).
‚ö†Ô∏è –ï—Å–ª–∏ –Ω–µ –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –ø—Ä–∞–≤–∞ ‚Äî —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Å—Ç–∞–Ω–µ—Ç –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –¥—ã—Ä–æ–π –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.
üëâ –ü–æ—ç—Ç–æ–º—É Chrome —Ç—Ä–µ–±—É–µ—Ç —è–≤–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å permissions –≤ manifest.json.
________________________________________
19.2. Manifest –∏ –ø—Ä–∞–≤–∞
–í manifest.json —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è Visual Bookmarks —É–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ç–∞–∫–∏–µ –ø—Ä–∞–≤–∞:
{
  "permissions": [
    "tabs",
    "tabGroups",
    "storage",
    "contextMenus"
  ]
}
‚Ä¢	tabs ‚Äî –¥–æ—Å—Ç—É–ø –∫ —Å–ø–∏—Å–∫—É –≤–∫–ª–∞–¥–æ–∫ (—á—Ç–æ–±—ã –∏—Ö –¥–æ–±–∞–≤–ª—è—Ç—å –≤ –¥–µ—Ä–µ–≤–æ).
‚Ä¢	tabGroups ‚Äî —Ä–∞–±–æ—Ç–∞ —Å –≥—Ä—É–ø–ø–∞–º–∏ –≤–∫–ª–∞–¥–æ–∫ Chrome.
‚Ä¢	storage ‚Äî —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ª–æ–∫–∞–ª—å–Ω–æ –∏ –≤ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏.
‚Ä¢	contextMenus ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—É–Ω–∫—Ç–∞ ¬´–î–æ–±–∞–≤–∏—Ç—å –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–µ –≤–∫–ª–∞–¥–∫–∏¬ª.
‚ùó –ó–∞–º–µ—Ç—å: —Ç—É—Ç –Ω–µ—Ç –∏–∑–±—ã—Ç–æ—á–Ω—ã—Ö –ø—Ä–∞–≤ –≤—Ä–æ–¥–µ history, bookmarks –∏–ª–∏ webRequest, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω–∏ –Ω–µ –Ω—É–∂–Ω—ã.
________________________________________
19.3. –ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–∞–≤
–õ—É—á—à–∏–π –ø—Ä–∏–Ω—Ü–∏–ø: –º–∏–Ω–∏–º–∞–ª—å–Ω–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø—Ä–∞–≤–∞.
–ù–∞–ø—Ä–∏–º–µ—Ä:
‚Ä¢	–≤–º–µ—Å—Ç–æ tabs –º–æ–∂–Ω–æ –∏–Ω–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å activeTab (—Ç–æ–ª—å–∫–æ —Ç–µ–∫—É—â–∞—è –≤–∫–ª–∞–¥–∫–∞), –Ω–æ –∑–¥–µ—Å—å –Ω—É–∂–Ω–æ –∏–º–µ–Ω–Ω–æ tabs, —Ç–∞–∫ –∫–∞–∫ –∫–æ–ø–∏—Ä—É—é—Ç—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤—ã–¥–µ–ª–µ–Ω–Ω—ã—Ö –≤–∫–ª–∞–¥–æ–∫.
‚Ä¢	storage –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –æ—Ñ–ª–∞–π–Ω-—Ö—Ä–∞–Ω–∏–ª–∏—â–∞ ‚Üí —ç—Ç–æ –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ, —á–µ–º –ø–∏—Å–∞—Ç—å –≤ –æ–±–ª–∞–∫–æ.
________________________________________
19.4. –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
–ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –ø—É–Ω–∫—Ç–∞ –º–µ–Ω—é:
chrome.contextMenus.create({
  id: "vb-add-selected-tabs",
  title: "–î–æ–±–∞–≤–∏—Ç—å –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–µ –≤–∫–ª–∞–¥–∫–∏",
  contexts: ["all"]
});
‚Ä¢	–æ–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –≤ Chrome, –∞ –Ω–µ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö —Å–∞–π—Ç–∞—Ö;
‚Ä¢	–ø—É–Ω–∫—Ç –Ω–µ –º–æ–∂–µ—Ç ¬´–ø–æ–¥–º–µ–Ω–∏—Ç—å¬ª –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Å–∞–π—Ç–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∞–≤—ã–π –∫–ª–∏–∫).
________________________________________
19.5. –ò–∑–æ–ª—è—Ü–∏—è –∫–æ–¥–∞
Visual Bookmarks –∏–º–µ–µ—Ç —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ:
‚Ä¢	background.ts ‚Äî —Ñ–æ–Ω–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ (–Ω–µ–≤–∏–¥–∏–º–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é, –¥–æ—Å—Ç—É–ø –∫ API).
‚Ä¢	App.tsx ‚Äî UI –Ω–∞ React (—Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –≤ –ø–∞–Ω–µ–ª–∏).
‚Ä¢	content scripts ‚Äî –≤ –¥–∞–Ω–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç (!), –∏ —ç—Ç–æ –ø–æ–≤—ã—à–∞–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, –ø–æ—Ç–æ–º—É —á—Ç–æ –∫–æ–¥ –Ω–µ –≤–Ω–µ–¥—Ä—è–µ—Ç—Å—è –≤ —á—É–∂–∏–µ —Å–∞–π—Ç—ã.
üëâ –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –Ω–µ –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–æ–¥–µ—Ä–∂–∏–º–æ–º—É —Å—Ç—Ä–∞–Ω–∏—Ü ‚Äî —Ç–æ–ª—å–∫–æ –∫ —Å–∞–º–∏–º –≤–∫–ª–∞–¥–∫–∞–º.
________________________________________
19.6. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Ö—Ä–∞–Ω–µ–Ω–∏—è
‚Ä¢	–î–∞–Ω–Ω—ã–µ –∑–∞–∫–ª–∞–¥–æ–∫ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è —á–µ—Ä–µ–∑ chrome.storage.local.
‚Ä¢	–í—Å—ë —Ö—Ä–∞–Ω–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
‚Ä¢	–ï—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è Chrome ‚Üí –¥–∞–Ω–Ω—ã–µ —É—Ö–æ–¥—è—Ç –≤ Google Sync, –Ω–æ —ç—Ç–æ —É–∂–µ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ Google.
‚ö†Ô∏è –í–∞–∂–Ω–æ: —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –Ω–µ –¥–µ–ª–∞–µ—Ç —Å–µ—Ç–µ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤. –≠—Ç–æ –∑–Ω–∞—á–∏—Ç:
‚Ä¢	–Ω–µ—Ç —É—Ç–µ—á–∫–∏ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞;
‚Ä¢	–ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å –≤—ã—à–µ, —á–µ–º —É ¬´–æ–Ω–ª–∞–π–Ω-–±—É–∫–º–∞—Ä–∫–µ—Ä–æ–≤¬ª.
________________________________________
19.7. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –∞—É–¥–∏—Ç
1.	Chrome Web Store –ø—Ä–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:
o	manifest –Ω–∞ –∏–∑–±—ã—Ç–æ—á–Ω—ã–µ –ø—Ä–∞–≤–∞;
o	–Ω–∞–ª–∏—á–∏–µ –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω—ã—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤;
o	–ø–æ–ø—ã—Ç–∫–∏ —Ç—Ä–µ–∫–∏–Ω–≥–∞.
2.	–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –º–æ–∂–µ—Ç —Å–∞–º —Å–¥–µ–ª–∞—Ç—å –∞—É–¥–∏—Ç:
o	–ø–æ–∏—Å–∫ –ø–æ –∫–æ–¥—É fetch, XMLHttpRequest (–µ—Å—Ç—å –ª–∏ —Å–µ—Ç—å?);
o	–ø–æ–∏—Å–∫ –ø–æ –∫–æ–¥—É eval, Function (–æ–ø–∞—Å–Ω—ã–µ –≤—ã–∑–æ–≤—ã).
________________________________________
19.8. –ò—Ç–æ–≥
‚Ä¢	–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å –≤–∫–ª–∞–¥–∫–∞–º–∏ –∏ –¥–µ—Ä–µ–≤–æ–º ‚Üí –ø—Ä–∞–≤–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ.
‚Ä¢	–ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–æ–¥–µ—Ä–∂–∏–º–æ–º—É —Å—Ç—Ä–∞–Ω–∏—Ü ‚Üí –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ.
‚Ä¢	–í—Å–µ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ ‚Üí –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å –≤—ã—à–µ.
‚Ä¢	–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ —É—Ä–æ–≤–Ω–µ Chrome API –∏ —Å—Ç—Ä–æ–≥–æ–≥–æ manifest.json.
üìå –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ Visual Bookmarks –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–µ–∑ —Å—Ç—Ä–∞—Ö–∞, —á—Ç–æ –æ–Ω–æ ¬´—à–ø–∏–æ–Ω–∏—Ç¬ª –∑–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º.
________________________________________
üëâ –°–ª–µ–¥—É—é—â–∞—è –≥–ª–∞–≤–∞ –ª–æ–≥–∏—á–Ω–∞ ‚Äî –ì–ª–∞–≤–∞ 20. –°–±–æ—Ä–∫–∞ –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è.
–¢–∞–º –º–æ–∂–Ω–æ —Ä–∞—Å–ø–∏—Å–∞—Ç—å, –∫–∞–∫ –∏–∑ –ø–∞–ø–∫–∏ extension —Å–æ–±—Ä–∞—Ç—å –≥–æ—Ç–æ–≤—ã–π .zip –∏ –∑–∞–≥—Ä—É–∑–∏—Ç—å –≤ Chrome Web Store.
–ì–ª–∞–≤–∞ 20. –°–±–æ—Ä–∫–∞ –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
________________________________________
20.1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞
–ù–∞—à –ø—Ä–æ–µ–∫—Ç –∂–∏–≤—ë—Ç –≤ –ø–∞–ø–∫–µ extension, –≥–¥–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è:
‚Ä¢	manifest.json ‚Äî –ø–∞—Å–ø–æ—Ä—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è;
‚Ä¢	vite.config.ts, tsconfig.json, package.json ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–±–æ—Ä–∫–∏;
‚Ä¢	src/ ‚Äî –∏—Å—Ö–æ–¥–Ω–∏–∫–∏ (background.ts, App.tsx, tree.tsx, –∏ —Ç. –¥.);
‚Ä¢	public/ ‚Äî –∏–∫–æ–Ω–∫–∏, html-—à–∞–±–ª–æ–Ω—ã, —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ—Å—É—Ä—Å—ã.
–ß—Ç–æ–±—ã —Å–æ–±—Ä–∞—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ, –Ω—É–∂–Ω–æ:
1.	–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (npm install).
2.	–£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –∫–æ–¥ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è (npm run build).
3.	–ü–æ–ª—É—á–∏—Ç—å –ø–∞–ø–∫—É dist/ —Å —Å–æ–±—Ä–∞–Ω–Ω—ã–º —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º.
________________________________________
20.2. –°–±–æ—Ä–∫–∞ —á–µ—Ä–µ–∑ Vite
–í package.json –æ–±—ã—á–Ω–æ –µ—Å—Ç—å —Å–∫—Ä–∏–ø—Ç—ã:
"scripts": {
  "dev": "vite",
  "build": "vite build",
  "lint": "eslint . --ext .ts,.tsx"
}
–ó–∞–ø—É—Å–∫ —Å–±–æ—Ä–∫–∏:
cd extension
npm run build
–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –ø–æ—è–≤–∏—Ç—Å—è –ø–∞–ø–∫–∞ dist/.
–í –Ω–µ–π –±—É–¥—É—Ç:
‚Ä¢	manifest.json (–ø–µ—Ä–µ–Ω–µ—Å—ë–Ω–Ω—ã–π Vite);
‚Ä¢	—Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ JS/TS —Ñ–∞–π–ª—ã;
‚Ä¢	html –¥–ª—è –ø–∞–Ω–µ–ª–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è;
‚Ä¢	—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ—Å—É—Ä—Å—ã.
________________________________________
20.3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ
–ü—Ä–µ–∂–¥–µ —á–µ–º –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å, –ø—Ä–æ–≤–µ—Ä–∏–º:
1.	–û—Ç–∫—Ä—ã—Ç—å Chrome ‚Üí chrome://extensions/.
2.	–í–∫–ª—é—á–∏—Ç—å –†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞.
3.	–ù–∞–∂–∞—Ç—å ¬´–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ä–∞—Å–ø–∞–∫–æ–≤–∞–Ω–Ω–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ¬ª.
4.	–£–∫–∞–∑–∞—Ç—å –ø—É—Ç—å –∫ –ø–∞–ø–∫–µ dist/.
–¢–µ–ø–µ—Ä—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –ø–æ—è–≤–∏—Ç—Å—è –≤ –ø–∞–Ω–µ–ª–∏.
‚ö†Ô∏è –í–∞–∂–Ω–æ: –ø—Ä–æ–≤–µ—Ä—è–µ–º –≤—Å–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ ‚Äî –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∫–ª–∞–¥–æ–∫, —Ä–∞–±–æ—Ç—É –¥–µ—Ä–µ–≤–∞, –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é.
________________________________________
20.4. –£–ø–∞–∫–æ–≤–∫–∞ –≤ .zip
Google Web Store —Ç—Ä–µ–±—É–µ—Ç –∞—Ä—Ö–∏–≤:
1.	–ü–µ—Ä–µ—Ö–æ–¥–∏–º –≤ dist/.
2.	–ê—Ä—Ö–∏–≤–∏—Ä—É–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ (–∞ –Ω–µ –ø–∞–ø–∫—É —Ü–µ–ª–∏–∫–æ–º).
–ü—Ä–∏–º–µ—Ä –¥–ª—è PowerShell (Windows 10):
cd dist
Compress-Archive * ../visual-bookmarks.zip
________________________________________
20.5. –ü—É–±–ª–∏–∫–∞—Ü–∏—è –≤ Chrome Web Store
1.	–ü–µ—Ä–µ—Ö–æ–¥–∏–º –Ω–∞ Chrome Web Store Developer Dashboard.
2.	–°–æ–∑–¥–∞—ë–º –ø—Ä–æ–µ–∫—Ç.
3.	–ó–∞–≥—Ä—É–∂–∞–µ–º visual-bookmarks.zip.
4.	–ó–∞–ø–æ–ª–Ω—è–µ–º:
o	–ù–∞–∑–≤–∞–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, Visual Bookmarks ‚Äî –¥—Ä–µ–≤–æ–≤–∏–¥–Ω—ã–µ –∑–∞–∫–ª–∞–¥–∫–∏).
o	–û–ø–∏—Å–∞–Ω–∏–µ (–∫—Ä–∞—Ç–∫–æ–µ –∏ –ø–æ–ª–Ω–æ–µ).
o	–°–∫—Ä–∏–Ω—à–æ—Ç—ã (–ø–∞–Ω–µ–ª—å, –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏).
o	–ò–∫–æ–Ω–∫–∏ (128x128 –∏ –¥—Ä.).
5.	–£–∫–∞–∑—ã–≤–∞–µ–º permissions (Chrome —Å–∞–º –ø–æ–∫–∞–∂–µ—Ç —Å–ø–∏—Å–æ–∫ –∏–∑ manifest.json).
6.	–û–ø–ª–∞—á–∏–≤–∞–µ–º —Ä–∞–∑–æ–≤—É—é —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é (5$).
7.	–û—Ç–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é.
________________________________________
20.6. –°–æ–≤–µ—Ç—ã –¥–ª—è —É—Å–ø–µ—à–Ω–æ–π –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
‚Ä¢	–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∞ ‚Äî –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–∏—à–Ω–∏—Ö (history, bookmarks, webRequest).
‚Ä¢	–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å ‚Äî –≤ –æ–ø–∏—Å–∞–Ω–∏–∏ —á–µ—Å—Ç–Ω–æ —É–∫–∞–∑–∞—Ç—å, —á—Ç–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ö—Ä–∞–Ω–∏—Ç –≤—Å—ë –ª–æ–∫–∞–ª—å–Ω–æ.
‚Ä¢	–°–∫—Ä–∏–Ω—à–æ—Ç—ã ‚Äî –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —è—Å–Ω—ã–º–∏: –ø–æ–∫–∞–∑–∞—Ç—å –¥–µ—Ä–µ–≤–æ, –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤–∫–ª–∞–¥–æ–∫, –ø–æ–∏—Å–∫.
‚Ä¢	–ò–∫–æ–Ω–∫–∞ ‚Äî –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —É–∑–Ω–∞–≤–∞–µ–º–æ–π, –∏–Ω–∞—á–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –ø–æ—Ç–µ—Ä—è–µ—Ç—Å—è.
‚Ä¢	–¢–µ—Å—Ç—ã ‚Äî –ø—Ä–æ–≥–Ω–∞—Ç—å —á–µ–∫-–ª–∏—Å—Ç (—Ä–∞–±–æ—Ç–∞ –¥–µ—Ä–µ–≤–∞, –ø–æ–∏—Å–∫, –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ, –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é, –æ—Ñ–ª–∞–π–Ω).
________________________________________
20.7. –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è (–±–æ–Ω—É—Å)
–ú–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å CI/CD:
‚Ä¢	GitHub Actions ‚Üí –ø—Ä–∏ –ø—É—à–µ –≤ main –∑–∞–ø—É—Å–∫–∞—Ç—å npm run build;
‚Ä¢	–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–±–∏—Ä–∞—Ç—å zip –∏ –∑–∞–ª–∏–≤–∞—Ç—å –Ω–∞ Web Store —á–µ—Ä–µ–∑ API (–µ—Å—Ç—å chrome-webstore-upload).
–ü—Ä–∏–º–µ—Ä —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞ CI:
- name: Build
  run: npm run build

- name: Package
  run: zip -r visual-bookmarks.zip dist/*

- name: Upload to Chrome Web Store
  uses: Klemensas/chrome-extension-upload-action@v1
  with:
    client-id: ${{ secrets.CHROME_CLIENT_ID }}
    client-secret: ${{ secrets.CHROME_CLIENT_SECRET }}
    refresh-token: ${{ secrets.CHROME_REFRESH_TOKEN }}
    file: ./visual-bookmarks.zip
    extension-id: your-extension-id
________________________________________
20.8. –ò—Ç–æ–≥
‚Ä¢	–°–æ–±–∏—Ä–∞–µ–º —á–µ—Ä–µ–∑ npm run build ‚Üí –ø–æ–ª—É—á–∞–µ–º dist/.
‚Ä¢	–¢–µ—Å—Ç–∏—Ä—É–µ–º –≤ chrome://extensions.
‚Ä¢	–£–ø–∞–∫–æ–≤—ã–≤–∞–µ–º –≤ .zip –∏ –∑–∞–≥—Ä—É–∂–∞–µ–º –≤ Web Store.
‚Ä¢	–î–ª—è –ø—Ä–æ—Ñ–∏ ‚Äî –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –ø—É–±–ª–∏–∫–∞—Ü–∏—é —á–µ—Ä–µ–∑ CI/CD.
üìå –¢–µ–ø–µ—Ä—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –Ω–µ —Ç–æ–ª—å–∫–æ —É —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞, –Ω–æ –∏ —É —Ç—ã—Å—è—á –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.
________________________________________
üëâ –õ–æ–≥–∏—á–Ω–æ–µ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ: –ì–ª–∞–≤–∞ 21. –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è ‚Äî –∫–∞–∫ –≤—ã–ø—É—Å–∫–∞—Ç—å –Ω–æ–≤—ã–µ –≤–µ—Ä—Å–∏–∏, —á—Ç–æ –¥–µ–ª–∞—Ç—å –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ Chrome API, –∏ –∫–∞–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.
–ì–ª–∞–≤–∞ 21. –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
________________________________________
21.1. –ü–æ—á–µ–º—É –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–∞–∫ –≤–∞–∂–Ω–∞
–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ ‚Äî —ç—Ç–æ –Ω–µ ¬´—Å–¥–µ–ª–∞–ª –∏ –∑–∞–±—ã–ª¬ª. –ü–æ—Å–ª–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è:
‚Ä¢	–æ—Ç–∑—ã–≤—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π;
‚Ä¢	–±–∞–≥–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ—è–≤–ª—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ ¬´–≤ –±–æ—é¬ª;
‚Ä¢	–∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ API Chrome;
‚Ä¢	–Ω–æ–≤—ã–µ –≤–µ—Ä—Å–∏–∏ Node.js, React, TypeScript.
‚ö†Ô∏è –ë–µ–∑ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –¥–∞–∂–µ –æ—Ç–ª–∏—á–Ω–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –±—ã—Å—Ç—Ä–æ —É—Å—Ç–∞—Ä–µ–µ—Ç.
________________________________________
21.2. –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
–í manifest.json –µ—Å—Ç—å –ø–æ–ª–µ:
"version": "1.2.0"
–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (semver):
‚Ä¢	1.2.0
o	1 ‚Äî major (–±–æ–ª—å—à–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è, –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å);
o	2 ‚Äî minor (–Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏, —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è);
o	0 ‚Äî patch (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–≥–æ–≤).
–ü—Ä–∏–º–µ—Ä:
‚Ä¢	1.2.0 ‚Üí 1.2.1 ‚Äî –∏—Å–ø—Ä–∞–≤–∏–ª–∏ –±–∞–≥ —Å –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ–º –≤–∫–ª–∞–¥–æ–∫.
‚Ä¢	1.2.0 ‚Üí 1.3.0 ‚Äî –¥–æ–±–∞–≤–∏–ª–∏ –ø–æ–∏—Å–∫ –ø–æ –∑–∞–∫–ª–∞–¥–∫–∞–º.
‚Ä¢	1.2.0 ‚Üí 2.0.0 ‚Äî –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–ø–∏—Å–∞–ª–∏ –ª–æ–≥–∏–∫—É —Ö—Ä–∞–Ω–µ–Ω–∏—è.
________________________________________
21.3. –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤ Chrome Web Store
1.	–°–æ–±–∏—Ä–∞–µ–º –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é (npm run build).
2.	–ê—Ä—Ö–∏–≤–∏—Ä—É–µ–º dist/ ‚Üí visual-bookmarks-1.3.0.zip.
3.	–ó–∞–≥—Ä—É–∂–∞–µ–º —á–µ—Ä–µ–∑ Dev Console.
4.	–£–∫–∞–∑—ã–≤–∞–µ–º –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é –≤ manifest.json.
5.	–ü–∏—à–µ–º changelog (—Å–ø–∏—Å–æ–∫ –∏–∑–º–µ–Ω–µ–Ω–∏–π).
–ü–æ—Å–ª–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ Chrome —Å–∞–º –æ–±–Ω–æ–≤–∏—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.
________________________________________
21.4. –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚Ä¢	–û—Ç–∑—ã–≤—ã –≤ Web Store ‚Äî –ø–µ—Ä–≤–æ–µ –º–µ—Å—Ç–æ, –≥–¥–µ –ø–æ—è–≤–ª—è—é—Ç—Å—è –∂–∞–ª–æ–±—ã.
‚Ä¢	GitHub Issues (–µ—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç –æ—Ç–∫—Ä—ã—Ç) ‚Äî —É–¥–æ–±–Ω—ã–π —Å–ø–æ—Å–æ–± —Å–æ–±–∏—Ä–∞—Ç—å –±–∞–≥–∏.
‚Ä¢	Email –∏–ª–∏ Telegram-–∫–∞–Ω–∞–ª ‚Äî –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏.
üëâ –°–æ–≤–µ—Ç: –¥–µ–ª–∏—Ç—å –æ–±—Ä–∞—â–µ–Ω–∏—è –Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏:
‚Ä¢	–±–∞–≥–∏;
‚Ä¢	–Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏;
‚Ä¢	–≤–æ–ø—Ä–æ—Å—ã –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.
________________________________________
21.5. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è—Ö
–ß—Ç–æ–±—ã –Ω–µ ¬´—Å–ª–æ–º–∞—Ç—å¬ª —Ä–∞–±–æ—á–µ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ, –Ω—É–∂–Ω–æ:
1.	–ó–∞–ø—É—Å—Ç–∏—Ç—å npm run dev –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–µ.
2.	–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á–µ–∫-–ª–∏—Å—Ç:
o	–æ—Ç–∫—Ä—ã—Ç–∏–µ –ø–∞–Ω–µ–ª–∏;
o	–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤–∫–ª–∞–¥–æ–∫;
o	–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ;
o	–ø–æ–∏—Å–∫;
o	–∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é.
3.	–ü—Ä–æ–≥–Ω–∞—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –≤ ¬´—á–∏—Å—Ç–æ–π¬ª —Å–±–æ—Ä–∫–µ Chrome (–±–µ–∑ –¥—Ä—É–≥–∏—Ö —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π).
________________________________________
21.6. –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å Chrome API
Google –∏–Ω–æ–≥–¥–∞ –º–µ–Ω—è–µ—Ç API. –ü—Ä–∏–º–µ—Ä—ã:
‚Ä¢	–ø–µ—Ä–µ—Ö–æ–¥ –æ—Ç Manifest v2 ‚Üí v3 (—Ñ–æ–Ω–æ–≤—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∑–∞–º–µ–Ω–∏–ª–∏ –Ω–∞ service workers);
‚Ä¢	–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ remote code (–∑–∞–ø—Ä–µ—â—ë–Ω eval –∏ –∑–∞–≥—Ä—É–∑–∫–∞ —Å–∫—Ä–∏–ø—Ç–æ–≤ —Å —Å–µ—Ç–∏).
‚ö†Ô∏è –ù—É–∂–Ω–æ —Å–ª–µ–¥–∏—Ç—å –∑–∞ changelog Google Chrome –∏ –∑–∞—Ä–∞–Ω–µ–µ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥.
________________________________________
21.7. –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Ä–µ–ª–∏–∑–æ–≤
–ß—Ç–æ–±—ã –Ω–µ –¥–µ–ª–∞—Ç—å –≤—Å—ë —Ä—É–∫–∞–º–∏:
‚Ä¢	GitHub Actions –∏–ª–∏ GitLab CI/CD ‚Äî —Å–æ–±–∏—Ä–∞—é—Ç –ø—Ä–æ–µ–∫—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.
‚Ä¢	–°–±–æ—Ä–∫–∞ —Å–æ–∑–¥–∞—ë—Ç zip ‚Üí –≤—ã–∫–ª–∞–¥—ã–≤–∞–µ—Ç –≤ —Ä–µ–ª–∏–∑.
‚Ä¢	–ú–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å auto-upload –≤ Chrome Web Store (—á–µ—Ä–µ–∑ API).
–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
‚Ä¢	–º–µ–Ω—å—à–µ –æ—à–∏–±–æ–∫ –≤—Ä—É—á–Ω—É—é;
‚Ä¢	–æ–¥–∏–Ω–∞–∫–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å –¥–ª—è –∫–∞–∂–¥–æ–π –≤–µ—Ä—Å–∏–∏.
________________________________________
21.8. –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–æ–¥–∞
–î–ª—è –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –≤–∞–∂–Ω–æ:
‚Ä¢	–¥–µ—Ä–∂–∞—Ç—å –∫–æ–¥ –≤ Git (–≤–µ—Ç–∫–∏: main, dev, feature/*);
‚Ä¢	–ø–∏—Å–∞—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é;
‚Ä¢	–æ–±–Ω–æ–≤–ª—è—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (npm outdated ‚Üí npm update).
________________________________________
21.9. –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –±—É–¥—É—â–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π
–•–æ—Ä–æ—à–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞ ‚Äî roadmap:
‚Ä¢	üìå ¬´–ë–ª–∏–∂–∞–π—à–∏–µ –±–∞–≥–∏¬ª (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è).
‚Ä¢	üìå ¬´–ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏¬ª (–Ω–∞–ø—Ä–∏–º–µ—Ä, —ç–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç –∑–∞–∫–ª–∞–¥–æ–∫, —Ç—ë–º–Ω–∞—è —Ç–µ–º–∞).
‚Ä¢	üìå ¬´–î–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ¬ª (–ø–µ—Ä–µ–ø–∏—Å–∫–∞ –Ω–∞ Manifest V3).
________________________________________
21.10. –ò—Ç–æ–≥
–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –≤–∫–ª—é—á–∞–µ—Ç:
‚Ä¢	–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤–µ—Ä—Å–∏–∏ –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—é –≤ Web Store;
‚Ä¢	–æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å –∏ —Ä–∞–±–æ—Ç—É —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏;
‚Ä¢	—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–∂–¥–æ–π –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏;
‚Ä¢	–æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π Chrome API;
‚Ä¢	–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é –∫–æ–¥–∞ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é —Ä–µ–ª–∏–∑–æ–≤.
üìå –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ Visual Bookmarks —Å–º–æ–∂–µ—Ç —Ä–∞–∑–≤–∏–≤–∞—Ç—å—Å—è –≥–æ–¥–∞–º–∏, –µ—Å–ª–∏ –ø–æ–¥—Ö–æ–¥–∏—Ç—å –∫ –ø–æ–¥–¥–µ—Ä–∂–∫–µ –∫–∞–∫ –∫ –∂–∏–≤–æ–º—É –ø—Ä–æ–µ–∫—Ç—É, –∞ –Ω–µ –∫–∞–∫ –∫ ¬´–æ–¥–Ω–æ—Ä–∞–∑–æ–≤–æ–º—É –∫–æ–¥—É¬ª.
‚ÄÉ
–ß–∞—Å—Ç—å III. –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∫–µ–π—Å—ã:
‚Ä¢	–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π;
‚Ä¢	–æ—Ç–ª–∞–¥–∫–∞ –æ—à–∏–±–æ–∫;
‚Ä¢	–∞–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ Manifest V3;
‚Ä¢	–∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
–ì–ª–∞–≤–∞ 22. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ ‚Äî —ç–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç –∑–∞–∫–ª–∞–¥–æ–∫
________________________________________
22.1. –ó–∞—á–µ–º –Ω—É–∂–µ–Ω —ç–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Ö–æ—Ç—è—Ç:
‚Ä¢	üì§ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–µ—Ä–µ–≤–æ –∑–∞–∫–ª–∞–¥–æ–∫ –≤ —Ñ–∞–π–ª, —á—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é.
‚Ä¢	üì• –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –∑–∞–∫–ª–∞–¥–∫–∏ –Ω–∞ –¥—Ä—É–≥–æ–π –∫–æ–º–ø—å—é—Ç–µ—Ä.
‚Ä¢	üîÑ –ü–æ–¥–µ–ª–∏—Ç—å—Å—è –¥–µ—Ä–µ–≤–æ–º –∑–∞–∫–ª–∞–¥–æ–∫ —Å –∫–æ–ª–ª–µ–≥–æ–π –∏–ª–∏ –¥—Ä—É–≥–æ–º.
–§–æ—Ä–º–∞—Ç —Ö—Ä–∞–Ω–µ–Ω–∏—è –æ–±—ã—á–Ω–æ –ø—Ä–æ—Å—Ç–æ–π:
‚Ä¢	JSON (—É–¥–æ–±–µ–Ω –¥–ª—è –æ–±–º–µ–Ω–∞ –∏ —á—Ç–µ–Ω–∏—è);
‚Ä¢	CSV (–º–µ–Ω–µ–µ –≥–∏–±–∫–∏–π, –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Ç–∞–±–ª–∏—Ü);
‚Ä¢	HTML (—Å–æ–≤–º–µ—Å—Ç–∏–º —Å–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º–∏ ¬´–∑–∞–∫–ª–∞–¥–∫–∞–º–∏ –±—Ä–∞—É–∑–µ—Ä–∞¬ª).
üëâ –í –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ –≤—ã–±–µ—Ä–µ–º JSON –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–æ—Ä–º–∞—Ç.
________________________________________
22.2. –ß—Ç–æ –Ω—É–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å
1.	–í –ø–∞–Ω–µ–ª–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è (App.tsx –∏–ª–∏ tree.tsx) –¥–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫–∏:
o	¬´–≠–∫—Å–ø–æ—Ä—Ç –∑–∞–∫–ª–∞–¥–æ–∫¬ª;
o	¬´–ò–º–ø–æ—Ä—Ç –∑–∞–∫–ª–∞–¥–æ–∫¬ª.
2.	–≠–∫—Å–ø–æ—Ä—Ç:
o	–ø—Ä–æ—á–∏—Ç–∞—Ç—å —Ç–µ–∫—É—â–µ–µ –¥–µ—Ä–µ–≤–æ (treeOps.ts / —Ö—Ä–∞–Ω–∏–ª–∏—â–µ sqlStorage);
o	–ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å –≤ JSON;
o	—Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ —Ñ–∞–π–ª —á–µ—Ä–µ–∑ chrome.downloads.
3.	–ò–º–ø–æ—Ä—Ç:
o	–≤—ã–±—Ä–∞—Ç—å —Ñ–∞–π–ª (<input type="file" />);
o	—Å—á–∏—Ç–∞—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ (FileReader API);
o	—Ä–∞—Å–ø–∞—Ä—Å–∏—Ç—å JSON;
o	–¥–æ–±–∞–≤–∏—Ç—å —É–∑–ª—ã –≤ –¥–µ—Ä–µ–≤–æ (—á–µ—Ä–µ–∑ treeOps.ts).
________________________________________
22.3. –≠–∫—Å–ø–æ—Ä—Ç
–ü—Ä–∏–º–µ—Ä —Ñ—É–Ω–∫—Ü–∏–∏ —ç–∫—Å–ø–æ—Ä—Ç–∞:
import { getAllNodes } from './treeOps';

export async function exportBookmarks() {
  const data = await getAllNodes(); // –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Å—ë –¥–µ—Ä–µ–≤–æ –∑–∞–∫–ª–∞–¥–æ–∫
  const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
  const url = URL.createObjectURL(blob);

  chrome.downloads.download({
    url,
    filename: 'visual-bookmarks.json',
    saveAs: true
  });
}
________________________________________
22.4. –ò–º–ø–æ—Ä—Ç
–§–æ—Ä–º–∞ –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ñ–∞–π–ª–∞ (–≤ App.tsx):
<input
  type="file"
  accept="application/json"
  onChange={async (e) => {
    const file = e.target.files?.[0];
    if (!file) return;

    const text = await file.text();
    try {
      const data = JSON.parse(text);
      await importBookmarks(data);
      alert("–ó–∞–∫–ª–∞–¥–∫–∏ —É—Å–ø–µ—à–Ω–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã!");
    } catch (err) {
      alert("–û—à–∏–±–∫–∞: —Ñ–∞–π–ª –ø–æ–≤—Ä–µ–∂–¥—ë–Ω –∏–ª–∏ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è JSON");
    }
  }}
/>
–õ–æ–≥–∏–∫–∞ –∏–º–ø–æ—Ä—Ç–∞ (–≤ treeOps.ts):
import { addNode } from './treeOps';
import { SimpleTab } from './models';

export async function importBookmarks(data: any) {
  if (!Array.isArray(data)) {
    throw new Error("–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞");
  }

  for (const item of data) {
    if (item.title && item.url) {
      await addNode({
        title: item.title,
        url: item.url,
        children: item.children || []
      } as SimpleTab);
    }
  }
}
________________________________________
22.5. –í—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
–î–æ–±–∞–≤–∏–º –∫–Ω–æ–ø–∫–∏ –≤ –ø–∞–Ω–µ–ª—å (App.tsx):
<div className="toolbar">
  <button onClick={exportBookmarks}>–≠–∫—Å–ø–æ—Ä—Ç</button>
  <label>
    –ò–º–ø–æ—Ä—Ç
    <input
      type="file"
      accept="application/json"
      style={{ display: "none" }}
      onChange={handleImport}
    />
  </label>
</div>
________________________________________
22.6. –ß—Ç–æ —Ö—Ä–∞–Ω–∏—Ç—å –≤ JSON
–ü—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–∞ visual-bookmarks.json:
[
  {
    "title": "–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞",
    "url": null,
    "children": [
      {
        "title": "StackOverflow",
        "url": "https://stackoverflow.com"
      },
      {
        "title": "MDN Docs",
        "url": "https://developer.mozilla.org"
      }
    ]
  },
  {
    "title": "–ù–æ–≤–æ—Å—Ç–∏",
    "url": null,
    "children": [
      {
        "title": "BBC",
        "url": "https://bbc.com"
      }
    ]
  }
]
‚Ä¢	title ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ —É–∑–ª–∞;
‚Ä¢	url ‚Äî —Å—Å—ã–ª–∫–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å, null –¥–ª—è –ø–∞–ø–∫–∏);
‚Ä¢	children ‚Äî –≤–ª–æ–∂–µ–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã.
________________________________________
22.7. –ü–æ–¥–≤–æ–¥–Ω—ã–µ –∫–∞–º–Ω–∏
1.	–î—É–±–ª–∏–∫–∞—Ç—ã: –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ –º–æ–≥—É—Ç –ø–æ—è–≤–ª—è—Ç—å—Å—è –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –∑–∞–∫–ª–∞–¥–∫–∏ ‚Üí –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –ø–æ url.
2.	–ì–ª—É–±–æ–∫–∏–µ –¥–µ—Ä–µ–≤—å—è: –≤–∞–∂–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å, –∞ –Ω–µ –ø–ª–æ—Å–∫–∏–π —Å–ø–∏—Å–æ–∫.
3.	–í–µ—Ä—Å–∏–æ–Ω–Ω–æ—Å—Ç—å: –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ "version": 1 –≤ JSON, —á—Ç–æ–±—ã –ø–æ—Ç–æ–º —Ä–∞—Å—à–∏—Ä—è—Ç—å —Ñ–æ—Ä–º–∞—Ç.
4.	–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è Chrome: –±–æ–ª—å—à–∏–µ JSON-—Ñ–∞–π–ª—ã (>5 –ú–ë) –º–æ–≥—É—Ç —Ç–æ—Ä–º–æ–∑–∏—Ç—å.
________________________________________
22.8. –£–ª—É—á—à–µ–Ω–∏—è
‚Ä¢	–≠–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç —á–∞—Å—Ç–∏ –¥–µ—Ä–µ–≤–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ–π –ø–∞–ø–∫–∏).
‚Ä¢	–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ HTML (–∫–∞–∫ —É –±—Ä–∞—É–∑–µ—Ä–∞) –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏.
‚Ä¢	–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ä–∞–∑ –≤ –Ω–µ–¥–µ–ª—é —Å–æ—Ö—Ä–∞–Ω—è—Ç—å JSON –≤ chrome.storage.local).
________________________________________
22.9. –ò—Ç–æ–≥
–ú—ã –¥–æ–±–∞–≤–∏–ª–∏ –≤ Visual Bookmarks:
‚Ä¢	—ç–∫—Å–ø–æ—Ä—Ç –∑–∞–∫–ª–∞–¥–æ–∫ –≤ JSON;
‚Ä¢	–∏–º–ø–æ—Ä—Ç –∏–∑ JSON;
‚Ä¢	–ø—Ä–æ—Å—Ç—ã–µ –∫–Ω–æ–ø–∫–∏ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ.
–¢–µ–ø–µ—Ä—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç:
‚Ä¢	–ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—å –¥–µ—Ä–µ–≤–æ –º–µ–∂–¥—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏;
‚Ä¢	–≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –µ–≥–æ –ø–æ—Å–ª–µ —Å–±–æ—è;
‚Ä¢	–¥–µ–ª–∏—Ç—å—Å—è –∑–∞–∫–ª–∞–¥–∫–∞–º–∏.
–ì–ª–∞–≤–∞ 23. –ê–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ Manifest V3
________________________________________
23.1. –ß—Ç–æ —Ç–∞–∫–æ–µ Manifest V3
Manifest.json ‚Äî —ç—Ç–æ ¬´–ø–∞—Å–ø–æ—Ä—Ç¬ª —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è. –û–Ω –æ–ø–∏—Å—ã–≤–∞–µ—Ç:
‚Ä¢	–∫–∞–∫–∏–µ —Å–∫—Ä–∏–ø—Ç—ã –ø–æ–¥–∫–ª—é—á–∞—Ç—å;
‚Ä¢	–∫–∞–∫–∏–µ –ø—Ä–∞–≤–∞ –Ω—É–∂–Ω—ã;
‚Ä¢	–∫–∞–∫–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å;
‚Ä¢	–∫–∞–∫–∏–µ API –¥–æ—Å—Ç—É–ø–Ω—ã.
üîë Google –≤–≤—ë–ª Manifest V3 (MV3), —á—Ç–æ–±—ã:
‚Ä¢	–ø–æ–≤—ã—Å–∏—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (–Ω–µ—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–¥–∞);
‚Ä¢	—Å–Ω–∏–∑–∏—Ç—å –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ –±—Ä–∞—É–∑–µ—Ä (service workers –≤–º–µ—Å—Ç–æ —Ñ–æ–Ω–æ–≤—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü);
‚Ä¢	—É–ª—É—á—à–∏—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è–º–∏.
üëâ –î–ª—è –Ω–∞—Å —ç—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ –ø—Ä–∏–¥—ë—Ç—Å—è –ø–æ–º–µ–Ω—è—Ç—å —á–∞—Å—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã.
________________________________________
23.2. –û—Å–Ω–æ–≤–Ω—ã–µ –æ—Ç–ª–∏—á–∏—è MV2 ‚Üí MV3
–ë—ã–ª–æ (Manifest V2)	–°—Ç–∞–ª–æ (Manifest V3)
background page (–ø–æ—Å—Ç–æ—è–Ω–Ω–∞—è —Ñ–æ–Ω–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞)	service worker (–ª–µ–Ω–∏–≤—ã–π –∑–∞–ø—É—Å–∫, –Ω–µ—Ç DOM)
"background": { "scripts": [...] }	"background": { "service_worker": "background.js" }
chrome.browserAction	chrome.action
chrome.runtime.onInstalled ‚Äî –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π	—Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ —Ç–æ–ª—å–∫–æ –≤ service worker
content_security_policy: script-src 'self' 'unsafe-eval'	–∑–∞–ø—Ä–µ—â—ë–Ω eval, inline-—Å–∫—Ä–∏–ø—Ç—ã, —Ç–æ–ª—å–∫–æ self
—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö ‚Äî –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π	chrome.storage.* –æ—Å—Ç–∞–ª—Å—è
—Å–µ—Ç–µ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã	–∑–∞–ø—Ä–µ—â–µ–Ω—ã –≤–Ω–µ—à–Ω–∏–µ eval –∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∏–º–ø–æ—Ä—Ç—ã
________________________________________
23.3. –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –Ω–∞—à–µ–º —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–∏
1. manifest.json
{
  "manifest_version": 3,
  "name": "Visual Bookmarks",
  "version": "2.0.0",
  "description": "–î—Ä–µ–≤–æ–≤–∏–¥–Ω—ã–µ –∑–∞–∫–ª–∞–¥–∫–∏ –¥–ª—è Chrome",
  "background": {
    "service_worker": "background.js",
    "type": "module"
  },
  "permissions": [
    "tabs",
    "storage",
    "contextMenus",
    "downloads",
    "tabGroups"
  ],
  "action": {
    "default_popup": "index.html",
    "default_icon": {
      "16": "icons/icon16.png",
      "48": "icons/icon48.png",
      "128": "icons/icon128.png"
    }
  },
  "icons": {
    "16": "icons/icon16.png",
    "48": "icons/icon48.png",
    "128": "icons/icon128.png"
  },
  "host_permissions": [
    "<all_urls>"
  ]
}
2. background.ts ‚Üí background.js
‚Ä¢	—Ç–µ–ø–µ—Ä—å –æ–Ω –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∫–∞–∫ service worker;
‚Ä¢	–Ω–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å window, document;
‚Ä¢	–∂–∏–≤—ë—Ç —Ç–æ–ª—å–∫–æ –ø–æ–∫–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∑–∞–¥–∞—á–∏.
–ü—Ä–∏–º–µ—Ä –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏:
chrome.runtime.onInstalled.addListener(() => {
  console.log("Visual Bookmarks —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω!");
});

chrome.contextMenus.create({
  id: "add-selected-tabs",
  title: "–î–æ–±–∞–≤–∏—Ç—å –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–µ –≤–∫–ª–∞–¥–∫–∏",
  contexts: ["all"]
});

chrome.contextMenus.onClicked.addListener((info, tab) => {
  if (info.menuItemId === "add-selected-tabs") {
    chrome.tabs.query({ highlighted: true, currentWindow: true }, (tabs) => {
      chrome.runtime.sendMessage({
        type: "VB_BUFFER_SELECTED_TABS",
        tabs: tabs.map(t => ({ title: t.title, url: t.url }))
      });
    });
  }
});
________________________________________
23.4. –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
–•–æ—Ä–æ—à–∞—è –Ω–æ–≤–æ—Å—Ç—å:
‚Ä¢	chrome.storage.local –∏ chrome.storage.sync —Ä–∞–±–æ—Ç–∞—é—Ç –∫–∞–∫ —Ä–∞–Ω—å—à–µ.
‚Ä¢	–ù–∞—à sqlStorage.ts —Ç–æ–∂–µ –æ—Å—Ç–∞—ë—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π (IndexedDB).
________________________________________
23.5. –ö–æ–Ω—Ç–µ–Ω—Ç-—Å–∫—Ä–∏–ø—Ç—ã
–ï—Å–ª–∏ –≤ –±—É–¥—É—â–µ–º –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –≤–Ω–µ–¥—Ä—è—Ç—å –∫–æ–¥ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –∑–∞—Ö–≤–∞—Ç–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞), —Ç–æ –≤ MV3 —ç—Ç–æ —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–∞–∫:
"content_scripts": [
  {
    "matches": ["<all_urls>"],
    "js": ["content.js"]
  }
]
‚ö†Ô∏è Inline-—Å–∫—Ä–∏–ø—Ç—ã (<script>...) –∑–∞–ø—Ä–µ—â–µ–Ω—ã. –í—Å—ë –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö .js-—Ñ–∞–π–ª–∞—Ö.
________________________________________
23.6. React + Vite –ø–æ–¥ MV3
Vite –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–±–æ—Ä–∫—É –≤ dist/.
–î–ª—è MV3 –Ω—É–∂–Ω–æ —É–±–µ–¥–∏—Ç—å—Å—è:
‚Ä¢	background.ts –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫ service worker;
‚Ä¢	popup (App.tsx) –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –≤ index.html + bundle.js.
–í vite.config.ts:
export default defineConfig({
  build: {
    rollupOptions: {
      input: {
        popup: "index.html",
        background: "src/background.ts"
      },
      output: {
        entryFileNames: chunk => chunk.name === "background" ? "background.js" : "[name].js"
      }
    }
  }
});
________________________________________
23.7. –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –ø—Ä–∏ –º–∏–≥—Ä–∞—Ü–∏–∏
1.	–ù–µ—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ background ‚Äî –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å —á–∞—Å—Ç—å –ª–æ–≥–∏–∫–∏.
o	–†–∞–Ω—å—à–µ –º–æ–∂–Ω–æ –±—ã–ª–æ —Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö ‚Üí —Ç–µ–ø–µ—Ä—å —Ç–æ–ª—å–∫–æ –≤ storage.
o	–ö–∞–∂–¥–æ–µ —Å–æ–±—ã—Ç–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–ª–∏–∫ –≤ –º–µ–Ω—é) –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ.
2.	–ù–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å eval / Function ‚Üí –µ—Å–ª–∏ TypeScript –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –¥–∏–Ω–∞–º–∏–∫—É, –Ω—É–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å.
3.	–°–æ–æ–±—â–µ–Ω–∏—è –º–µ–∂–¥—É popup –∏ background:
o	–æ—Å—Ç–∞—ë—Ç—Å—è chrome.runtime.sendMessage –∏ onMessage.
o	–Ω–æ —Ç–µ–ø–µ—Ä—å –∏–Ω–æ–≥–¥–∞ —Å–µ—Ä–≤–∏—Å-–≤–æ—Ä–∫–µ—Ä –º–æ–∂–µ—Ç –±—ã—Ç—å ¬´—Å–ø—è—â–∏–º¬ª ‚Üí —Ç–æ–≥–¥–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ –µ–≥–æ ¬´–±—É–¥–∏—Ç¬ª.
________________________________________
23.8. –ü–ª–∞–Ω –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è Visual Bookmarks
1.	–û–±–Ω–æ–≤–∏—Ç—å manifest.json –Ω–∞ manifest_version: 3.
2.	–ü–µ—Ä–µ–ø–∏—Å–∞—Ç—å background.ts –ø–æ–¥ —Å–µ—Ä–≤–∏—Å-–≤–æ—Ä–∫–µ—Ä.
3.	–£–±—Ä–∞—Ç—å –≤—Å–µ –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ window/document –∏–∑ background.
4.	–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –±—É—Ñ–µ—Ä –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –≤–∫–ª–∞–¥–æ–∫) –≤ chrome.storage.local.
5.	–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É —Å–æ–æ–±—â–µ–Ω–∏–π (onMessage, sendMessage).
6.	–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ Chrome Canary (–≥–¥–µ MV3 —Ä–∞–±–æ—Ç–∞–µ—Ç –ª—É—á—à–µ –≤—Å–µ–≥–æ).
________________________________________
23.9. –ò—Ç–æ–≥
–ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ Manifest V3 —Ç—Ä–µ–±—É–µ—Ç:
‚Ä¢	–∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ manifest.json;
‚Ä¢	–ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–Ω–∏—è background.ts –ø–æ–¥ —Å–µ—Ä–≤–∏—Å-–≤–æ—Ä–∫–µ—Ä;
‚Ä¢	–±–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–æ–π —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏ (—á–µ—Ä–µ–∑ storage);
‚Ä¢	–∞–¥–∞–ø—Ç–∞—Ü–∏–∏ —Å–±–æ—Ä–∫–∏ Vite.
üìå –ù–æ –ø–æ—Å–ª–µ –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ Visual Bookmarks –±—É–¥–µ—Ç —Å–æ–≤–º–µ—Å—Ç–∏–º —Å –±—É–¥—É—â–∏–º–∏ –≤–µ—Ä—Å–∏—è–º–∏ Chrome –∏ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –≤ Web Store.
–ì–ª–∞–≤–∞ 24. –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
________________________________________
24.1. –ó–∞—á–µ–º –Ω—É–∂–Ω–∞ –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è?
–ù–µ –≤—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã:
‚Ä¢	–∫—Ç–æ-—Ç–æ –ª—é–±–∏—Ç —Å–≤–µ—Ç–ª—É—é —Ç–µ–º—É, –∫—Ç–æ-—Ç–æ ‚Äî —Ç—ë–º–Ω—É—é;
‚Ä¢	–æ–¥–Ω–∏–º —É–¥–æ–±–Ω–æ –≤–∏–¥–µ—Ç—å –¥–µ—Ä–µ–≤–æ —Ç–æ–ª—å–∫–æ –Ω–∞ 2 —É—Ä–æ–≤–Ω—è, –¥—Ä—É–≥–∏–º ‚Äî –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–æ–µ;
‚Ä¢	–æ–¥–Ω–∏ —Ö–æ—Ç—è—Ç ¬´–º–∏–Ω–∏–º–∞–ª–∏–∑–º¬ª, –¥—Ä—É–≥–∏–µ ‚Äî –±–æ–ª—å—à–µ –¥–µ—Ç–∞–ª–µ–π (–∏–∫–æ–Ω–∫–∏, –ø–æ–¥–ø–∏—Å–∏).
üìå –ü–æ—ç—Ç–æ–º—É –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω—ã —Ç–µ–º—ã, —É—Ä–æ–≤–Ω–∏ –¥–µ—Ä–µ–≤–∞ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.
________________________________________
24.2. –¢–µ–º–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è
–í —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è CSS-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ –∫–ª–∞—Å—Å—ã, —á—Ç–æ–±—ã –ª–µ–≥–∫–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ.
–ü—Ä–∏–º–µ—Ä:
:root {
  --bg-color: white;
  --text-color: black;
}

[data-theme="dark"] {
  --bg-color: #1e1e1e;
  --text-color: #f1f1f1;
}
–ê –≤ React:
function ThemeToggle() {
  const [theme, setTheme] = useState("light");

  useEffect(() => {
    document.documentElement.setAttribute("data-theme", theme);
  }, [theme]);

  return (
    <button onClick={() => setTheme(theme === "light" ? "dark" : "light")}>
      {theme === "light" ? "üåô Dark" : "‚òÄÔ∏è Light"}
    </button>
  );
}
üëâ –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ç–µ–º—ã —Ä–∞–±–æ—Ç–∞–µ—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω–æ, –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ –ø–∞–Ω–µ–ª–∏.
________________________________________
24.3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É—Ä–æ–≤–Ω–µ–π –¥–µ—Ä–µ–≤–∞
–ò–Ω–æ–≥–¥–∞ –¥–µ—Ä–µ–≤–æ –ø–æ–ª—É—á–∞–µ—Ç—Å—è –æ—á–µ–Ω—å –≥–ª—É–±–æ–∫–∏–º. –ß—Ç–æ–±—ã –Ω–µ ¬´—É—Ç–æ–Ω—É—Ç—å¬ª –≤ –≤–µ—Ç–∫–∞—Ö, —É–¥–æ–±–Ω–æ –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –≥–ª—É–±–∏–Ω—É –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è.
–ü—Ä–∏–º–µ—Ä:
‚Ä¢	—É—Ä–æ–≤–µ–Ω—å 0 ‚Üí —Ç–æ–ª—å–∫–æ –∫–æ—Ä–Ω–µ–≤—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏;
‚Ä¢	—É—Ä–æ–≤–µ–Ω—å 1 ‚Üí –∫–æ—Ä–Ω–∏ + –ø–µ—Ä–≤—ã–π —É—Ä–æ–≤–µ–Ω—å –ø–æ–¥–ø–∞–ø–æ–∫;
‚Ä¢	—É—Ä–æ–≤–µ–Ω—å 2 ‚Üí —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞—é—Ç—Å—è –≤—Å–µ –¥–æ –≤—Ç–æ—Ä–æ–≥–æ —É—Ä–æ–≤–Ω—è.
–í tree.tsx —ç—Ç–æ —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫:
function Tree({ nodes, maxDepth }: { nodes: TreeNode[], maxDepth: number }) {
  function renderNode(node: TreeNode, depth: number) {
    if (depth > maxDepth) return null;
    return (
      <div style={{ marginLeft: depth * 12 }}>
        {node.title}
        {node.children?.map(c => renderNode(c, depth + 1))}
      </div>
    );
  }

  return <div>{nodes.map(n => renderNode(n, 0))}</div>;
}
–ü–∞—Ä–∞–º–µ—Ç—Ä maxDepth –±–µ—Ä—ë—Ç—Å—è –∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
________________________________________
24.4. –°—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫
Chrome –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–µ–ª–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—É—é options page.
–í manifest.json:
"options_page": "options.html"
–í –Ω–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤—ã–±—Ä–∞—Ç—å:
‚Ä¢	—Ç–µ–º—É –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è (—Å–≤–µ—Ç–ª–∞—è / —Ç—ë–º–Ω–∞—è);
‚Ä¢	–≥–ª—É–±–∏–Ω—É –¥–µ—Ä–µ–≤–∞;
‚Ä¢	–ø–æ–≤–µ–¥–µ–Ω–∏–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –≤–∫–ª–∞–¥–æ–∫ (–∞–≤—Ç–æ–æ—á–∏—Å—Ç–∫–∞ –±—É—Ñ–µ—Ä–∞ –∏–ª–∏ –Ω–µ—Ç).
–ü—Ä–∏–º–µ—Ä React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞:
function OptionsPage() {
  const [settings, setSettings] = useState({ theme: "light", depth: 2 });

  useEffect(() => {
    chrome.storage.local.get(["settings"], data => {
      if (data.settings) setSettings(data.settings);
    });
  }, []);

  function saveSettings(newSettings: typeof settings) {
    setSettings(newSettings);
    chrome.storage.local.set({ settings: newSettings });
  }

  return (
    <div>
      <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ Visual Bookmarks</h2>

      <label>–¢–µ–º–∞:</label>
      <select
        value={settings.theme}
        onChange={e => saveSettings({ ...settings, theme: e.target.value })}
      >
        <option value="light">–°–≤–µ—Ç–ª–∞—è</option>
        <option value="dark">–¢—ë–º–Ω–∞—è</option>
      </select>

      <label>–ì–ª—É–±–∏–Ω–∞ –¥–µ—Ä–µ–≤–∞:</label>
      <input
        type="number"
        value={settings.depth}
        min={0}
        max={10}
        onChange={e => saveSettings({ ...settings, depth: Number(e.target.value) })}
      />
    </div>
  );
}
üëâ –¢–µ–ø–µ—Ä—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ chrome.storage.local –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –ø–∞–Ω–µ–ª–∏.
________________________________________
24.5. –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è
–ï—â—ë –æ–¥–∏–Ω —à–∞–≥ –∫ –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏–∏ ‚Äî –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–Ω—ã—Ö —è–∑—ã–∫–æ–≤.
Chrome –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç i18n —á–µ—Ä–µ–∑ /_locales/.
–°—Ç—Ä—É–∫—Ç—É—Ä–∞:
/_locales/en/messages.json
/_locales/ru/messages.json
–ü—Ä–∏–º–µ—Ä messages.json:
{
  "appName": { "message": "Visual Bookmarks" },
  "menuAddTabs": { "message": "Add selected tabs" }
}
–ê –≤ –∫–æ–¥–µ:
chrome.i18n.getMessage("menuAddTabs");
–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –º–æ–∂–Ω–æ –ª–µ–≥–∫–æ –ø–µ—Ä–µ–≤–µ—Å—Ç–∏.
________________________________________
24.6. –ò—Ç–æ–≥
‚Ä¢	–¢–µ–º—ã —Ä–µ–∞–ª–∏–∑—É—é—Ç—Å—è —á–µ—Ä–µ–∑ CSS-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ.
‚Ä¢	–ì–ª—É–±–∏–Ω–∞ –¥–µ—Ä–µ–≤–∞ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º.
‚Ä¢	–û–ø—Ü–∏–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ chrome.storage.local.
‚Ä¢	–ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—é –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —è–∑—ã–∫–æ–≤.
üìå –≠—Ç–æ –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç Visual Bookmarks –≤ –±–æ–ª–µ–µ –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç: –∫–∞–∂–¥—ã–π –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –µ–≥–æ –ø–æ–¥ —Å–µ–±—è.
–ì–ª–∞–≤–∞ 25. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—Ç–ª–∞–¥–∫–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
________________________________________
25.1. –ó–∞—á–µ–º —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ?
–û—à–∏–±–∫–∏ –≤ –±—Ä–∞—É–∑–µ—Ä–Ω—ã—Ö —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è—Ö —á–∞—Å—Ç–æ –ø—Ä–∏–≤–æ–¥—è—Ç –∫:
‚Ä¢	üìå –∑–∞–≤–∏—Å–∞–Ω–∏—é –ø–∞–Ω–µ–ª–∏ –∏–ª–∏ –≤—Å–µ–≥–æ –±—Ä–∞—É–∑–µ—Ä–∞;
‚Ä¢	üìå –ø–æ—Ç–µ—Ä—è–Ω–Ω—ã–º –¥–∞–Ω–Ω—ã–º (–∑–∞–∫–ª–∞–¥–∫–∏, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è);
‚Ä¢	üìå –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞–º —Å –¥—Ä—É–≥–∏–º–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è–º–∏;
‚Ä¢	üìå –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º –æ—Ç–∑—ã–≤–∞–º –≤ Web Store.
–ü–æ—ç—Ç–æ–º—É —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Äî —ç—Ç–æ –Ω–µ ¬´–±–æ–Ω—É—Å¬ª, –∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π —ç—Ç–∞–ø –ø–µ—Ä–µ–¥ –∫–∞–∂–¥–æ–π –ø—É–±–ª–∏–∫–∞—Ü–∏–µ–π.
________________________________________
25.2. –¢–∏–ø—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
1.	–†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
o	–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –ø–∞–Ω–µ–ª—å, –∫–ª–∏–∫–∞–µ—Ç, –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≤—Å–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏.
o	—Ö–æ—Ä–æ—à–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –ø–µ—Ä–≤—ã—Ö —ç—Ç–∞–ø–æ–≤.
2.	–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
o	—é–Ω–∏—Ç-—Ç–µ—Å—Ç—ã –Ω–∞ TypeScript/React (jest, vitest).
o	–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã ‚Äî –ø—Ä–æ–≤–µ—Ä—è—é—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –º–æ–¥—É–ª–µ–π (treeOps.ts, sqlStorage.ts).
o	e2e-—Ç–µ—Å—Ç—ã —á–µ—Ä–µ–∑ Puppeteer –∏–ª–∏ Playwright (–∏–º–∏—Ç–∞—Ü–∏—è –¥–µ–π—Å—Ç–≤–∏–π –≤ –±—Ä–∞—É–∑–µ—Ä–µ).
3.	–†–µ–≥—Ä–µ—Å—Å–∏–æ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
o	–ø—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ —Å—Ç–∞—Ä—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö.
________________________________________
25.3. –¢–µ—Å—Ç-—á–µ–∫-–ª–∏—Å—Ç Visual Bookmarks
–ö–∞–∂–¥–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å:
UI (–ø–∞–Ω–µ–ª—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è)
‚Ä¢	–æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ª–∏ –ø–∞–Ω–µ–ª—å;
‚Ä¢	–æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –ª–∏ –∑–∞–∫–ª–∞–¥–∫–∏ –≤ –¥–µ—Ä–µ–≤–µ;
‚Ä¢	—Ä–∞–±–æ—Ç–∞—é—Ç –ª–∏ —É—Ä–æ–≤–Ω–∏ —Ä–∞—Å–∫—Ä—ã—Ç–∏—è;
‚Ä¢	–º–µ–Ω—è–µ—Ç—Å—è –ª–∏ —Ç–µ–º–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è.
–†–∞–±–æ—Ç–∞ —Å –≤–∫–ª–∞–¥–∫–∞–º–∏
‚Ä¢	–≤—ã–¥–µ–ª–µ–Ω–Ω—ã–µ –≤–∫–ª–∞–¥–∫–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∫–æ–ø–∏—Ä—É—é—Ç—Å—è –≤ –¥–µ—Ä–µ–≤–æ;
‚Ä¢	–ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏ –±—É—Ñ–µ—Ä –æ—á–∏—â–∞–µ—Ç—Å—è;
‚Ä¢	–º–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –≤–∫–ª–∞–¥–∫–∏ —á–µ—Ä–µ–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é.
Chrome API
‚Ä¢	–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ª–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –≥—Ä—É–ø–ø—ã –≤–∫–ª–∞–¥–æ–∫;
‚Ä¢	—Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ chrome.storage.local;
‚Ä¢	–æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –ª–∏ —Å–æ–æ–±—â–µ–Ω–∏—è chrome.runtime.onMessage.
–û—à–∏–±–∫–∏
‚Ä¢	–∫–æ–Ω—Å–æ–ª—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –Ω–µ –¥–æ–ª–∂–Ω–∞ —Å–æ–¥–µ—Ä–∂–∞—Ç—å Uncaught –æ—à–∏–±–æ–∫;
‚Ä¢	–Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –ø–æ–≤—Ç–æ—Ä–æ–≤ —Å–æ–æ–±—â–µ–Ω–∏–π;
‚Ä¢	—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –Ω–µ –¥–æ–ª–∂–Ω–æ –∫—Ä–∞—à–∏—Ç—å –±—Ä–∞—É–∑–µ—Ä.
________________________________________
25.4. –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –æ—Ç–ª–∞–¥–∫–∏
DevTools –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π
1.	–û—Ç–∫—Ä—ã—Ç—å chrome://extensions.
2.	–í–∫–ª—é—á–∏—Ç—å –†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞.
3.	–£ —Å–≤–æ–µ–≥–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –Ω–∞–∂–∞—Ç—å ¬´–§–æ–Ω–æ–≤—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (service worker)¬ª ‚Üí –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω—ã–π DevTools.
–ú–æ–∂–Ω–æ —Å–º–æ—Ç—Ä–µ—Ç—å:
‚Ä¢	Console (–æ—à–∏–±–∫–∏, console.log);
‚Ä¢	Network (–∑–∞–ø—Ä–æ—Å—ã –∫ storage / API);
‚Ä¢	Sources (–¥–µ–±–∞–≥ –∫–æ–¥–∞ —Å breakpoints).
Debugging –≤ VS Code
–ú–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å .vscode/launch.json:
{
  "version": "0.2.0",
  "configurations": [
    {
      "type": "pwa-chrome",
      "request": "launch",
      "name": "Launch Chrome with Extension",
      "url": "http://localhost:3000",
      "webRoot": "${workspaceFolder}/extension"
    }
  ]
}
–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å Chrome –ø—Ä—è–º–æ –∏–∑ VS Code –∏ —Å—Ç–∞–≤–∏—Ç—å —Ç–æ—á–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–∞.
________________________________________
25.5. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã
–Æ–Ω–∏—Ç-—Ç–µ—Å—Ç –Ω–∞ treeOps.ts
import { addNode } from "./treeOps";

test("–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —É–∑–ª–∞", () => {
  const tree = [{ id: 1, title: "Root", children: [] }];
  const result = addNode(tree, { id: 2, title: "Child" }, 1);
  expect(result[0].children.length).toBe(1);
});
–ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑:
npm run test
E2E —Ç–µ—Å—Ç —Å Playwright
import { chromium } from "playwright";

(async () => {
  const browser = await chromium.launchPersistentContext("./profile", {
    headless: false,
    args: ["--disable-extensions-except=./extension", "--load-extension=./extension"]
  });

  const page = await browser.newPage();
  await page.goto("chrome://extensions");
  // –ø—Ä–æ–≤–µ—Ä—è–µ–º —Ä–∞–±–æ—Ç—É –ø–∞–Ω–µ–ª–∏
})();
________________________________________
25.6. –¢–∏–ø–∏—á–Ω—ã–µ –±–∞–≥–∏ –≤ Visual Bookmarks
‚Ä¢	‚ùå –≤–∫–ª–∞–¥–∫–∏ –∫–æ–ø–∏—Ä—É—é—Ç—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ (–∏–∑-–∑–∞ –Ω–µ–æ—á–∏—â–µ–Ω–Ω–æ–≥–æ –±—É—Ñ–µ—Ä–∞).
‚Ä¢	‚ùå –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–Ω–∞ –≤–∫–ª–∞–¥–∫–∞ (–æ—à–∏–±–∫–∞ –≤ –ø—Ä–æ–≤–µ—Ä–∫–µ –º–∞—Å—Å–∏–≤–∞).
‚Ä¢	‚ùå –¥–µ—Ä–µ–≤–æ –æ–±—Ä–µ–∑–∞–µ—Ç—Å—è –Ω–µ –Ω–∞ –Ω—É–∂–Ω–æ–º —É—Ä–æ–≤–Ω–µ.
‚Ä¢	‚ùå —Ç–µ–º—ã –Ω–µ –ø–µ—Ä–µ–∫–ª—é—á–∞—é—Ç—Å—è (–ø—Ä–æ–±–ª–µ–º–∞ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –≤ storage).
________________________________________
25.7. –ü–æ–¥—Ö–æ–¥ –∫ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é
1.	–ü–æ–≤—Ç–æ—Ä–∏—Ç—å –±–∞–≥ ‚Üí –Ω–∞–π—Ç–∏ —Å—Ç–∞–±–∏–ª—å–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π.
2.	–ü—Ä–æ–≤–µ—Ä–∏—Ç—å Console –≤ DevTools.
3.	–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å console.log("step 1", variable) –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è.
4.	–ò—Å–ø—Ä–∞–≤–∏—Ç—å –∫–æ–¥.
5.	–î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç, —á—Ç–æ–±—ã –±–∞–≥ –Ω–µ –≤–µ—Ä–Ω—É–ª—Å—è.
________________________________________
25.8. –ò—Ç–æ–≥
‚Ä¢	–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ = —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è.
‚Ä¢	–ù—É–∂–Ω–æ —Å–æ—á–µ—Ç–∞—Ç—å —Ä—É—á–Ω—ã–µ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏.
‚Ä¢	DevTools –∏ VS Code –¥–∞—é—Ç –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏.
‚Ä¢	–ß–µ–∫-–ª–∏—Å—Ç –ø–æ–º–æ–≥–∞–µ—Ç –Ω–µ –∑–∞–±—ã–≤–∞—Ç—å –≤–∞–∂–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏.
üìå –•–æ—Ä–æ—à–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –¥–∞—ë—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —á—É–≤—Å—Ç–≤–æ –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç–∏ –∏ –ø–æ–≤—ã—à–∞–µ—Ç —Ä–µ–π—Ç–∏–Ω–≥ –≤ Web Store.
–ì–ª–∞–≤–∞ 26. –û—Ç–∑—ã–≤—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ —Ä–∞–∑–≤–∏—Ç–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞
________________________________________
26.1. –ü–æ—á–µ–º—É –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å –≤–∞–∂–Ω–∞
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Äî –ª—É—á—à–∏–π —Ç–µ—Å—Ç–∏—Ä–æ–≤—â–∏–∫.
‚Ä¢	–û–Ω –≤—Å–µ–≥–¥–∞ –Ω–∞–π–¥—ë—Ç —Å—Ü–µ–Ω–∞—Ä–∏–π, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–µ –ø—Ä–µ–¥—É—Å–º–∞—Ç—Ä–∏–≤–∞–ª.
‚Ä¢	–û–Ω –ø–µ—Ä–≤—ã–º –∑–∞–º–µ—Ç–∏—Ç –æ—à–∏–±–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ—è–≤–ª—è—é—Ç—Å—è ¬´–≤ —Ä–µ–∞–ª—å–Ω–æ–π –∂–∏–∑–Ω–∏¬ª.
‚Ä¢	–û–Ω –ø–æ–¥—Å–∫–∞–∂–µ—Ç –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏, –æ –∫–æ—Ç–æ—Ä—ã—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –º–æ–≥ –¥–∞–∂–µ –Ω–µ –∑–∞–¥—É–º–∞—Ç—å—Å—è.
üìå –°–∏–ª—å–Ω—ã–π –ø—Ä–æ–¥—É–∫—Ç ‚Äî —ç—Ç–æ –Ω–µ —Ç–æ–ª—å–∫–æ –∫–æ–¥, –Ω–æ –∏ —É–º–µ–Ω–∏–µ —Å–ª—É—à–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.
________________________________________
26.2. –ö–∞–Ω–∞–ª—ã –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏
–î–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —Ç–∏–ø–∞ Visual Bookmarks –Ω–∞–∏–±–æ–ª–µ–µ –≤–∞–∂–Ω—ã:
‚Ä¢	Chrome Web Store: –æ—Ç–∑—ã–≤—ã –∏ —Ä–µ–π—Ç–∏–Ω–≥ ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê.
‚Ä¢	GitHub Issues / Discussions: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –ø–∏—Å–∞—Ç—å –±–∞–≥–∏ –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è.
‚Ä¢	Email / Telegram / Discord (–µ—Å–ª–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ —É–∫–∞–∂–µ—Ç –∫–æ–Ω—Ç–∞–∫—Ç).
‚Ä¢	–í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è —Ñ–æ—Ä–º–∞ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏ –ø—Ä—è–º–æ –≤ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–∏ (–ø—Ä–æ—Å—Ç–∞—è –∫–Ω–æ–ø–∫–∞ ¬´–°–æ–æ–±—â–∏—Ç—å –æ–± –æ—à–∏–±–∫–µ¬ª).
________________________________________
26.3. –¢–∏–ø—ã –æ—Ç–∑—ã–≤–æ–≤
–û—Ç–∑—ã–≤—ã —É—Å–ª–æ–≤–Ω–æ –¥–µ–ª—è—Ç—Å—è –Ω–∞:
1.	–ë–∞–≥-—Ä–µ–ø–æ—Ä—Ç—ã
o	¬´–ü—Ä–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏ –≤–∫–ª–∞–¥–æ–∫ –¥—É–±–ª–∏—Ä—É—é—Ç—Å—è —Å—Ç–∞—Ä—ã–µ¬ª.
o	¬´–¢–µ–º–Ω–∞—è —Ç–µ–º–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ Windows 10¬ª.
2.	–§–∏—á-—Ä–µ–∫–≤–µ—Å—Ç—ã
o	¬´–°–¥–µ–ª–∞–π—Ç–µ —ç–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç –∑–∞–∫–ª–∞–¥–æ–∫¬ª.
o	¬´–î–æ–±–∞–≤—å—Ç–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–∏—Å–∫–∞ –ø–æ –≥—Ä—É–ø–ø–∞–º¬ª.
3.	–û–±—â–µ–µ –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏–µ
o	¬´–û—á–µ–Ω—å –ø–æ–ª–µ–∑–Ω–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ, —Å–ø–∞—Å–∏–±–æ!¬ª
o	¬´–°–ª–∏—à–∫–æ–º —Å–ª–æ–∂–Ω–æ —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è, —Å–¥–µ–ª–∞–π—Ç–µ –ø—Ä–æ—â–µ¬ª.
________________________________________
26.4. –ö–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å
‚Ä¢	–ù–∞ –±–∞–≥-—Ä–µ–ø–æ—Ä—Ç—ã ‚Äî –±—ã—Å—Ç—Ä–æ –æ—Ç–≤–µ—á–∞—Ç—å –∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—É (¬´–°–ø–∞—Å–∏–±–æ, –º—ã –ø—Ä–æ–≤–µ—Ä–∏–º¬ª).
‚Ä¢	–ù–∞ —Ñ–∏—á-—Ä–µ–∫–≤–µ—Å—Ç—ã ‚Äî —Å–æ–±–∏—Ä–∞—Ç—å –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å, –ø–æ—Ç–æ–º –≤—ã–Ω–æ—Å–∏—Ç—å –≤ ¬´–ø–ª–∞–Ω —Ä–∞–∑–≤–∏—Ç–∏—è¬ª.
‚Ä¢	–ù–∞ –ø–æ–∑–∏—Ç–∏–≤–Ω—ã–µ –æ—Ç–∑—ã–≤—ã ‚Äî –±–ª–∞–≥–æ–¥–∞—Ä–∏—Ç—å (—ç—Ç–æ —É–∫—Ä–µ–ø–ª—è–µ—Ç —Å–æ–æ–±—â–µ—Å—Ç–≤–æ).
‚ùå –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π. –î–∞–∂–µ –æ–¥–Ω–æ ¬´—Å–ø–∞—Å–∏–±–æ¬ª –ø–æ–≤—ã—à–∞–µ—Ç –¥–æ–≤–µ—Ä–∏–µ.
________________________________________
26.5. –ü–ª–∞–Ω —Ä–∞–∑–≤–∏—Ç–∏—è –ø—Ä–æ–¥—É–∫—Ç–∞
–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥:
1.	–°–æ—Å—Ç–∞–≤–∏—Ç—å –¥–æ—Ä–æ–∂–Ω—É—é –∫–∞—Ä—Ç—É (roadmap).
o	–Ω–∞–ø—Ä–∏–º–µ—Ä, –±–ª–∏–∂–∞–π—à–∏–µ —Ä–µ–ª–∏–∑—ã:
ÔÇß	v1.2 ‚Üí —ç–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç –∑–∞–∫–ª–∞–¥–æ–∫;
ÔÇß	v1.3 ‚Üí —É–ª—É—á—à–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–º –º–µ–Ω—é;
ÔÇß	v1.4 ‚Üí —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Google Drive.
2.	–†–∞–∑–¥–µ–ª–∏—Ç—å —Ñ–∏—á–∏ –Ω–∞:
o	¬´Must-have¬ª (–±–µ–∑ –Ω–∏—Ö –ø—Ä–æ–¥—É–∫—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç).
o	¬´Nice-to-have¬ª (–ø—Ä–∏—è—Ç–Ω—ã–µ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏—è).
3.	–í—Å–µ–≥–¥–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è ‚Üí changelog.
________________________________________
26.6. –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞
–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É –ø–æ–ª–µ–∑–Ω–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å:
‚Ä¢	—á–∏—Å–ª–æ —É—Å—Ç–∞–Ω–æ–≤–æ–∫;
‚Ä¢	–ø—Ä–æ—Ü–µ–Ω—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π;
‚Ä¢	–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞–≥-—Ä–µ–ø–æ—Ä—Ç–æ–≤ –Ω–∞ –≤–µ—Ä—Å–∏—é;
‚Ä¢	—Ä–µ–π—Ç–∏–Ω–≥ –≤ Chrome Web Store.
üìå –ï—Å–ª–∏ –ø–æ—Å–ª–µ —Ä–µ–ª–∏–∑–∞ –≤—ã—Ä–æ—Å —Ä–µ–π—Ç–∏–Ω–≥ –∏ —Å–Ω–∏–∑–∏–ª–æ—Å—å —á–∏—Å–ª–æ –±–∞–≥–æ–≤ ‚Äî –≤—ã –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø—É—Ç–∏.
________________________________________
26.7. –°–æ–æ–±—â–µ—Å—Ç–≤–æ –≤–æ–∫—Ä—É–≥ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
Visual Bookmarks –º–æ–∂–µ—Ç –≤—ã—Ä–∞—Å—Ç–∏ –∏–∑ –ª–∏—á–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –≤ open-source —Å–æ–æ–±—â–µ—Å—Ç–≤–æ.
‚Ä¢	–ü—Ä–∏–Ω–∏–º–∞—Ç—å pull request‚Äô—ã –æ—Ç –¥—Ä—É–≥–∏—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤.
‚Ä¢	–ü–∏—Å–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –¥–ª—è –Ω–æ–≤–∏—á–∫–æ–≤.
‚Ä¢	–î–µ–ª–∞—Ç—å —Å–∫—Ä–∏–Ω–∫–∞—Å—Ç—ã/–≤–∏–¥–µ–æ –ø–æ —Ä–∞–±–æ—Ç–µ.
‚Ä¢	–°–æ–∑–¥–∞—Ç—å Telegram-—á–∞—Ç –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.
________________________________________
26.8. –ò—Ç–æ–≥
‚Ä¢	–û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å ‚Äî —ç—Ç–æ –∏—Å—Ç–æ—á–Ω–∏–∫ –∏–¥–µ–π –∏ –≥–∞—Ä–∞–Ω—Ç–∏—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏.
‚Ä¢	–ë–∞–≥–∏ –Ω—É–∂–Ω–æ —Ñ–∏–∫—Å–∏—Ç—å –±—ã—Å—Ç—Ä–æ, —Ñ–∏—á–∏ ‚Äî —Å–æ–±–∏—Ä–∞—Ç—å –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å.
‚Ä¢	–î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞ –ø–æ–º–æ–≥–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–≤–∏—Ç–∏–µ.
‚Ä¢	–°–æ–æ–±—â–µ—Å—Ç–≤–æ ‚Äî —ç—Ç–æ —Å–∏–ª–∞, –∫–æ—Ç–æ—Ä–∞—è –¥–≤–∏–≥–∞–µ—Ç –ø—Ä–æ–µ–∫—Ç –≤–ø–µ—Ä—ë–¥.
üìå –í –∏—Ç–æ–≥–µ –ø—Ä–æ–¥—É–∫—Ç —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω–µ —Ç–æ–ª—å–∫–æ –≤–∞—à–∏–º, –∞ ¬´–Ω–∞—Ä–æ–¥–Ω—ã–º¬ª, –∏ –∏–º–µ–Ω–Ω–æ —ç—Ç–æ –¥–µ–ª–∞–µ—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã–º.
–ì–ª–∞–≤–∞ 27. –ü—É–±–ª–∏–∫–∞—Ü–∏—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –≤ Chrome Web Store
________________________________________
27.1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
–ü–µ—Ä–µ–¥ —Ç–µ–º –∫–∞–∫ –∑–∞–≥—Ä—É–∂–∞—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ, –Ω—É–∂–Ω–æ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –æ–Ω–æ:
‚Ä¢	üõ†Ô∏è —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ (–Ω–µ—Ç –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏);
‚Ä¢	üì¶ —Å–æ–±—Ä–∞–Ω–æ –≤ production-—Ä–µ–∂–∏–º–µ (npm run build –∏–ª–∏ vite build);
‚Ä¢	üìù –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π manifest.json:
o	–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –≤–µ—Ä—Å–∏—è ("version": "1.0.0");
o	—É–∫–∞–∑–∞–Ω—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è (permissions);
o	–¥–æ–±–∞–≤–ª–µ–Ω–æ –æ–ø–∏—Å–∞–Ω–∏–µ –∏ –∏–∫–æ–Ω–∫–∏.
–ò–∫–æ–Ω–∫–∏
Google —Ç—Ä–µ–±—É–µ—Ç –Ω–∞–±–æ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:
‚Ä¢	16x16
‚Ä¢	48x48
‚Ä¢	128x128
–§–∞–π–ª –∏–∫–æ–Ω–∫–∏ —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤ manifest.json:
"icons": {
  "16": "icons/icon16.png",
  "48": "icons/icon48.png",
  "128": "icons/icon128.png"
}
________________________________________
27.2. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤ Google
–ß—Ç–æ–±—ã –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è:
1.	–ü–µ—Ä–µ–π—Ç–∏ –≤ Chrome Web Store Developer Dashboard.
2.	–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –∫–∞–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ (—Ä–∞–∑–æ–≤—ã–π –≤–∑–Ω–æ—Å $5).
3.	–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç.
________________________________________
27.3. –°–±–æ—Ä–∫–∞ –ø–∞–∫–µ—Ç–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
–ü–∞–∫–µ—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ .zip —Ñ–æ—Ä–º–∞—Ç–µ.
–î–ª—è –Ω–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞:
cd extension
npm run build
–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –ø–æ—è–≤–∏—Ç—Å—è –ø–∞–ø–∫–∞ dist/.
–°–æ–∑–¥–∞—ë–º –∞—Ä—Ö–∏–≤:
‚Ä¢	Windows:
o	–≤—ã–¥–µ–ª–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ dist/ ‚Üí –ø—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π ‚Üí ¬´–û—Ç–ø—Ä–∞–≤–∏—Ç—å ‚Üí –°–∂–∞—Ç–∞—è ZIP-–ø–∞–ø–∫–∞¬ª.
‚Ä¢	Linux/macOS:
‚Ä¢	zip -r visual-bookmarks.zip dist/*
________________________________________
27.4. –ó–∞–≥—Ä—É–∑–∫–∞ –≤ Web Store
1.	–í–æ–π—Ç–∏ –≤ Developer Dashboard.
2.	–ù–∞–∂–∞—Ç—å –î–æ–±–∞–≤–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç ‚Üí –∑–∞–≥—Ä—É–∑–∏—Ç—å .zip.
3.	–£–∫–∞–∑–∞—Ç—å:
o	–ù–∞–∑–≤–∞–Ω–∏–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è (–¥–æ 45 —Å–∏–º–≤–æ–ª–æ–≤).
o	–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ (–¥–æ 132 —Å–∏–º–≤–æ–ª–æ–≤).
o	–ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ (—Ä–∞–∑–≤—ë—Ä–Ω—É—Ç–æ, —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏).
o	–°–∫—Ä–∏–Ω—à–æ—Ç—ã (–º–∏–Ω–∏–º—É–º 1280√ó800).
o	–í–∏–¥–µ–æ (–ø–æ –∂–µ–ª–∞–Ω–∏—é).
________________________________________
27.5. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—è
Google –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ:
‚Ä¢	–Ω–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (–Ω–µ—Ç –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω–æ–≥–æ –∫–æ–¥–∞, —Å–∫—Ä—ã—Ç—ã—Ö API);
‚Ä¢	–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π;
‚Ä¢	–Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –ø—Ä–∞–≤–∏–ª–∞–º Developer Program Policies.
–û–±—ã—á–Ω–æ –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–Ω–∏–º–∞–µ—Ç 1‚Äì3 –¥–Ω—è.
–ü–æ—Å–ª–µ –æ–¥–æ–±—Ä–µ–Ω–∏—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –¥–æ—Å—Ç—É–ø–Ω—ã–º –≤—Å–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º.
________________________________________
27.6. –û–±–Ω–æ–≤–ª–µ–Ω–∏—è
–ö–æ–≥–¥–∞ –≤—ã—Ö–æ–¥–∏—Ç –Ω–æ–≤–∞—è –≤–µ—Ä—Å–∏—è:
1.	–ü–æ–≤—ã—à–∞–µ–º "version" –≤ manifest.json.
2.	–°–Ω–æ–≤–∞ —Å–æ–±–∏—Ä–∞–µ–º –∏ –∑–∞–≥—Ä—É–∂–∞–µ–º .zip.
3.	Web Store –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–∏—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —É –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.
________________________________________
27.7. –°–æ–≤–µ—Ç—ã –¥–ª—è —É—Å–ø–µ—à–Ω–æ–π –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
‚Ä¢	–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ üì∏ –∫—Ä–∞—Å–∏–≤—ã–µ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã –∏ –∏–∫–æ–Ω–∫–∏ ‚Äî —ç—Ç–æ –ø–æ–≤—ã—à–∞–µ—Ç CTR.
‚Ä¢	–ù–∞–ø–∏—à–∏—Ç–µ –ø—Ä–æ—Å—Ç–æ–µ –∏ –ø–æ–Ω—è—Ç–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ (¬´–£–ø—Ä–∞–≤–ª—è–π—Ç–µ –≤–∫–ª–∞–¥–∫–∞–º–∏ –≤ –≤–∏–¥–µ –¥–µ—Ä–µ–≤–∞¬ª).
‚Ä¢	–î–æ–±–∞–≤—å—Ç–µ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞.
‚Ä¢	–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–π—Ç–µ —Ö–æ—Ä–æ—à—É—é –æ—Ü–µ–Ω–∫—É (–æ—Ç–≤–µ—á–∞–π—Ç–µ –Ω–∞ –æ—Ç–∑—ã–≤—ã).
________________________________________
27.8. –ò—Ç–æ–≥
‚Ä¢	–ü—É–±–ª–∏–∫–∞—Ü–∏—è –≤ Chrome Web Store ‚Äî —ç—Ç–æ –ø–µ—Ä–µ—Ö–æ–¥ –æ—Ç ¬´–ø—Ä–æ–µ–∫—Ç–∞ –¥–ª—è —Å–µ–±—è¬ª –∫ –ø—Ä–æ–¥—É–∫—Ç—É –¥–ª—è —Ç—ã—Å—è—á –ª—é–¥–µ–π.
‚Ä¢	–í–∞–∂–Ω–æ —Å–æ–±–ª—é–¥–∞—Ç—å –ø—Ä–∞–≤–∏–ª–∞ Google –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∫–æ–¥–∞.
‚Ä¢	–û–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ä–µ–≥—É–ª—è—Ä–Ω—ã–º–∏, —Å changelog.
üìå –£—Å–ø–µ—à–Ω—ã–π —Ä–µ–ª–∏–∑ = –Ω–æ–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –Ω–æ–≤—ã–µ –æ—Ç–∑—ã–≤—ã –∏ –Ω–æ–≤–∞—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç
–ì–ª–∞–≤–∞ 28. –ü—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ –∏ –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
________________________________________
28.1. –ü—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ: –∫–∞–∫ –ø—Ä–∏–≤–ª–µ—á—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
–ü—Ä–æ—Å—Ç–æ ¬´–∑–∞–ª–∏—Ç—å¬ª —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –≤ –º–∞–≥–∞–∑–∏–Ω –º–∞–ª–æ ‚Äî —Ç–∞–º —Å–æ—Ç–Ω–∏ —Ç—ã—Å—è—á –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤. –ù—É–∂–Ω–æ –≤—ã–¥–µ–ª—è—Ç—å—Å—è.
1. –ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
‚Ä¢	üé® –ö—Ä–∞—Å–∏–≤—ã–µ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã (1280√ó800).
‚Ä¢	üìù –ö—Ä–∞—Ç–∫–æ–µ, —Ü–µ–ø–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ (¬´–û—Ä–≥–∞–Ω–∏–∑—É–π –≤–∫–ª–∞–¥–∫–∏ –≤ –¥—Ä–µ–≤–æ–≤–∏–¥–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É ‚Äî –∑–∞–±—É–¥—å –æ —Ö–∞–æ—Å–µ!¬ª).
‚Ä¢	üìΩÔ∏è –í–∏–¥–µ–æ-–¥–µ–º–æ (30‚Äì60 —Å–µ–∫—É–Ω–¥).
‚Ä¢	‚≠ê –ü–µ—Ä–≤—ã–µ –æ—Ç–∑—ã–≤—ã (–º–æ–∂–Ω–æ –ø–æ–ø—Ä–æ—Å–∏—Ç—å –¥—Ä—É–∑–µ–π –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å).
2. SEO –¥–ª—è Chrome Web Store
‚Ä¢	–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ –∏ –æ–ø–∏—Å–∞–Ω–∏–∏: ¬´bookmarks¬ª, ¬´tabs manager¬ª, ¬´tree view¬ª.
‚Ä¢	–ù–∞–∑–≤–∞–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∫–æ—Ä–æ—Ç–∫–∏–º, –Ω–æ –∑–∞–ø–æ–º–∏–Ω–∞—é—â–∏–º—Å—è.
3. –í–Ω–µ—à–Ω–µ–µ –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ
‚Ä¢	üåê –°–∞–π—Ç –∏–ª–∏ –ª–µ–Ω–¥–∏–Ω–≥ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è (—Å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π –∏ —Å—Å—ã–ª–∫–æ–π –Ω–∞ —É—Å—Ç–∞–Ω–æ–≤–∫—É).
‚Ä¢	üìπ YouTube-–æ–±–∑–æ—Ä—ã (–∫–æ—Ä–æ—Ç–∫–æ–µ –≤–∏–¥–µ–æ ¬´–∫–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è¬ª).
‚Ä¢	üì¢ –°–æ—Ü—Å–µ—Ç–∏, Reddit, Hacker News, Product Hunt.
‚Ä¢	üì¨ Email-—Ä–∞—Å—Å—ã–ª–∫–∞ –∏–ª–∏ –±–ª–æ–≥ –æ —Ä–∞–∑–≤–∏—Ç–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞.
________________________________________
28.2. –ú–µ—Ç–æ–¥—ã —É–¥–µ—Ä–∂–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚Ä¢	–†–µ–≥—É–ª—è—Ä–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (–∏ changelog).
‚Ä¢	–û—Ç–≤–µ—Ç—ã –Ω–∞ –æ—Ç–∑—ã–≤—ã.
‚Ä¢	–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏ (–æ–Ω–±–æ—Ä–¥–∏–Ω–≥ –ø—Ä–∏ –ø–µ—Ä–≤–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–µ).
‚Ä¢	–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏–∏ (—Ç–µ–º—ã, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–≤–µ–¥–µ–Ω–∏—è).
üìå –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω —á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å: —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∂–∏–≤–æ–µ –∏ —Ä–∞–∑–≤–∏–≤–∞–µ—Ç—Å—è.
________________________________________
28.3. –ú–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è
–ï—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–æ–¥–µ–ª–µ–π:
1. Freemium
‚Ä¢	–ë–∞–∑–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª ‚Äî –±–µ—Å–ø–ª–∞—Ç–Ω–æ.
‚Ä¢	–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —ç–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç, —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ –æ–±–ª–∞–∫–æ) ‚Äî –ø–ª–∞—Ç–Ω–æ.
2. –ü–æ–¥–ø–∏—Å–∫–∞
‚Ä¢	–ú–µ—Å—è—á–Ω–∞—è/–≥–æ–¥–æ–≤–∞—è –ø–æ–¥–ø–∏—Å–∫–∞.
‚Ä¢	–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è ¬´—Å–µ—Ä—å—ë–∑–Ω—ã—Ö¬ª —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, –º–µ–Ω–µ–¥–∂–µ—Ä—ã –∑–∞–¥–∞—á –∏–ª–∏ VPN).
3. –†–∞–∑–æ–≤–∞—è –ø–æ–∫—É–ø–∫–∞
‚Ä¢	–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–ª–∞—Ç–∏—Ç –æ–¥–∏–Ω —Ä–∞–∑ –∏ –ø–æ–ª—É—á–∞–µ—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –Ω–∞–≤—Å–µ–≥–¥–∞.
‚Ä¢	–ú–∏–Ω—É—Å: –º–µ–Ω—å—à–µ —Å—Ç–∞–±–∏–ª—å–Ω–æ–≥–æ –¥–æ—Ö–æ–¥–∞.
4. –î–æ–Ω–∞—Ç—ã –∏ —Å–ø–æ–Ω—Å–æ—Ä—Å—Ç–≤–æ
‚Ä¢	–ö–Ω–æ–ø–∫–∞ ¬´Buy me a coffee¬ª ‚òï.
‚Ä¢	Patreon –∏–ª–∏ GitHub Sponsors.
‚Ä¢	–û—Å–æ–±–µ–Ω–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è open-source –ø—Ä–æ–µ–∫—Ç–æ–≤.
5. B2B-–º–æ–¥–µ–ª—å
‚Ä¢	–ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–º –∫–ª–∏–µ–Ω—Ç–∞–º –∫–∞—Å—Ç–æ–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è.
________________________________________
28.4. –ü—Ä–∞–≤–∏–ª–∞ Google
‚ö†Ô∏è Google –∂—ë—Å—Ç–∫–æ –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫ –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏–∏:
‚Ä¢	–ù–µ–ª—å–∑—è —Å–∫—Ä—ã–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –∑–∞ –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–º paywall.
‚Ä¢	–ù–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±–º–∞–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–∫—Ä—ã—Ç–∞—è —Ä–µ–∫–ª–∞–º–∞).
‚Ä¢	–í—Å–µ –ø–ª–∞—Ç–µ–∂–∏ –¥–æ–ª–∂–Ω—ã –∏–¥—Ç–∏ —á–µ—Ä–µ–∑ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã (Stripe, PayPal –∏ –¥—Ä.).
________________________________________
28.5. –ö–µ–π—Å—ã —É—Å–ø–µ—à–Ω—ã—Ö —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π
‚Ä¢	Tab Manager Plus ‚Üí –±–µ—Å–ø–ª–∞—Ç–Ω–æ–µ, –Ω–æ —Å –¥–æ–Ω–∞—Ç–∞–º–∏ –∏ –±–æ–ª—å—à–∏–º —Å–æ–æ–±—â–µ—Å—Ç–≤–æ–º.
‚Ä¢	Grammarly ‚Üí freemium + –ø–æ–¥–ø–∏—Å–∫–∞ (–æ—Å–Ω–æ–≤–Ω–æ–π –¥–æ—Ö–æ–¥).
‚Ä¢	LastPass ‚Üí freemium, –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç—ã –ø—Ä–∏–Ω–æ—Å—è—Ç –æ—Å–Ω–æ–≤–Ω—É—é –ø—Ä–∏–±—ã–ª—å.
________________________________________
28.6. –ò—Ç–æ–≥
‚Ä¢	–ü—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ –≤–∞–∂–Ω–æ –Ω–µ –º–µ–Ω—å—à–µ, —á–µ–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞.
‚Ä¢	–ú–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø—Ä–æ–∑—Ä–∞—á–Ω–æ–π –∏ —É–¥–æ–±–Ω–æ–π.
‚Ä¢	–°–∞–º—ã–π –Ω–∞–¥—ë–∂–Ω—ã–π –ø—É—Ç—å ‚Äî –Ω–∞—á–∞—Ç—å —Å donations –∏ freemium, –∞ –∑–∞—Ç–µ–º –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É.
–ì–ª–∞–≤–∞ 29. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –∑–∞—â–∏—Ç–∞ –¥–∞–Ω–Ω—ã—Ö
________________________________________
29.1. –ü–æ—á–µ–º—É –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –≤–∞–∂–Ω–∞
‚Ä¢	üåê –†–∞—Å—à–∏—Ä–µ–Ω–∏—è –∏–º–µ—é—Ç –¥–æ—Å—Ç—É–ø –∫ –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü–∞–º –∏ –≤–∫–ª–∞–¥–∫–∞–º ‚Üí –º–æ–≥—É—Ç —á–∏—Ç–∞—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å–∞–π—Ç–æ–≤.
‚Ä¢	üîë –£ –Ω–∏—Ö –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø –∫ cookies –∏ –ª–æ–∫–∞–ª—å–Ω–æ–º—É —Ö—Ä–∞–Ω–∏–ª–∏—â—É.
‚Ä¢	üõ°Ô∏è Google –∂—ë—Å—Ç–∫–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è, —á—Ç–æ–±—ã –æ–Ω–∏ –Ω–µ –Ω–∞—Ä—É—à–∞–ª–∏ –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å.
–í—ã–≤–æ–¥: –∑–∞—â–∏—Ç–∞ –¥–∞–Ω–Ω—ã—Ö ‚Äî —ç—Ç–æ –Ω–µ —Ç–æ–ª—å–∫–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ Google, –Ω–æ –∏ –æ—Å–Ω–æ–≤–∞ –¥–æ–≤–µ—Ä–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.
________________________________________
29.2. –†–∞–∑—Ä–µ—à–µ–Ω–∏—è –≤ manifest.json
–ß–µ–º –º–µ–Ω—å—à–µ –ø—Ä–∞–≤ —Ç—Ä–µ–±—É–µ—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ, —Ç–µ–º –ª—É—á—à–µ.
‚ùå –ü–ª–æ—Ö–æ:
"permissions": ["tabs", "cookies", "history", "storage", "management"]
‚úÖ –•–æ—Ä–æ—à–æ:
"permissions": ["tabs", "storage"]
‚Ä¢	–ó–∞–ø—Ä–∞—à–∏–≤–∞–π —Ç–æ–ª—å–∫–æ —Ç–æ, —á—Ç–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –Ω—É–∂–Ω–æ.
‚Ä¢	–ò—Å–ø–æ–ª—å–∑—É–π "host_permissions" –≤–º–µ—Å—Ç–æ "*://*/*" ‚Äî —è–≤–Ω–æ –ø–µ—Ä–µ—á–∏—Å–ª—è–π —Å–∞–π—Ç—ã.
________________________________________
29.3. –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
–í –Ω–∞—à–µ–º —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ IndexedDB / LocalStorage —á–µ—Ä–µ–∑ sqlStorage.ts.
–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:
‚Ä¢	üîí –ù–µ —Ö—Ä–∞–Ω–∏—Ç—å –ø–∞—Ä–æ–ª–∏ –∏–ª–∏ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã.
‚Ä¢	üì¶ –•—Ä–∞–Ω–∏—Ç—å —Ç–æ–ª—å–∫–æ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–µ—Ä–µ–≤–∞ –∑–∞–∫–ª–∞–¥–æ–∫ –∏ —Å—Å—ã–ª–∫–∏.
‚Ä¢	üîÑ –ü—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ/—ç–∫—Å–ø–æ—Ä—Ç–µ —Ñ–∞–π–ª–æ–≤ –¥–µ–ª–∞—Ç—å —Ñ–æ—Ä–º–∞—Ç JSON –∏ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ.
________________________________________
29.4. –ü–µ—Ä–µ–¥–∞—á–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏
–ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º chrome.runtime.sendMessage –∏ chrome.runtime.onMessage.
–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:
‚Ä¢	–ü—Ä–æ–≤–µ—Ä—è—Ç—å —Ç–∏–ø —Å–æ–æ–±—â–µ–Ω–∏—è (msg.type).
‚Ä¢	–ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–µ —Ç–∏–ø—ã.
‚Ä¢	–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –≤—ã–ø–æ–ª–Ω—è—Ç—å eval –∏–ª–∏ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–π –∫–æ–¥ –∏–∑ —Å–æ–æ–±—â–µ–Ω–∏–π.
________________________________________
29.5. –†–∞–±–æ—Ç–∞ —Å –≤–Ω–µ—à–Ω–∏–º–∏ API
–ï—Å–ª–∏ —Ä–µ—à–∏–º –¥–æ–±–∞–≤–∏—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å Google Drive –∏–ª–∏ Dropbox):
‚Ä¢	–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å OAuth2 (–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ SDK).
‚Ä¢	–•—Ä–∞–Ω–∏—Ç—å —Ç–æ–∫–µ–Ω—ã —Ç–æ–ª—å–∫–æ –≤ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ (chrome.storage.local + Crypto API).
‚Ä¢	–ù–µ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –¥–∞–Ω–Ω—ã–µ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä—ã –±–µ–∑ –≤–µ–¥–æ–º–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
________________________________________
29.6. Manifest V3 –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
Google –≤–≤—ë–ª MV3 –∏–º–µ–Ω–Ω–æ —Ä–∞–¥–∏ –ø–æ–≤—ã—à–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:
‚Ä¢	‚ùå –ù–µ—Ç —Ñ–æ–Ω–æ–≤—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü (background page).
‚Ä¢	‚úÖ –ï—Å—Ç—å —Å–µ—Ä–≤–∏—Å-–≤–æ—Ä–∫–µ—Ä—ã (—Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ –ø–æ –∑–∞–ø—Ä–æ—Å—É).
‚Ä¢	‚õî –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ remote code execution.
‚Ä¢	‚úÖ –ö–æ–Ω—Ç–µ–Ω—Ç-—Å–∫—Ä–∏–ø—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞—Ä–∞–Ω–µ–µ –ø—Ä–æ–ø–∏—Å–∞–Ω—ã –≤ manifest.json.
________________________________________
29.7. Best Practices –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
1.	–ú–∏–Ω–∏–º–∏–∑–∏—Ä—É–π —Å–ø–∏—Å–æ–∫ –ø—Ä–∞–≤ –≤ manifest.json.
2.	–ù–µ –æ—Ç–ø—Ä–∞–≤–ª—è–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –±–µ–∑ —Å–æ–≥–ª–∞—Å–∏—è.
3.	–ò—Å–ø–æ–ª—å–∑—É–π HTTPS –ø—Ä–∏ –ª—é–±–æ–º —Å–µ—Ç–µ–≤–æ–º –∑–∞–ø—Ä–æ—Å–µ.
4.	–î–æ–±–∞–≤—å –≤ README –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–æ–º, –∫–∞–∫–∏–µ –¥–∞–Ω–Ω—ã–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ö—Ä–∞–Ω–∏—Ç.
5.	–ò—Å–ø–æ–ª—å–∑—É–π Content Security Policy (CSP).
–ü—Ä–∏–º–µ—Ä CSP –¥–ª—è MV3:
"content_security_policy": {
  "extension_pages": "script-src 'self'; object-src 'none'"
}
________________________________________
29.8. –†–µ–∞–∫—Ü–∏—è –Ω–∞ –∏–Ω—Ü–∏–¥–µ–Ω—Ç—ã
‚Ä¢	–ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω –±–∞–≥ —Å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é ‚Äî –≤—ã–ø—É—Å—Ç–∏—Ç—å hotfix –∏ –æ–±–Ω–æ–≤–∏—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ.
‚Ä¢	–°–æ–æ–±—â–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö (changelog).
‚Ä¢	–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å (¬´–º—ã –Ω–µ —Å–æ–±–∏—Ä–∞–µ–º –≤–∞—à–∏ –¥–∞–Ω–Ω—ã–µ¬ª).
________________________________________
29.9. –ò—Ç–æ–≥
‚Ä¢	–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å ‚Äî —ç—Ç–æ –¥–æ–≤–µ—Ä–∏–µ.
‚Ä¢	–ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø –∏ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å = —Ö–æ—Ä–æ—à–∏–µ –æ—Ç–∑—ã–≤—ã –∏ –±–æ–ª—å—à–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.
‚Ä¢	Google —Å–∞–º –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è, –Ω–æ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –≤—Å–µ–≥–¥–∞ –Ω–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–µ.
–ì–ª–∞–≤–∞ 30. –ó–∞–∫–ª—é—á–µ–Ω–∏–µ
________________________________________
30.1. –û—Ç –∏–¥–µ–∏ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
Visual Bookmarks –Ω–∞—á–∏–Ω–∞–ª—Å—è –∫–∞–∫ –ø—Ä–æ—Å—Ç–∞—è –º—ã—Å–ª—å:
"–ê —á—Ç–æ, –µ—Å–ª–∏ —Å–¥–µ–ª–∞—Ç—å –¥–µ—Ä–µ–≤–æ –≤–∫–ª–∞–¥–æ–∫ –∏ –∑–∞–∫–ª–∞–¥–æ–∫ –ø—Ä—è–º–æ –≤ Chrome?"
–ú—ã –ø—Ä–æ—à–ª–∏ –ø—É—Ç—å –æ—Ç –∏–¥–µ–∏ –¥–æ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è, —Ä–∞–∑–æ–±—Ä–∞–ª–∏:
‚Ä¢	‚öôÔ∏è –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É (background, React, TypeScript, Chrome API);
‚Ä¢	üì¶ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏ –æ—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º;
‚Ä¢	üñ±Ô∏è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º —á–µ—Ä–µ–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é –∏ –¥–µ—Ä–µ–≤–æ;
‚Ä¢	üîí –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ —Ä–∞–±–æ—Ç—É —Å –ø—Ä–∞–≤–∞–º–∏;
‚Ä¢	üöÄ –ø—É–±–ª–∏–∫–∞—Ü–∏—é –∏ –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ.
________________________________________
30.2. –ß—Ç–æ –º—ã —É–∑–Ω–∞–ª–∏
1.	Chrome Extension ‚Äî —ç—Ç–æ –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.
–£ –Ω–µ–≥–æ –µ—Å—Ç—å —Å–≤–æ–∏ —Ñ–∞–π–ª—ã, API, –º–µ—Ö–∞–Ω–∏–∑–º—ã –æ–±–º–µ–Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏.
2.	Node.js –∏ TypeScript –¥–∞—é—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å—Ç–µ–∫: —Å–±–æ—Ä–∫—É, —Å—Ç—Ä–æ–≥—É—é —Ç–∏–ø–∏–∑–∞—Ü–∏—é, –ø–æ–¥–¥–µ—Ä–∂–∫—É –±–æ–ª—å—à–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤.
3.	React –¥–µ–ª–∞–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —É–¥–æ–±–Ω—ã–º –∏ –≥–∏–±–∫–∏–º.
4.	Chrome API –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –¥–≤–µ—Ä–∏ –∫ —Ä–∞–±–æ—Ç–µ —Å –≤–∫–ª–∞–¥–∫–∞–º–∏, —Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–º –º–µ–Ω—é.
5.	–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å ‚Äî –≥–ª–∞–≤–Ω—ã–π —Ñ–∞–∫—Ç–æ—Ä –¥–æ–≤–µ—Ä–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.
6.	–ü—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ –∏ –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è –Ω–µ –º–µ–Ω–µ–µ –≤–∞–∂–Ω—ã, —á–µ–º —Å–∞–º–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞.
________________________________________
30.3. –¶–µ–Ω–Ω–æ—Å—Ç—å –ø—Ä–æ–µ–∫—Ç–∞
Visual Bookmarks ‚Äî —ç—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ –º–µ–Ω–µ–¥–∂–µ—Ä –≤–∫–ª–∞–¥–æ–∫.
–≠—Ç–æ:
‚Ä¢	üóÇÔ∏è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏;
‚Ä¢	üß† —Å–ø–æ—Å–æ–± —Ä–∞–∑–≥—Ä—É–∑–∏—Ç—å –ø–∞–º—è—Ç—å –∏ —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–∏—Ç—å—Å—è;
‚Ä¢	üåê –ø—Ä–∏–º–µ—Ä —Ç–æ–≥–æ, –∫–∞–∫ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –≤–µ–±-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ (React + TS + Chrome API) –º–æ–≥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –≤–º–µ—Å—Ç–µ.
________________________________________
30.4. –ß—Ç–æ –¥–∞–ª—å—à–µ?
–£ –ª—é–±–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –µ—Å—Ç—å –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ:
‚Ä¢	–î–æ–±–∞–≤–∏—Ç—å –æ–±–ª–∞–∫–æ –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –∑–∞–∫–ª–∞–¥–æ–∫.
‚Ä¢	–ü–æ–¥–¥–µ—Ä–∂–∫–∞ Firefox –∏ Edge (WebExtensions API –ø–æ—á—Ç–∏ –æ–¥–∏–Ω–∞–∫–æ–≤).
‚Ä¢	–≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã —Å AI-–ø–æ–¥—Å–∫–∞–∑–∫–∞–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è –≤–∫–ª–∞–¥–æ–∫).
‚Ä¢	–°–æ–æ–±—â–µ—Å—Ç–≤–æ, –∫–æ—Ç–æ—Ä–æ–µ –±—É–¥–µ—Ç –ø–æ–º–æ–≥–∞—Ç—å —É–ª—É—á—à–∞—Ç—å –ø—Ä–æ–µ–∫—Ç.
________________________________________
30.5. –ó–∞–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ–µ —Å–ª–æ–≤–æ
–ú—ã —Ä–∞–∑–æ–±—Ä–∞–ª–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –¥–æ –≤–∏–Ω—Ç–∏–∫–∞ –∏ —Å–æ–±—Ä–∞–ª–∏ –æ–±—Ä–∞—Ç–Ω–æ.
–¢–µ–ø–µ—Ä—å —É –≤–∞—Å –µ—Å—Ç—å:
‚Ä¢	–ø–æ–Ω–∏–º–∞–Ω–∏–µ, –∫–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω –≤–µ—Å—å —Å—Ç–µ–∫;
‚Ä¢	–∑–Ω–∞–Ω–∏–µ, –∫–∞–∫ –ø–∏—Å–∞—Ç—å —Å–≤–æ—ë —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ;
‚Ä¢	–±–∞–∑–∞, —á—Ç–æ–±—ã —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ —Ä–∞–∑–≤–∏–≤–∞—Ç—å—Å—è.
–í –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏ –Ω–µ—Ç —Ñ–∏–Ω–∞–ª—å–Ω—ã—Ö —Ç–æ—á–µ–∫. –ï—Å—Ç—å —Ç–æ–ª—å–∫–æ –Ω–æ–≤—ã–µ –≤–µ—Ç–∫–∏ —Ä–∞–∑–≤–∏—Ç–∏—è.
Visual Bookmarks ‚Äî —ç—Ç–æ –≤—Å–µ–≥–æ –ª–∏—à—å –æ–¥–Ω–∞ –∏–∑ –Ω–∏—Ö. –í–æ–∑–º–æ–∂–Ω–æ, –≤–∞—à —Å–ª–µ–¥—É—é—â–∏–π –ø—Ä–æ–µ–∫—Ç —Å—Ç–∞–Ω–µ—Ç –µ—â—ë –ª—É—á—à–µ.
